swagger: '2.0'
info:
  version: '1'
  title: Rubrik REST API
  description: "\nCopyright \xA9 2017 Rubrik Inc. [Legal](#section/Legal)\n\n# Introduction\n\
    \nWelcome to the Rubrik\u2122 REST API documentation.\n\nThe Rubrik REST API provides\
    \ a RESTful interface for working with Rubrik clusters and Rubrik Edge virtual\
    \ appliances. The Rubrik REST API can be used to query, configure, and control\
    \ nearly all of the operations of the Rubrik software.\n\nThrough authenticated\
    \ and encrypted interaction with the Rubrik REST API server, perform any of the\
    \ operations that are available through the Rubrik web UI and many bulk-type operations\
    \ that might otherwise be difficult or impossible to perform.\n\nThis documentation\
    \ provides reference information and examples of typical workflows for the Rubrik\
    \ REST API. For more detailed information about working with Rubrik clusters and\
    \ Rubrik Edge virtual appliances refer to the *Rubrik User Guide*.\n\nA quick\
    \ way to become familiar with the Rubrik REST API, is to use the Rubrik REST API\
    \ Explorer. [OpenAPI](#section/OpenAPI) describes this tool.\n\nRefer to the [changelog](#section/Changelog)\
    \ to see information about changes within this version of the Rubrik REST API.\n\
    \n# Changelog\n\n Revisions are listed with the most recent revision first.\n\n\
    \ ### Changes to V1 API in Rubrik version 4.0.0\n\n New features:\n * Added a\
    \ new field 'name' on GET /sla_domain. This allows users to search\n   SLA Domains\
    \ by name. Users can also sort the SLA Domain summary results\n   in ascending/descending\
    \ order by name\n * The Rubrik cluster generates a unique ID for each virtual\
    \ machine when a\n   vCenter Server is added. When a virtual machine changes to\
    \ another vCenter\n   Server or unregisters and registers with the same vCenter\
    \ Server, a new\n   unique ID is generated for that virtual machine. When this\
    \ happens, the\n   virtual machine object associated with the original ID becomes\
    \ a relic.\n   In this release we have added the option conflictResolutionAuthz\
    \ to\n   add/edit vCenter endpoints of the Rubrik REST APIs. This option can take\n\
    \   either 'AllowAutoConflictResolution' to authorize the linking of relic\n \
    \  virtual machine objects with the current virtual machine object of a\n   specific\
    \ virtual machine, and makes the collective snapshot history\n   available through\
    \ the current object. Or it can take 'NoConflictResolution'\n   to not allow linking.\
    \ Default value is 'NoConflictResolution'.\n * Introduced endpoints for SQL Server\
    \ Live Mounts: POST /mssql/db/{id}/mount,\n   GET /mssql/db/mount, GET /mssql/db/mount/{id},\
    \ and\n   DELETE /mssql/db/mount/{id}. These allow users to create, query for,\
    \ and\n   delete Live Mounts for SQL Server databases.\n * Added the isLiveMount\
    \ field to the response of GET /mssql/db. Added an\n   optional is_live_mount\
    \ query parameter to filter by this field.\n * Added links field to the paginated\
    \ responses of\n   GET /vmware/vm, /vmware/vm/mount and /fileset endpoints. This\
    \ allows users to navigate between pages by following the href in links.prev and\
    \ links.next.\n * Introduced optional caCerts parameter for the vCenter post/put/patch\n\
    \   endpoints to specify trusted CA certs to use when connecting to a vCenter\n\
    \   server and associated ESX hosts.\n * Modified PATCH /mssql/instance/{id} endpoint\
    \ to support SQL db\n   auto-protection, added fields configuredSlaDomainId,\n\
    \   logBackupFrequencyInSeconds, logRetentionHours, and copyOnly to the PATCH\n\
    \   request, as well as configuredSlaDomainId, configuredSlaDomainName,\n   logBackupFrequencyInSeconds,\
    \ logRetentionHours, and copyOnly to the GET and\n   PATCH responses.\n * Added\
    \ GET /vmware/vcenter/{id} endpoint to allow fetching details of a\n   single\
    \ vCenter server, including its refresh and delete status.\n * Introduced optional\
    \ parameter keepMacAddresses to\n   POST /vmware/vm/snapshot/{id}/mount, /vmware/vm/snapshot/{id}/export,\
    \ and\n   /v1/vmware/vm/snapshot/{id}/instant_recovery endpints.\n   This allows\
    \ new VMs to have the same MAC address as their source VMs.\n * Introduced optional\
    \ parameters offset and limit to support\n   pagination for Browse end-point.\n\
    \ * Added a field 'cloudInstantiationSpec' on GET /vmware/vm and PATCH\n /v1/vmware/vm/{id}\
    \ to allow enabling/disabling/updating specs for automatic\n   conversion to cloud\
    \ image on a per VM basis\n\n\n\n ### Changes to V1 API in Rubrik version 3.2.0\n\
    \n New features:\n * Added an option to preserve the virtual machine moid during\
    \ instant recovery.\n   Use this option cautiously. It will permanently overwrite\
    \ the source\n   virtual machine. The source virtual machine cannot be recovered\
    \ if the\n   operation fails. It will not create a new virtual machine and rename\n\
    \   the original one so we could fall back to the original in case of a failure\n\
    \   in the process. This is not exposed in the Web UI and the API user should\n\
    \   be careful to not destroy the original virtual machine by accident.\n * Introduced\
    \ shareId into /fileset endpoints to support\n   the creation of filesets based\
    \ on network shares.\n * Introduced optional config parameter for all on demand\n\
    \   snapshot endpoints. The config parameter includes an optional slaId field.\n\
    \   The policies of the specified SLA Domain determine the retention of backups\n\
    \   on the local Rubrik cluster, the retention target, and the archival location.\n\
    \ * Introduced optional parameters to endpoint /mssql/db/{id}/export,\n   so that\
    \ physical filenames and logical filenames can be changed\n   for exported databases.\
    \ These two parameters are newFilename and\n   newLogicalName.\n * Introduced\
    \ optional config parameter for the VM patch endpoint\n   (PATCH /vmware/vm/{id})\
    \ to specify a guest credential for a\n   specific VM.\n * Introduced optional\
    \ query parameters to endpoint /host, to\n   support infix searching by hostname\
    \ and sort order of results.\n * Introduced slaId and slaName field to all snapshot\
    \ summary/details object.\n   These fields specify the SLA Domain object that\
    \ is associated with the\n   snapshot.\n\nBug Fixes:\n * Made path parameter required\
    \ in GET /fileset/snapshot/{id}/browse\n   and GET /vmware/vm/snapshot/{id}/browse.\
    \ Previously, an error was\n   thrown when path wasn't passed in. This solves\
    \ that bug.\n\n ### Changes to V1 API in Rubrik version 3.1.0\n Initial GA release\n\
    \n# Overview #\nThe Rubrik REST API provides a means to work with Rubrik clusters\
    \ and Rubrik Edge virtual appliances using text-based representations of the resource\
    \ objects that are managed by the Rubrik software.\n\nIn its simplest form, the\
    \ RESTful architecture used by the Rubrik REST API has the following workflow:\n\
    1. Client authenticates with the Rubrik REST API server and starts a session.\n\
    2. Client sends an HTTP request to the URI for a resource object.\n3. Server handles\
    \ the request and sends an HTTP response with a JSON formatted response body.\n\
    \nThis overview section provides a basic description of the HTTP requests and\
    \ responses used with the Rubrik REST API. The [Authentication](#section/Authentication)\
    \ section provides information about how a client authenticates with the Rubrik\
    \ REST API server.\n\n## Documentation conventions\n\nThe descriptions in this\
    \ documentation use 'Rubrik cluster' to refer to both Rubrik clusters and Rubrik\
    \ Edge virtual appliances.\n\nThe documentation uses a dollar symbol to indicate\
    \ a variable in body text and code samples. Some examples:\n* `$cluster_address`\
    \ to represent a Rubrik cluster IP or resolvable host name\n* `$snapshot_id` to\
    \ represent the ID of a specific snapshot\n* `$request_id` to represent the ID\
    \ of a specific asynchronous request\n\nTo shorten the path shown in a code sample,\
    \ the documentation sometimes replaces a longer variable form with the variable\
    \ form `{id}`. This variable form represents the `id` value for an associated\
    \ member string in a response body or request URL.\n\nThe documentation use the\
    \ term 'snappable' to refer to all objects that have data that can be protected\
    \ by a Rubrik cluster or a Rubrik Edge appliance. For example, all of the following\
    \ are 'snappables':\n* Virtual machines\n* File systems\n* SQL Server databases\n\
    \n## Versioning\n\nThe Rubrik REST API structures the request URL to include the\
    \ version of the API. This ensures that backwards incompatible improvements in\
    \ a new version are not unintentionally used with an earlier version of the API.\n\
    \nThe URL of a request includes a segment that identifies the version of the API.\
    \ In the URL, the version segment always follows immediately after the Rubrik\
    \ REST API server name or IPv4 address.\n\nFor example, for a Rubrik cluster with\
    \ the server address `$cluster_address` a request to the cluster endpoint for\
    \ Rubrik REST API v1 would look like this:\n`https://$cluster_address/api/v1/cluster`\n\
    \nIn this URL, the `v1` represents the version number for Rubrik REST API v1.\n\
    \nThe Rubrik REST API increments the version number when the new version includes\
    \ a change that is not backward compatible.\n\nExamples of changes that are not\
    \ backward compatible include:\n* Resource type removed\n* Required parameter\
    \ added to an existing resource type\n* Required parameter removed from an existing\
    \ resource type\n* Renamed resource or parameter\n* Authentication requirement\
    \ added for a previously unauthenticated resource\n\nWhen the Rubrik REST API\
    \ has changes that are not backward compatible, those changes appear in a new\
    \ version. For example, incompatible changes to v1 appear in v2. The Rubrik REST\
    \ API server makes v2 endpoints available on the path: `https://$cluster_address/api/v2/`.\
    \ The Rubrik REST API server continues to provide the v1 endpoints on the path:\
    \ `https://$cluster_address/api/v1/`.\n\n### Changes within a version\n\nBackward\
    \ compatible changes can be added to the Rubrik REST API as part of an update\
    \ of the Rubrik CDM software on a Rubrik cluster or Rubrik Edge appliance. When\
    \ this occurs, the version number remains the same and the URL segment that identifies\
    \ the API version does not change. The [Changelog](#section/Changelog) that is\
    \ provided in the docs for each version of the Rubrik REST API describes the changes\
    \ that are made within that version.\n\nExamples of backward compatible changes\
    \ include:\n* New API resource added\n* New optional request parameters added\
    \ to existing resources\n* New properties added to existing responses\n\n## Architecture\n\
    \nThe Rubrik REST API architecture centers around logical entities called *resource\
    \ objects*. Resource objects can be discrete entities or can contain a hierarchy\
    \ of other, dependent, resource objects. A dependent, or child, resource object\
    \ is referenced through the parent object.\n\nFor example, a virtualization environment\
    \ is a resource object that contains virtual machines as child resource objects.\
    \ The virtual machines, in turn, contain snapshots as child resource objects.\
    \ To address this hierarchy, the path to a snapshot must include the parent objects.\n\
    As shown here those parent objects are the virtualization environment (`vmware`)\
    \ and the virtual machine (`vm`): `/vmware/vm/snapshot`.\n\nWhen a request addresses\
    \ a specific resource object the path must include the  `id` of that specific\
    \ object.\n\nFor example, to address a specific snapshot with the `id` value of\
    \ `123-456` the path would be: `/vmware/vm/snapshot/123-456`.\n\nThe full URL\
    \ for the request would be: `https://$cluster_address/api/v1/vmware/vm/snapshot/123-456`\n\
    \nThe path in this example points to a specific snapshot with the `id` value of\
    \ `123-456`.\n\nThe `id` is an opaque value which is generated by the Rubrik REST\
    \ API. It does not follow any specific format.\n\n### API base path\n\nEach endpoint\
    \ in the Rubrik REST API exists on one of two possible base paths:\n* `https://$cluster_address/api/v1/`\n\
    * `https://$cluster_address/api/internal/`\n\nThe `/api/v1` base path provides\
    \ the most commonly used endpoints. Rubrik considers these endpoints to be stable.\
    \ Rubrik designs new releases of the Rubrik REST API to provide as much backward\
    \ compatibility for these endpoints as possible. After an upgrade to a new version\
    \ of the Rubrik CDM software, or to a new version of the Rubrik REST API, existing\
    \ calls to endpoints on the `/api/v1` base path will normally continue to work.\n\
    \nThe primary purpose of the `/api/internal` base path is to provide endpoints\
    \ that are used by the Rubrik cluster. These endpoints are *internal* in the sense\
    \ that the Rubrik CDM software uses them to provide a wide variety of cloud data\
    \ management features. The evolution and improvement of the Rubrik CDM software\
    \ can cause changes to these endpoints, removal of these endpoints, or addition\
    \ of new `/api/internal` endpoints. Rubrik does not attempt to make the `/api/internal`\
    \ endpoints backward compatible.\n\n### Requests\n\nTo perform a task, the Rubrik\
    \ REST API uses an HTTP request. Most requests perform one of these actions:\n\
    * Get an instance of an object from a list\n* Add an instance of an object to\
    \ a list\n* Perform an operation on an object using the `id` of the object.\n\n\
    The following table describes the HTTP method and endpoint excerpts for some typical\
    \ HTTP requests.\n\n**Note:** The endpoints shown here would be appended to the\
    \ base URL: `https://$cluster_address/vmware`.\n\n| Method | Endpoint | Description\
    \ |\n| ------ | --- | ----------- |\n| GET | `/vm/snapshot` | Returns a list of\
    \ snapshots. |\n| POST | `/vm/snapshot` | Creates a new snapshot resource object.\
    \ |\n| GET | `/vm/snapshot/{id}` | Returns information about the snapshot that\
    \ is identified by `id`. |\n| PATCH | `/vm/snapshot/mount/{id}` | Changes the\
    \ power status of the mounted snapshot that is identified by `id`. |\n| PUT |\
    \ `/vcenter/{id}` | Provides a request body with a complete update of the properties\
    \ of the vCenter Server object that is identified by `id`. |\n| DELETE | `/vm/snapshot/{id}`\
    \ | Deletes the snapshot that is identified by `id`. |\n| GET | `/vm/{id}/missed_snapshot`\
    \ | Returns the value of `missed_snapshot` for a snapshot that is identified by\
    \ `id`. |\n| POST | `/vm/snapshot/{id}/mount` | Performs a `mount` operation using\
    \ the snapshot that is identified by `id`. |\n\n#### Reserved ID alias\n\nThe\
    \ alias `me` can be used with some endpoints as a shorthand replacement for the\
    \ current, or local, value of that resource object type. For example, for the\
    \ resource object type `/cluster` the alias `me` can be substituted for the `id`\
    \ of the Rubrik cluster that is hosting the current session. For the resource\
    \ object type `/session` the alias `me` can be substituted for the `id` of the\
    \ current session.\n\nIn filters, use the alias `local` to refer to the Rubrik\
    \ cluster that is hosting the current session.\n\n#### Timestamp\n\nThe Rubrik\
    \ REST API uses a timestamp to express all time values. The timestamp meets the\
    \ standards of ISO 8601 and uses Coordinated Universal Time (UTC). Timestamps\
    \ take the form: YYYY-MM-DDTHH:MM:SSZ, with YYYY for the four digit year value,\
    \ MM for the two digit month value, DD for the two digit day of the month value,\
    \ HH for the two digit hour value using a 24-hour clock, MM for the two digit\
    \ minute value, and SS for the two digit second value. The T stands for time and\
    \ the Z stands for Zulu time, another name for UTC.\n\n**Example:** Timestamp\
    \ in a JSON-formatted response body\n\n```bash\n{\n  \"createdTimestamp\": \"\
    2016-02-11T18:02:24Z\"\n}\n```\n\n### Responses\n\nThe Rubrik REST API server\
    \ responds to all requests by sending an HTTP response message. The response contains\
    \ a status code and, when appropriate, a JSON object in the response body.\n\n\
    #### Status codes\n\nThe Rubrik REST API server includes an HTTP status code with\
    \ every response. The following table describes the status codes supported by\
    \ the Rubrik REST API server.\n\n| Status code | Description |\n| -----------\
    \ | ----------- |\n| 200&nbsp;OK | Request succeeded. Not used for a DELETE request,\
    \ or for a POST request that creates a resource. |\n| 201&nbsp;Created | POST\
    \ request to create a resource object succeeded. |\n| 202&nbsp;Accepted | Request\
    \ was successfully accepted for further processing. |\n| 204&nbsp;No&nbsp;Content\
    \ | Request succeeded and the response body is empty. Used for successful DELETE\
    \ requests and for successful POST requests that do not return content. |\n| 400&nbsp;Bad&nbsp;Request\
    \ | Request failed because it was malformed. The request may be garbled, or it\
    \ may be missing required parameters. |\n| 401&nbsp;Unauthorized | The requestor\
    \ has insufficient authorization to perform the requested action. |\n| 403&nbsp;Forbidden\
    \ | The requested action is blocked in the current context. |\n| 404&nbsp;Not&nbsp;Found\
    \ | The request references a resource object that is unknown to the Rubrik REST\
    \ API server. |\n| 415&nbsp;Unsupported Media Type | The HTTP header of the request\
    \ specifies a media type that is not supported by the Rubrik REST API server.\
    \ |\n| 422&nbsp;Unprocessable Entity | The request specifies a correct media type\
    \ and contains correct syntax but cannot be processed because of semantical errors.\
    \ |\n| 500&nbsp;Internal Server Error | The Rubrik REST API server encountered\
    \ an unhandled error. |\n| 503&nbsp;Service Unavailable Error | The Rubrik REST\
    \ API server is temporarily unavailable. |\n\n#### Response body\n\nThe JSON object\
    \ included in a response body can contain members (`{string : value}`) and arrays\
    \ (`[elements]`). Also, members and arrays can be nested within members and arrays.\n\
    \nWhen a response includes a resource object, the object always includes an `id`\
    \ member in the form `id : $id`. The value of the `id` member is the unique ID\
    \ of the resource.\n\nWhen a response includes a large array (or list) of elements,\
    \ the Rubrik REST API server encloses the array in a `ListResponse` structure.\
    \ The `ListResponse` structure breaks a lengthy array into 'pages' of information\
    \ to make the information easier to manage. Refer to 'Working with lists' for\
    \ information about managing arrays with large numbers of values.\n\n#### Status\
    \ code 400 responses\n\nThe Rubrik REST API server sends a response containing\
    \ the HTTP status code '400 Bad Request' when the server cannot process the request.\
    \ This can be caused by malformed request syntax, invalid request message framing,\
    \ or deceptive request routing.\n\nThe Rubrik REST API server returns a '400 Bad\
    \ Request' when:\n* Request does not conform with the format specified in OpenAPI\
    \ definition files. For example, the request is missing required fields.\n* Request\
    \ is malformed. For example, the request has a malformed `id`.\n* Request contains\
    \ unsupported `enum` values.\n\n#### Status code 422 responses\n\nThe Rubrik REST\
    \ API server sends a response containing the HTTP status code '422 Unproccessable\
    \ entity' when the request is syntactically correct but has semantic errors.\n\
    \nFor example, when a request refers to an archival location that is not available.\
    \ Although the request is properly formed, the Rubrik REST API server cannot act\
    \ on the request because of the missing archival location, and the server returns\
    \ '422 Unproccessable entity'.\n\nThe Rubrik REST API server also returns '422\
    \ Unproccessable entity' when invalid credentials are submitted during login.\
    \ In that situation, the request may be correctly formed but the action cannot\
    \ be completed by using the supplied values.\n\nThe following table describes\
    \ the members of a '422 Unproccessable entity' response object.\n\n| Member |\
    \ Optional | Description |\n| ------ | --- | ----------- |\n| `type` | No | Error\
    \ category. Possible values include: vcenter_error, oracle_error, rubrik_error\
    \ |\n| `message` | No | Plain text explanation of the cause of the error. |\n\
    | `code` | Yes | A short text string representing the cause of the error. |\n\
    | `param` | Yes | The request member that is the source of the error, such as\
    \ `backup_window`. |\n\n## Working with lists\n\nWhen a request returns a large\
    \ list of elements, the response array can be encapsulated within a `ListResponse`\
    \ object. The `ListResponse` object is a pagination structure for the elements\
    \ in the response array. The `ListResponse` object allows the response array to\
    \ be addressed through smaller subsets of the array, or 'pages'.\n\nTo work with\
    \ a `ListResponse` object, form a request that calls for a specific page of the\
    \ results by specifying an offset value and a limit. The response includes the\
    \ elements from the list starting at the offset value and continuing to the limit.\
    \ When the limit is very large, or unspecified, the Rubrik REST API server returns\
    \ as many elements as can be handled by the available memory.\n\nThe `ListResponse`\
    \ object consists of the members described in the following table.\n\n| Member\
    \ | Optional | Description |\n| ------ | --- | ----------- |\n| `hasMore` | No\
    \ | Indicates whether the array contains elements that are not provided by the\
    \ current response. `true` if more elements are available for the original request\
    \ and `false` if the last element is in the current response. |\n| `data` | No\
    \ | An array of the requested elements. Can be all or some of the elements requested.\
    \ The elements can be members, arrays, or objects. |\n| `total` | Yes | Total\
    \ number of elements. |\n| `links` | Yes | When `hasMore` is true, provides a\
    \ request URL for the next page of results. When appropriate, also provides a\
    \ request URL for the previous page of results. The request URLs provided by `links`\
    \ retain the query parameters from the original request. For example, a request\
    \ URL would retain a value specified by `limit` and a value specified by `search`.\
    \ The exception to this is the value specified by `offset`, which the Rubrik REST\
    \ API server uses to specify next and previous pages. |\n\nControl the contents\
    \ of a `ListResponse` object by including the following optional query parameters\
    \ with the original request:\n* `limit`\nDefines the maximum number of a elements\
    \ to include in the `data` array of the response. Available memory may prevent\
    \ the return of all elements for very large `limit` values. When that occurs,\
    \ the response includes `\"hasMore\": true`.\n* `offset`\nIndex reference point\
    \ to use when determining the elements to include in a response. Include the next\
    \ element after the index number specified by `offset`. The default value is `0`,\
    \ which means the list page that is provided in the response starts with first\
    \ element in the list.\n\nFor example, if the total number of elements in response\
    \ to a query are 100, and the request includes the following query parameters:\
    \ `limit=10` and `offset=30`, then the response will include a list page with\
    \ elements 31-40.\n\nWhen the `ListResponse` object provides `next` and `prev`,\
    \ use the URL specified by `next` to request the next page of elements or use\
    \ the URL specified by `prev` to request the previous page of elements.\n\n**Example:**\
    \ Request for all snapshots from a Rubrik cluster\n\nThe initial request uses\
    \ the query parameter `limit=1`.\n\n```bash\ncurl -X GET \"https://$cluster_address/api/v1/vmware/vm/snapshot?limit=1\"\
    \n```\n\nThe response returns the first element and `\"hasMore\": true` indicates\
    \ that more than one snapshot meets the request.\n\n```bash\n{\n  \"hasMore\"\
    : true,\n  \"status\": \"RUNNING\",\n  \"data\": [\n    {\n      \"id\": \"1\"\
    ,\n      \"name\": \"Windows2012\"\n    }\n  ],\n  \"links\": {\n    \"next\"\
    : {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vm/snapshot?limit=1&offset=1\"\
    \n    }\n  }\n}\n\n```\n\nTo obtain the next element, the request is reissued\
    \ with the query parameters set to: `limit=1&offset=1`. This could also be achieved\
    \ by using the URL specified by `next` to request the next page.\n\n```bash\n\
    curl -X GET \"https://$cluster_address/api/v1/vmware/vm/snapshot?limit=1&offset=1\"\
    \n```\n\nThe response returns the second element in the array. Since there are\
    \ elements before and after the element in the response, the `links` member contains\
    \ both a `next` request URL and a `prev` request URL.\n\n```bash\n{\n  \"hasMore\"\
    : false,\n  \"status\": \"RUNNING\",\n  \"data\": [\n    {\n      \"id\": \"2\"\
    ,\n      \"name\": \"Windows2016\"\n    }\n  ],\n  \"links\": {\n    \"prev\"\
    : {\n       \"href\": \"https://$cluster_address/api/v1/vmware/vm/snapshot?limit=1&offset=0\"\
    ,\n      \"rel\": \"prev\"\n    },\n    \"next\": {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vm/snapshot?limit=1&offset=2\"\
    ,\n      \"rel\": \"next\"\n    }\n  }\n}\n```\n\n## Asynchronous requests\n\n\
    The Rubrik REST API server uses asynchronous (async) API requests for tasks that\
    \ take longer to run. By using async requests the Rubrik REST API server avoids\
    \ blocking the requestor from performing other tasks while the async tasks run.\n\
    \nThe response to an async request includes a task object in the response body.\
    \ The following table describes the members of a task object.\n\n| Member | Optional\
    \ | Description |\n| ------ | --- | ----------- |\n| `id` | No |  ID assigned\
    \ to the task.  |\n| `status` | No |  Status of the task: 'RUNNING', 'SUCCEEDED',\
    \ 'CANCELLED', or 'FAILED'.   |\n| `error` | No | Message describing reason for\
    \ cancelled or failed task, or 'None'. |\n| `startTime` | Yes | Timestamp when\
    \ the Rubrik cluster schedules the task. |\n| `endTime` | Yes | Timestamp when\
    \ the task ends. |\n| `progress` | Yes | Percentage of the task that is complete.\
    \ |\n| `links` | No | Polling request array that provides information about how\
    \ to poll the task. |\n\nThe following table describes the polling request array\
    \ in the `links` member.\n\n| Member | Optional | Description |\n| ------ | ---\
    \ | ----------- |\n| `href` | No | URL to send requests to when polling the task.\
    \ |\n| `rel` | No | Provides a value of 'self' to indicate that the array refers\
    \ to the resource represented by the parent JSON object. |\n\nWhen an async task\
    \ is completed the Rubrik REST API server adds a second array to the `links` member\
    \ in the response that is sent. The second array provides information about how\
    \ to request the result of the async task.\n\nThe following table describes the\
    \ results array in the `links` member.\n\n| Member | Optional | Description |\n\
    | ------ | --- | ----------- |\n| `href` | No | URL to send a request to for the\
    \ result of the task. |\n| `rel` | No | Provides a value of 'result' to indicate\
    \ that the array refers to the resource represented by the parent JSON object.\
    \ |\n\n**Example:** Starting a mount task and polling the task status\n\nTo initiate\
    \ a mount operation, send a POST request to the mount endpoint. Include an object\
    \ containing the details of the snapshot.\n\n```bash\ncurl -X POST \"https://$cluster_address/api/v1/vmware/vm/snapshot/$snapshot_id/mount\"\
    \n```\n\nThe Rubrik REST API server returns a task object for the mount operation.\
    \ The task object describes the task status as 'RUNNING' and provides the `links`\
    \ member which contains the polling request array.\n\n```bash\n{\n  \"id\": \"\
    $request_id\",\n  \"status\": \"RUNNING\",\n  \"links\": [\n    {\n      \"href\"\
    : \"https://$cluster_address/api/v1/vmware/vm/request/$request_id\",\n      \"\
    rel\": \"self\"\n    }\n  ]\n}\n```\n\nUsing the information provided in the task\
    \ object, send a GET request to poll the task status.\n\n```bash\ncurl -X GET\
    \ \"https://$cluster_address/api/v1/vmware/vm/request/$request_id\"\n```\n\n```bash\n\
    {\n  \"id\": \"$request_id\",\n  \"status\": \"RUNNING\",\n  \"error\": \"None\"\
    ,\n  \"links\": [\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vm/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ]\n}\n```\n\nContinue to poll the task object\
    \ until the status changes to 'SUCCEEDED'.\n\n```bash\ncurl -X GET \"https://$cluster_address/api/v1/vmware/vm/request/$request_id\"\
    \n```\n\nWhen the task object status changes to 'SUCCEEDED', the `links` member\
    \ of the request includes a results array that provides a URL for the task results.\n\
    \n```bash\n{\n  \"id\": \"$request_id\",\n  \"status\": \"SUCCEEDED\",\n  \"error\"\
    : \"None\",\n  \"links\": [\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vm/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    },\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vm/$mounted_vm_id\"\
    ,\n      \"rel\": \"result\"\n    }\n  ]\n}\n```\n\n# OpenAPI\nThe Rubrik REST\
    \ API specification conforms to the OpenAPI 2.0 Specification. Tools that work\
    \ with the OpenAPI 2.0 Specification can be used with the Rubrik REST API specification.\n\
    \nDevelopment releases (pre-1.0) of the Rubrik REST API specification made reference\
    \ to 'swagger'. The previous release of the OpenAPI 2.0 Specification was named\
    \ the Swagger 1.2 Specification.\n\nDownload the Rubrik REST API specification\
    \ for your tools. [Download](./api-docs)\n\n## Rubrik REST API Explorer\nThe Rubrik\
    \ REST API Explorer is a browser-based API client hosted by the Rubrik cluster.\
    \ The Explorer has the Rubrik REST API specification built in. You can use the\
    \ Explorer to try out Rubrik REST API calls and view the responses.\n\n**IMPORTANT:**\
    \ The Explorer interacts with the Rubrik cluster through the API calls you make.\
    \ Use care when making calls that modify or delete configurations and data.\n\n\
    To access the Rubrik REST API Explorer, click: [Rubrik REST API Explorer](./playground/)\n\
    \n# Authentication\n\nThe Rubrik REST API server requires that all API calls use\
    \ the HTTPS protocol.\nTo meet the security requirements of that protocol, the\
    \ Rubrik REST API server uses a self-signed certificate.\nA self-signed certificate\
    \ cannot be validated through a Certificate Authority. Client tools must be configured\
    \ to ignore the certificate validation error.\n\nThe Rubrik REST API server requires\
    \ authentication and authorization for each API call, except calls made to the\
    \ following endpoints:\n\n* [/cluster/me/version](#operation/getClusterVersion)\n\
    * [/cluster/me/api_version](#operation/getClusterApiVersion)\n\nRubrik REST API\
    \ server authenticates a session using either of the following methods:\n\n* BasicAuth\n\
    * Token\n\nFor both methods, the Rubrik REST API server requires that you use\
    \ an existing username/password for the Rubrik cluster.\n\n## BasicAuth authentication\n\
    \nBasicAuth authentication uses the HTTP Basic Authentication method and requires\
    \ you to include the user credentials with each API call. Since each API call\
    \ made using the BasicAuth method is separately authenticated, you do not need\
    \ to manage the session state. You also do not need to log out of a session, since\
    \ this method does not create a session.\n\nTo use the BasicAuth method, provide\
    \ the user credentials in the 'Authorization' header of an API call.\n\nUse the\
    \ string `Basic` followed by the Base64 encoding of `<username:password>`as the\
    \ user credentials, where `<username:password>` is the username for an Admin account\
    \ on the host Rubrik cluster, a colon, and the account password.\n\n**Example:**\
    \ Using curl to retrieve a session ID\n\nThis example uses the local Admin username\
    \ 'admin' and the password 'pass' to retrieve: a session ID, the Rubrik server\
    \ software version, and the API version.\n\nThe curl command shown here takes\
    \ `<username:password>`, adds 'Basic ' to the string, and Base64 encodes the result.\n\
    \n The command includes the following arguments:\n * `-k` to bypass an alert about\
    \ the self-signed certificate\n * `-u` to flag the `<username:password>` string\n\
    \ * `-X` to flag the HTTP method `GET`\n\n```bash\ncurl -k -u admin:pass -X GET\
    \ \"https://$cluster_address/api/v1/cluster/me\"\n```\nThe Rubrik REST API server\
    \ returns the following response body.\n```bash\n{\n  \"id\": \"$cluster_id\"\
    ,\n  \"version\": \"3.1.0\",\n  \"apiVersion\": \"1.0\"\n}\n```\n\n\n## Token\
    \ authentication\n\nToken authentication creates a token at the beginning of a\
    \ session and then uses that token to authenticate the API calls that are made\
    \ during the session.\nThe token remains valid for the session - normally 30 minutes\
    \ after the last activity.\nYou can close a session and invalidate the session\
    \ token at any time by making a DELETE call to `/session/{id}` where `{id}` is\
    \ the session ID or `me` for the current session ID.\n\n**Example:** Token authentication\
    \ in a session\n\nThis example uses the local Admin username 'admin' and the password\
    \ 'pass'. To open a session, first use the [BasicAuth](#section/BasicAuth) method\
    \ to authenticate a POST call to [/session](#operation/createSession).\n```bash\n\
    curl -k -u admin:pass -X POST \"https://$cluster_address/api/v1/session\"\n```\n\
    The response body includes an array with the session token.\n\n```bash\n{\n  \"\
    id\": \"$session_id\",\n  \"token\": \"$token_id\",\n  \"userId\": \"$user_id\"\
    \n}\n```\nFor all subsequent calls during the session, include the token in the\
    \ Authorization header using the form: `Authorization: Bearer $token_id` where\
    \ `$token_id` is the value of the `token` member from the response array.\n\n\
    In this curl command, the GET request to [/cluster](#operation/getPublicClusterInfo)\
    \ uses `-H` to provide the `Authorization: Bearer $token_id` value.\n\n```bash\n\
    curl -k -H \"Authorization: Bearer $token_id\" -X GET \"https://$cluster_address/api/v1/cluster/me\"\
    \n```\nThe response body contains an array with the session ID, the Rubrik cluster\
    \ software version, and the API version.\n\n```bash\n{\n  \"id\": \"$cluster_id\"\
    ,\n  \"version\": \"3.1.0\",\n  \"apiVersion\": \"1.0\"\n}\n```\nTo close the\
    \ session and invalidate the session token, make a DELETE call to [/session](#operation/deleteSession)\
    \ using the value of the `id` key or use `me`. The alias `me` represents the session\
    \ specified in the Authorization header.\n\n```bash\ncurl -k -H \"Authorization:\
    \ Bearer $token_id\" -X DELETE \"https://$cluster_address/api/v1/session/me\"\n\
    ```\n\n# SLA Domains\n\nRubrik clusters provide automated data management and\
    \ protection through SLA Domains.\nAn SLA Domain defines the data management and\
    \ protection policies for their assigned snappables (virtual machines, file systems,\
    \ and applications).\n\nTo provide policy based management and protection of a\
    \ snappable, add the snappable to an SLA Domain, or to multiple SLA Domains.\n\
    \n## Retrieving SLA Domains\n\nBefore assigning snappables to SLA Domains, get\
    \ a list of the SLA Domains that exist on a Rubrik cluster. For a new Rubrik cluster,\
    \ the list shows only the default SLA Domains. When custom SLA Domains are added\
    \ to the Rubrik cluster, the list is modified to include those SLA Domains.\n\n\
    **Example:** Retrieving SLA Domains from a Rubrik cluster\n\nSend a GET request\
    \ to [`/sla_domain`](#operation/querySlaDomain).\n\n```bash\ncurl -X GET \"https://$cluster_address/api/v1/sla_domain\"\
    \n```\n\nThe Rubrik REST API server returns a `ListResponse` object of all SLA\
    \ Domains.\nAt a minimum, the `ListResponse` object includes the default SLA Domains:\
    \ Gold, Silver, and Bronze.\n\n```bash\n{\n  \"data\": [\n    {\n      \"id\"\
    : \"$gold_sla_id\",\n      \"name\": \"Gold\"\n    },\n    {\n      \"id\": \"\
    $silver_sla_id\",\n      \"name\": \"Silver\"\n    },\n    {\n      \"id\": \"\
    $bronze_sla_id\",\n      \"name\": \"Bronze\"\n    }\n  ],\n  \"hasMore\": false,\n\
    \  \"total\": 3\n}\n```\n\nTo obtain more details about a specific SLA domain\
    \ send a GET request with the `id` of one of the SLA Domains to the `/sla_domain/{id}`\
    \ endpoint:  [`/sla_domain/{id}`](#operation/getSlaDomain)\n\n```bash\ncurl -X\
    \ GET \"https://$cluster_address/api/v1/sla_domain/$bronze_sla_id\"\n```\nThe\
    \ Rubrik REST API server responds with the details of the specified SLA Domain.\n\
    \n```bash\n{\n  \"id\": \"$bronze_sla_id\",\n  \"primaryClusterId\": \"$cluster_id\"\
    ,\n  \"name\": \"Bronze\",\n  \"frequencies\": [\n    {\n      \"timeUnit\": \"\
    Daily\",\n      \"frequency\": 1,\n      \"retention\": 32\n    },\n    {\n  \
    \    \"timeUnit\": \"Monthly\",\n      \"frequency\": 1,\n      \"retention\"\
    : 12\n    },\n    {\n      \"timeUnit\": \"Yearly\",\n      \"frequency\": 1,\n\
    \      \"retention\": 2\n    }\n  ],\n  \"allowedBackupWindows\": [],\n  \"firstFullAllowedBackupWindows\"\
    : [],\n  \"archivalSpecs\": [],\n  \"replicationSpecs\": [\n    {\n      \"locationId\"\
    : \"$repl_location_id\",\n      \"retentionLimit\": 0\n    }\n  ],\n  \"numDbs\"\
    : 0,\n  \"numFilesets\": 7,\n  \"numLinuxHosts\": 3,\n  \"numWindowsHosts\": 2,\n\
    \  \"numVms\": 1,\n  \"isDefault\": false,\n  \"uiColor\": \"#cc8366\"\n}\n```\n\
    \n## Working with SLA Domains\n\nTo work with an SLA Domain, obtain the `id` of\
    \ that SLA Domain. As described in [Retrieving SLA Domains](#section/SLA-Domains/Retrieving-SLA-Domains),\
    \ start by sending a GET request to [`/sla_domain`](#operation/querySlaDomain).\n\
    \nThe Rubrik REST API server responds with a `ListResponse` object that contains\
    \ all of the SLA Domains on the specfied Rubrik cluster. From that list object,\
    \ find the data array element that has the `name` value of the selected SLA Domain.\
    \ In the same array element as the `name` value, note the value of the `id` string.\n\
    \n## Creating SLA Domains\n\nTo create an SLA domain send a POST request to [`/sla_domain`](#operation/createSlaDomain).\
    \ Include the attributes for the SLA Domain in the request body.\n\nThe following\
    \ table describes the required and optional attributes to include in the request\
    \ body when creating an SLA Domain.\n\n| Attribute | Req'd | JSON Type | Description\
    \ |\n| ------ | --- | ----- | ----------- |\n| `name` | Yes | String | Name of\
    \ the SLA Domain.  |\n| `frequencies` | Yes | Array | Each member defines a policy\
    \ by specifying: `timeUnit`, `frequency`, and `retention`. Requires at least one\
    \ member in the array.  |\n| `allowedBackupWindows` | Yes | Array | Each member\
    \ defines a period when backups are allowed by specifying: `startTimeAttributes`\
    \ and `durationInHours`. Several backup windows can be specified by adding an\
    \ array member for each one. Create an SLA Domain without a backup window by specifying\
    \ a null array value: `[]`.  |\n| `firstFullAllowedBackupWindows` | Yes | Array\
    \ | Each member defines a period when first full backups are allowed by specifying:\
    \ `startTimeAttributes` and `durationInHours`. Several first full backup windows\
    \ can be specified by adding an array member for each one. Create an SLA Domain\
    \ without a first full backup window by specifying a null array value: `[]`. \
    \ |\n| `localRetentionLimit` | No | String | Specify an integer value to set the\
    \ number of days to retain a local copy of a snapshot. When an archival location\
    \ is specified, specify `0` to enable Instant Archiving. |\n| `archivalSpecs`\
    \ | No | Array | Defines the archival location for the SLA Domain by specifying:\
    \ `locationId` and `archivalThreshold`. Currently limited to one array member.\
    \ |\n| `replicationSpecs` | No | Array | Defines the replication location for\
    \ the SLA Domain by specifying: `locationId` and `retentionLimit`. Currently limited\
    \ to one array member. |\n\n**Example:** Creating an SLA Domain for daily backups\n\
    \nCreate an SLA Domain that takes a backup once a day and retains the backup for\
    \ seven days. Do not set a backup window or a first full backup window. Do not\
    \ include archival or replication.\n\n```bash\ncurl -X POST \\\n  -d '{\n  \"\
    name\": \"Daily SLA\",\n  \"frequencies\": [\n    {\n      \"timeUnit\": \"Day\"\
    ,\n      \"frequency\": 1,\n      \"retention\": 7\n    }\n  ],\n  \"allowedBackupWindows\"\
    : [],\n  \"firstFullAllowedBackupWindows\": [] }' \\\n  \"https://$cluster_address/api/v1/sla_domain\"\
    \n```\nThe response confirms the attributes of the SLA Domain and provides the\
    \ `id` of the new SLA Domain.\n\n```bash\n{\n  \"id\": \"$sla_id\",\n  \"name\"\
    : \"Daily SLA\",\n  \"frequencies\": [\n    {\n      \"timeUnit\": \"Day\",\n\
    \      \"frequency\": 1,\n      \"retention\": 7\n    }\n  ],\n  \"allowedBackupWindows\"\
    : [],\n  \"firstFullAllowedBackupWindows\": []\n}\n```\n## Modifying SLA Domains\n\
    \nTo modify the attributes of an SLA domain send a PUT request to [`/sla_domain/{id}`](#operation/updateSlaDomain).\
    \ Include in the request body the new attributes.\n\n**Example:** Modifying the\
    \ daily backup SLA Domain\n\nChange the SLA Domain that was created in [Creating\
    \ SLA Domains](#section/SLA-Domains/Creating-SLA-Domains) to increase the retention\
    \ to 14 days.\n\n```bash\ncurl -X PUT \\\n  -d '{\n  \"name\": \"Daily SLA\",\n\
    \  \"frequencies\": [\n    {\n      \"timeUnit\": \"Day\",\n      \"frequency\"\
    : 1,\n      \"retention\": 14\n    }\n  ],\n  \"allowedBackupWindows\": [],\n\
    \  \"firstFullAllowedBackupWindows\": [] }' \\\n  \"https://$cluster_address/api/v1/sla_domain/$sla_id\"\
    \n```\nThe response confirms the new attribute.\n\n```bash\n{\n  \"id\": \"$sla_id\"\
    ,\n  \"name\": \"Daily SLA\",\n  \"frequencies\": [\n    {\n      \"timeUnit\"\
    : \"Day\",\n      \"frequency\": 1,\n      \"retention\": 14\n    }\n  ],\n  \"\
    allowedBackupWindows\": [],\n  \"firstFullAllowedBackupWindows\": []\n}\n```\n\
    ## Patching SLA Domains\n\nTo patch the attributes of an SLA domain, send a PATCH\
    \ request to\n[`/sla_domain/{id}`](#operation/patchSlaDomain). Include in the\
    \ request body\nonly the attributes that needs to be patched.\n\n**Example:**\
    \ Patching the daily backup SLA Domain\n\nPatch the SLA Domain that was created\
    \ in [Creating SLA Domains]\n(#section/SLA-Domains/Creating-SLA-Domains) to change\
    \ the archival\nspecifications.\n\n```bash\ncurl -X PATCH \\\n  -d '{\n  \"archivalSpecs\"\
    : [\n    {\n        \"locationId\": \"some-valid-archived-location-id\",\n   \
    \     \"archivalThreshold\": 14\n    }\n  ]}' \\\n  \"https://$cluster_address/api/v1/sla_domain/$sla_id\"\
    \n```\nThe response confirms the new attribute and also includes the other\nattributes\
    \ that were not changed.\n\n```bash\n{\n  \"id\": \"$sla_id\",\n  \"name\": \"\
    Daily SLA\",\n  \"frequencies\": [\n    {\n      \"timeUnit\": \"Day\",\n    \
    \  \"frequency\": 1,\n      \"retention\": 7\n    }\n  ],\n  \"archivalSpecs\"\
    : [\n    {\n      \"locationId\": \"some-valid-archived-location-id\",\n     \
    \ \"archivalThreshold\": 14\n    }\n  ],\n  \"allowedBackupWindows\": [],\n  \"\
    firstFullAllowedBackupWindows\": []\n}\n```\n## Deleting SLA Domains\n\nTo delete\
    \ an SLA domain send a DELETE request to [`/sla_domain/{id}`](#operation/deleteSlaDomain).\n\
    \n**Example:** Deleting an SLA Domain\n\nDelete an SLA Domain with the `id` of\
    \ `$sla_id`.\n\n```bash\ncurl -X DELETE \"https://$cluster_address/api/v1/sla_domain/$sla_id\"\
    \n```\nThe Rubrik REST API server responds with HTTP response code 204. This indicates\
    \ the request succeeded and the response body is empty.\n\n## Inherited protection\n\
    \nThe Rubrik REST API uses the reserved value `INHERIT` with the `configuredSlaDomainId`\
    \ string to identify a snappable that derives its protection policy from a parent\
    \ object. Examples of this:\n* VMware virtual machine inherits from vCenter Server\n\
    * SQL Server database inherits from SQL Server instance\n\nEvery snappable that\
    \ can be protected through an SLA Domain is represented by an object that has\
    \ a `configuredSlaDomainId` attribute and an `effectiveSlaDomainId` attribute.\
    \ The `configuredSlaDomainId` attribute contains either the value of a direct\
    \ SLA Domain assignment or the reserved value `INHERIT`.\n\nThe `effectiveSlaDomainId`\
    \ attribute contains the value of the SLA Domain setting that the Rubrik cluster\
    \ actually applies to the snappable. When the value of the `configuredSlaDomainId`\
    \ attribute is `INHERIT`, the value of the `effectiveSlaDomainId` attribute is\
    \ derived from a parent object of the snappable. In all other cases, the value\
    \ of the `effectiveSlaDomainId` attribute is the same as the value of the `configuredSlaDomainId`\
    \ attribute.\n\n\n## SLA Domain assignments\n\nTo assign a snappable to an SLA\
    \ Domain, use the endpoint that is provided for that type of snappable.\n* VMware\
    \ virtual machines  \nSend a PATCH request to  [`/vmware/vm/{id}`](#operation/updateVm).\
    \ [VMware virtual machines](#section/VMware-virtual-machines) provides more information\
    \ about this.\n* Linux or Windows filesets  \nSend a PATCH request to  [`/fileset/{id}`](#operation/updateFileset).\
    \ [Filesets](#section/Filesets) provides more information about this.\n* SQL Server\
    \ databases  \nSend a PATCH request to  [`/mssql/db/{id}`](#operation/updateMssqlDb).\
    \ [SQL Server databases](#section/SQL-Server-databases) provides more information\
    \ about this.\n\n# Virtual machines\n\nThe Rubrik cluster protects virtual machines\
    \ running in a VMware vSphere environment. The Rubrik cluster uses the *VMware\
    \ vSphere Storage APIs \u2013 Data Protection* (VADP) to interact with objects\
    \ in the vSphere environment. In most cases, the Rubrik cluster works through\
    \ the vCenter Servers of the environment. For some tasks, the Rubrik cluster can\
    \ work directly with a VMware ESXi hypervisor.\n\n## vCenter servers\n\nA Rubrik\
    \ cluster normally protects and manages virtual machines through the vCenter Server\
    \ that administers those virtual machines. After a vCenter server is added to\
    \ a Rubrik cluster, the Rubrik cluster automatically discovers the virtual machines\
    \ that are administered by that vCenter server.\n\n### Retrieving vCenter Servers\n\
    \nRequest a list of the vCenter servers that are registered with a Rubrik cluster\
    \ by sending a GET request to  [`/vmware/vcenter`](#operation/queryVcenter).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/vmware/vcenter\"\
    \n```\n\nThe Rubrik REST API server responds with the first page of a `ListResponse`\
    \ object.\n\n```bash\n{\n  \"hasMore\": false,\n  \"data\": [\n    {\n      \"\
    id\": \"$vcenter_id0\",\n      \"hostname\": \"$vcenter_address0\",\n      \"\
    username\": \"$vcenter_admin0\",\n      \"configuredSlaDomainId\": \"INHERIT\"\
    ,\n      \"primaryClusterId\": \"$cluster_id\",\n      \"caCerts\": \"$ca_certs0\"\
    \n    },\n    {\n      \"id\": \"$vcenter_id1\",\n      \"hostname\": \"$vcenter_address1\"\
    ,\n      \"username\": \"$vcenter_admin1\",\n      \"configuredSlaDomainId\":\
    \ \"INHERIT\",\n      \"primaryClusterId\": \"$cluster_id\",\n      \"caCerts\"\
    : \"$ca_certs1\"\n    }\n  ],\n  \"total\": 2\n}\n```\nDepending on the number\
    \ of registered vCenter Servers, all of the entries on the list may not be included\
    \ on the first page. [Working with lists](#section/Overview/Working-with-lists)\
    \ describes how to work with a ListResponse object to obtain additional pages\
    \ of the list.\n\n\n### Adding a vCenter server\n\nTo add a vCenter server, send\
    \ a POST request to [`/vmware/vcenter`](#operation/createVcenter).\nInclude in\
    \ the body of the request the address of the vCenter server and credentials for\
    \ a user account (`username`) that has the required permissions. The Rubrik User\
    \ Guide provides details about creating an account with the required permissions.\n\
    \n```bash\ncurl -X POST \\\n  -d '{\n    \"hostname\": \"$vcenter_address\",\n\
    \    \"username\": \"$vcenter_admin\",\n    \"password\": \"$vcenter_password\"\
    \ }' \\\n  \"https://$cluster_address/api/v1/vmware/vcenter\"\n```\n\nThe Rubrik\
    \ REST API server initiates the asynchronous request task and responds with a\
    \ task object.\n\n```bash\n{\n  \"id\": \"$request_id\",\n  \"status\": \"RUNNING\"\
    ,\n  \"error\": \"None\",\n  \"progress\": \"$request_progress\"\n  \"links\"\
    : [\n    {\n      href: \"https://$cluster_address/api/v1/vmware/vcenter/request/$request_id\"\
    ,\n      rel: \"self\"\n    }\n  ]\n}\n```\n\nUsing the information provided in\
    \ the task object, send a GET request to the [`/vmware/vcenter/request/{id}`](#operation/getVcenterAsyncRequestStatus)\
    \ endpoint to poll the task status. When the value of `status` in the task object\
    \ is `SUCCEEDED`, the task finished successfully.\n\n### Retrieve vCenter Server\
    \ details\nGet the details for a vCenter Server that is registered with a Rubrik\
    \ cluster by sending a GET request to [`/vmware/vcenter/{id}`](#operation/getVcenter).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/vmware/vcenter/{id}\"\
    \n```\n\nThe Rubrik REST API server responds with the details of the specified\
    \ vCenter Server object.\n\n```bash\n{\n  \"id\": \"$id\",\n  \"hostname\": \"\
    $vcenter_address0\",\n  \"username\": \"$vcenter_admin0\",\n  \"configuredSlaDomainId\"\
    : \"INHERIT\",\n  \"primaryClusterId\": \"$cluster_id\"\n}\n```\n\n### Modifying\
    \ a vCenter Server entry\n\nTo change the information that a Rubrik cluster stores\
    \ for a vCenter Server, send a PUT request to [`/vmware/vcenter/{id}`](#operation/updateVcenter).\
    \ All of the members of the `VcenterConfig` object must be in the PUT request.\
    \ Using the new values, include in the body of the PUT request each member (`{string\
    \ : value}`) of the `VcenterConfig` object:\n* `\"hostname\": \"$vcenter_address\"\
    `\n* `\"username\": \"$vcenter_admin\"`\n* `\"password\": \"$vcenter_password\"\
    `\n\nTo change the configured SLA that is configured for a vCenter Server or to\
    \ change CA certificates for the vCenter, send a PATCH request to[`/vmware/vcenter/{id}`](#operation/patchVcenter).\n\
    \n```bash\ncurl -X PUT \\\n  -d '{\n    \"hostname\": \"$vcenter_address\",\n\
    \    \"username\": \"$vcenter_admin\",\n    \"password\": \"$vcenter_password\"\
    \ }' \\\n  \"https://$cluster_address/api/v1/vmware/vcenter/$vcenter_id\"\n```\n\
    \nThe Rubrik REST API server sends a response, with the updated details of the\
    \ vCenter Server entry in the response body.\n\n```bash\n{\n  \"id\": \"$vcenter_id\"\
    ,\n  \"hostname\": \"$vcenter_address\",\n  \"username\": \"$vcenter_admin\",\n\
    \  \"configuredSlaDomainId\": \"INHERIT\",\n  \"primaryClusterId\": \"$cluster_id\"\
    ,\n  \"caCerts\": \"$ca_certs\"\n}\n```\n### Removing a vCenter Server entry\n\
    \nTo remove a vCenter Server entry from a Rubrik cluster, first unmount any Live\
    \ Mount and Instant Recovery virtual machines for the vCenter Server. Then send\
    \ a DELETE request to [`/vmware/vcenter/{id}`](#operation/deleteVcenter).\n\n\
    ```bash\ncurl -X DELETE \\\n  \"https://$cluster_address/api/v1/vmware/vcenter/$vcenter_id\"\
    \n```\nThe Rubrik REST API server initiates the asynchronous delete task and responds\
    \ with a task object.\n\n```bash\n{\n    \"id\": \"$request_id\",\n    \"status\"\
    : \"RUNNING\",\n    \"error\": \"None\",\n    \"progress\": 0,\n    \"startTime\"\
    : \"$start_timestamp\",\n    \"endTime\": \"$end_timestamp\",\n    \"links\":\
    \ [\n      {\n        \"href\": \"https://$cluster_address/api/v1/vmware/vcenter/request/$request_id\"\
    ,\n        \"rel\": \"self\"\n      }\n    ]\n  }\n```\nUsing the information\
    \ provided in the task object, send a GET request to poll the task status. When\
    \ the value of `status` in the task object is `SUCCEEDED`, the removal of the\
    \ vCenter Server object finished successfully.\n\n\n\n### Metadata refresh\n\n\
    The Rubrik cluster regularly refreshes the metadata of the registered vCenter\
    \ Servers. As part of a refresh operation, the Rubrik cluster discovers any changes\
    \ or additions to the virtual machines that are administered by the vCenter Servers.\
    \ Instead of waiting for a regular refresh, a metadata refresh can be manually\
    \ initiated by sending a POST request to [`/vmware/vm/refresh`](#operation/createRefresh),\
    \ using the Rubrik cluster ID (`$cluster_address`) and the vCenter Server ID (`$vcenter_id`).\n\
    \n```bash\ncurl -X POST \\\n  \"https://$cluster_address/api/v1/vmware/vcenter/$vcenter_id/refresh\"\
    \n```\n\nThe Rubrik REST API server initiates the asynchronous request task and\
    \ responds with a task object.\n\n```bash\n{\n  \"id\": \"$request_id\",\n  \"\
    status\": \"RUNNING\",\n  \"error\": \"None\",\n  \"links\": [\n    {\n      \"\
    href\": \"https://$cluster_address/api/v1/vmware/vcenter/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ]\n}\n```\n\nUsing the information provided\
    \ in the task object, send a GET request to poll the task status. When the value\
    \ of `status` in the task object is `SUCCEEDED`, the metadata refresh completed\
    \ successfully.\n\n## ESXi hypervisors\n\nRetrieve a list of all available ESXi\
    \ hypervisors in the vSphere environment by sending a GET request to [`/vmware/host`](#operation/queryVmwareHost).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/vmware/host?primary_cluster_id=$cluster_id\"\
    \n```\nThe value of `primary_cluster_id` is the `id` of a Rubrik cluster. Use\
    \ `local` to retrieve a list for the Rubrik cluster that is hosting the current\
    \ session.\n\nThe Rubrik REST API server responds with the first page of a `ListResponse`\
    \ object.\n\n**Note:** To shorten the example, the response uses ellipsis to replace\
    \ some members.\n\n```bash\n{\n  \"hasMore\": false,\n  \"data\": [\n    {\n \
    \     \"id\": \"$esxi_id\",\n      \"name\": \"$esxi_name\",\n      \"datacenterId\"\
    : \"$datacenter_id\",\n      \"computeClusterId\": \"$compute_cluster_id\",\n\
    \      \"datastores\": [\n      ...\n      ],\n      \"configuredSlaDomainId\"\
    : \"INHERIT\",\n      \"primaryClusterId\": \"$cluster_id\"\n    }\n    ],\n \
    \ \"total\": 1\n}\n```\n\nRetrieve more details for an ESXi hypervisor by sending\
    \ a GET request to [`/vmware/host/{id}`](#operation/getVmwareHost)\n\n```bash\n\
    curl -X POST \\\n  \"https://$cluster_address/api/v1/vmware/host/$esxi_id\"\n\
    ```\n\nThe Rubrik REST API server responds with the details for the specified\
    \ ESXi hypervisor.\n\n**Note:** To shorten the example, the response uses ellipsis\
    \ to replace some members.\n\n```bash\n{\n  \"id\": \"$esxi_id\",\n  \"moid\"\
    : \"$moid\",\n  \"name\": \"$esxi_name\",\n  \"computeClusterId\": \"$compute_cluster_id\"\
    ,\n  \"datacenter\": {\n    \"id\": \"$datacenter_id\",\n    \"name\": \"$datacenter_name\"\
    ,\n    \"vcenterId\": \"$vcenter_id\",\n    \"configuredSlaDomainId\": \"INHERIT\"\
    ,\n    \"primaryClusterId\": \"$cluster_id\"\n  },\n  \"datastores\": [\n    ...\n\
    \  ],\n  \"virtualMachines\": [\n    ...\n  ],\n  \"configuredSlaDomainId\": \"\
    INHERIT\",\n  \"primaryClusterId\": \"$cluster_id\"\n}\n```\n\nAdditionally, To\
    \ change the SLA Domain that is configured for an ESXi hypervisor, send a PATCH\
    \ request on [`/vmware/host`](#operation/updateVmwareHost)\n\n```bash\ncurl -X\
    \ POST \\\n  \"https://$cluster_address/api/v1/vmware/host/$snapshot_id\"\n```\n\
    \n## Virtual machine protection\n\nAfter a vCenter Server is registered, the Rubrik\
    \ cluster acquires metadata for the virtual machines that are administered through\
    \ that vCenter Server. Using the metadata, assign Rubrik cluster protection to\
    \ the virtual machines.\n\nThe typical protection workflow involves the following\
    \ tasks:\n1. Find the virtual machine resource object.\n2. (Optional) Enable scripts\
    \ on the virtual machine.\n3. (Optional) Exclude specified vmdk files for the\
    \ virtual machine.\n4. Assign the virtual machine to an SLA Domain.\n\n### Finding\
    \ virtual machines\nGet a list of the virtual machine objects known to the Rubrik\
    \ cluster by sending a GET request to [`/vmware/vm`](#operation/queryVm). The\
    \ Rubrik REST API server returns a response that includes a `ListResponse` object.\
    \ Use query parameters as part of the GET request, to filter the list and to work\
    \ with the `ListResponse` object.\n\nA GET request that is sent to the [`/vmware/vm`](#operation/queryVm)\
    \ endpoint accepts the query parameters that are described in the following table.\n\
    | Parameter | Description |\n| --------- | ----------- |\n| `effective_sla_domain_id`\
    \ | SLA Domain applied to the virtual machine, either directly or derived. Use\
    \ `UNPROTECTED` for virtual machines that do not have a derived or direct SLA\
    \ Domain. |\n| `primary_cluster_id` | The `id` of the primary Rubrik cluster for\
    \ the virtual machine. Use `local` for the Rubrik cluster that is hosting the\
    \ Rubrik REST API session. |\n| `limit` | Maximum number of a elements to include\
    \ in the `data` array of the response. |\n| `offset` | Index reference point to\
    \ use when determining the elements to include in the response. |\n| `is_relic`\
    \ | Relic status of the virtual machine. `true` to specify only relic virtual\
    \ machines. `false` to exclude relic virtual machines. Do not include the parameter\
    \ to include both relic and non-relic virtual machines. |\n| `name` | String value\
    \ to match in any part of the name of a virtual machine.  |\n| `sla_assignment`\
    \ | SLA Domain assignment status of the virtual machine. Use `derived` for virtual\
    \ machines that derive protection status from another resource object. Use `direct`\
    \ for virtual machines that have a directly assigned SLA Domain. Use `unassigned`\
    \ for virtual machines that do not have a direct or derived SLA Domain. |\n| `sort_by`\
    \ | Perform an ASCII sort of the elements in the `ListResponse` object data array\
    \ by a specified object value: `effective_sla_domain_id`, `name`, `folderPath`,\
    \ or `infraPath`. |\n| sort_order | Sort order for the elements in the ListResponse\
    \ object data array. Use `asc` for ascending sort or `desc` for descending sort.\
    \ |\n\n\n**Example:** Retrieving a list of virtual machine resource objects\n\n\
    Retrieve a list of unprotected virtual machine resource objects that have 'test'\
    \ in their name. Limit the first page of the response to the first object.\n\n\
    ```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/vmware/vm?effective_sla_domain_id=UNPROTECTED&limit=1&offset=0&name=test\"\
    \n```\nThe Rubrik REST API server responds with a `ListResponse` object. The first\
    \ page has the first object of the 156 objects that matched the query parameters.\n\
    \n**Note:** To shorten the example, the response uses ellipsis to replace some\
    \ members.\n\n```bash\n{\n  \"hasMore\": true,\n  \"data\": [\n    {\n      \"\
    id\": \"$vm_id\",\n      \"moid\": \"$vm_moid\",\n      \"name\": \"abctest123\"\
    ,\n      \"vcenterId\": \"$vcenter_id\",\n      \"hostName\": \"$esxi_host_name\"\
    ,\n      \"hostId\": \"$esxi_host_id\",\n      \"clusterName\": \"$vcenter_cluster_name\"\
    ,\n      \"powerStatus\": \"poweredOn\",\n      \"configuredSlaDomainId\": \"\
    INHERIT\",\n      \"configuredSlaDomainName\": \"Inherit\",\n      \"effectiveSlaDomainId\"\
    : \"UNPROTECTED\",\n      \"effectiveSlaDomainName\": \"Unprotected\",\n     \
    \ \"slaAssignment\": \"Unassigned\",\n      \"ipAddress\": \"$vm_ip\",\n     \
    \ \"toolsInstalled\": true,\n      \"primaryClusterId\": \"$cluster_id\",\n  \
    \    \"isReplicationEnabled\": false,\n      \"folderPath\": [\n        ...\n\
    \      ],\n      \"infraPath\": [\n        ...\n      ],\n      \"vmwareToolsInstalled\"\
    : true,\n      \"isRelic\": false,\n      \"maxNestedVsphereSnapshots\": -1,\n\
    \      \"snapshotConsistencyMandate\": \"UNKNOWN\",\n      \"physicalStorage\"\
    : 0,\n      \"guestCredentialAuthorizationStatus\": \"PENDING\"\n    }\n  ],\n\
    \  \"total\": 156\n}\n```\n\n### Retrieving more details for a virtual machine\n\
    To get detailed information for a specified virtual machine object, send a GET\
    \ request to [`/vmware/vm/{id}`](#operation/getVm).\n\n```bash\ncurl -X GET \\\
    \n  \"https://$cluster_address/api/v1/vmware/vm/$vm_id\"\n```\nThe Rubrik REST\
    \ API server responds with the details for the virtual machine object.\n\n**Note:**\
    \ To shorten the example, the response uses ellipsis to replace some members.\n\
    \n```bash\n{\n  \"id\": \"$vm_id\",\n  \"moid\": \"$vm_moid\",\n  \"name\": \"\
    abctest123\",\n  \"powerStatus\": \"poweredOn\",\n  \"configuredSlaDomainId\"\
    : \"INHERIT\",\n  \"effectiveSlaDomain\": {\n    ...\n  },\n  \"slaAssignment\"\
    : \"Unassigned\",\n  \"blackoutWindowStatus\": {\n    \"isGlobalBlackoutActive\"\
    : false,\n    \"isSnappableBlackoutActive\": false\n  },\n  \"blackoutWindows\"\
    : {\n    ...\n    ],\n    \"snappableBlackoutWindows\": []\n  },\n  \"currentHost\"\
    : {\n    ...\n  },\n  \"virtualDiskIds\": [\n    ...\n  ],\n  \"snapshots\": [],\n\
    \  \"ipAddress\": \"$vm_ip\",\n  \"toolsInstalled\": true,\n  \"snapshotCount\"\
    : 0,\n  \"snapshotConsistencyMandate\": \"\",\n  \"maxNestedVsphereSnapshots\"\
    : -1,\n  \"primaryClusterId\": \"$cluster_id\",\n  \"isReplicationEnabled\": false,\n\
    \  \"isRelic\": false,\n  \"physicalStorage\": 0,\n  \"guestOsName\": \"$guest_os\"\
    ,\n  \"guestCredentialAuthorizationStatus\": \"PENDING\",\n  \"isArrayIntegrationPossible\"\
    : false,\n  \"isArrayIntegrationEnabled\": false\n}\n```\n### Enabling scripts\n\
    \nA virtual machine object can be configured to start scripts on the guest operating\
    \ system. A script can be started before the backup (`preBackupScript`), after\
    \ the snapshot completes (`postSnapScript`), and after the backup task completes\
    \ (`postBackupScript`). The *Rubrik User Guide* provides information about script\
    \ requirements.\n\nTo configure a virtual machine object to start scripts, send\
    \ a PATCH request to [`/vmware/vm/{id}`](#operation/updateVm). Since this is a\
    \ PATCH request, only the elements of the virtual machine object that are modified\
    \ or added should be included in the request body. All three script members are\
    \ shown in the request body in this model, but all are optional.\n\n```bash\n\
    curl -X PATCH \\\n -d '{\n      \"preBackupScript\": {\n        \"scriptPath\"\
    : \"$pre_script_path\",\n        \"timeoutMs\": 10000,\n        \"failureHandling\"\
    : \"abort\"\n      },\n      \"postSnapScript\": {\n        \"scriptPath\": \"\
    $postsnap_script_path\",\n        \"timeoutMs\": 10000,\n        \"failureHandling\"\
    : \"abort\"\n      },\n      \"postBackupScript\": {\n        \"scriptPath\":\
    \ \"$postbackup_script_path\",\n        \"timeoutMs\": 10000,\n        \"failureHandling\"\
    : \"abort\"\n      }\n    }' \\\n  \"https://$cluster_address/api/v1/vmware/vm/$vm_id\"\
    \n```\n\nThe Rubrik REST API server sends an HTTP 200 response that includes the\
    \ modified or added members in the response body.\n\n#### Manually starting a\
    \ virtual machine script\n\nFor testing or to run a script before running a backup,\
    \ manually trigger the script by sending a POST request to [`/vmware/vm/{id}/guest_script/run`](#operation/runGuestOsScript).\
    \ To manually start a script, the script must first be a part of the configuration\
    \ of the virtual machine object. Use the value of the `phase` member to identify\
    \ the script, as follows:\n* Use `PreBackup` for the script identified by the\
    \ `preBackupScript` member.\n* Use `PostSnap` for the script identified by the\
    \ `postSnapScript` member.\n* Use `PostBackup` for the script identified by the\
    \ `postBackupScript` member.\n\n```bash\ncurl -X POST \\\n  -d '{\n    \"phase\"\
    : \"PreBackup\" }' \\\n  \"https://$cluster_address/api/v1/vmware/vm/$vm_id/guest_script/run\"\
    \n```\nThe Rubrik REST API server responds with an HTTP 204 response when the\
    \ script finishes with a 0 exit code.\n\n\n### Excluding a VMDK file\n\nThe Rubrik\
    \ cluster can be configured to ignore some of the VMDK files of a virtual machine\
    \ while protecting the other VMDK files of that virtual machine. To exclude a\
    \ VMDK file, send a GET request to [`/vmware/vm/virtual_disk/{id}`](#operation/getVirtualDisk)\
    \ using the `$disk_id` of the VMDK file.\n\nTo get the `$disk_id` values, send\
    \ a GET request to [`/vmware/vm/{id}`](#operation/getVm). The response body has\
    \ the `disk_id` values for the virtual machine in the `virtualDiskIds` array.\n\
    \nAfter identifying the `$disk_id` for a VMDK file, obtain the current state of\
    \ the VMDK file.\n\n```bash\ncurl -X GET \"https://$cluster_address/api/v1/vmware/vm/virtual_disk/$disk_id\"\
    \n```\nThe Rubrik REST API server responds with the value of `excludeFromSnapshots`.\n\
    \n```bash\n{\n  \"id\": \"$disk_id\",\n  \"excludeFromSnapshots\": false\n}\n\
    ```\nWhen the value is `false` the Rubrik cluster is not configured to exclude\
    \ the VMDK file. Change this value to `true` to instruct the Rubrik cluster to\
    \ exclude the VMDK file from all subsequent snapshots of the virtual machine.\n\
    \nSend a PATCH request to [`/vmware/vm/virtual_disk/{id}`](#operation/updateVirtualDisk)\
    \ to change the value of `excludeFromSnapshots` to `true` and exclude the VMDK\
    \ file.\n\n```bash\ncurl -X PATCH \\\n  -d '{\n    \"excludeFromSnapshots\": true\
    \ }' \\\n  \"https://$cluster_address/api/v1/vmware/vm/virtual_disk/$disk_id\"\
    \n```\n\nThe Rubrik REST API server responds with the updated `excludeFromSnapshots`\
    \ value for the VMDK file.\n\n```bash\n{\n  \"id\": \"$disk_id\",\n  \"excludeFromSnapshots\"\
    : true\n}\n```\n\n### Assigning a virtual machine to an SLA Domain\nTo protect\
    \ a virtual machine through the rules and policies of an SLA Domain send a PATCH\
    \ request to [`/vmware/vm/{id}`](#operation/updateVm) with the value of `configuredSlaDomainId`\
    \ set to the `$sla_domain_id`.\n\n**Note:** [Retrieving SLA Domains](#section/SLA-Domains/Retrieving-SLA-Domains)\
    \ describes how to retrieve the SLA Domain objects on a Rubrik cluster.\n\n```bash\n\
    curl -X PATCH -d \\\n  '{\n    \"configuredSlaDomainId\": \"$sla_domain_id\"\n\
    \  }' \\\n  \"https://$cluster_address/api/v1/vmware/vm/$vm_id\"\n```\nThe Rubrik\
    \ REST API server responds with confirmation of the assignment.\n\n```bash\n{\n\
    \  \"id\": \"$vm_id\",\n  \"configuredSlaDomainId\": \"$sla_domain_id\"\n}\n```\n\
    ## Snapshot management\n\nManaging snapshots includes the following possible actions:\n\
    * Retrieving snapshot information\n* Retrieving snapshot details\n* Retrieving\
    \ missed snapshot information\n* Creating on-demand snapshots\n* Expiring individual\
    \ snapshots\n* Expiring all snapshots for a virtual machine\n\n### Retrieving\
    \ snapshot information\n\nTo retrieve a list of the snapshots for a virtual machine,\
    \ send a GET request to [`/vmware/vm/{id}/snapshot`](#operation/querySnapshot).\n\
    \n```bash\ncurl -X GET \"https://$cluster_address/api/v1/vmware/vm/$vm_id/snapshot\"\
    \n```\nThe Rubrik REST API server responds with a `ListResponse` object.\n\n```bash\n\
    {\n  \"hasMore\": false,\n  \"data\": [\n    {\n      \"date\": \"$timestamp0\"\
    ,\n      \"indexState\": 0,\n      \"cloudState\": 0,\n      \"vmName\": \"$vm_name\"\
    ,\n      \"replicationLocationIds\": [],\n      \"id\": \"$snapshot_id0\",\n \
    \     \"consistencyLevel\": \"$consistency_level0\",\n      \"archivalLocationIds\"\
    : [],\n      \"isOnDemandSnapshot\": false\n    },\n    {\n      \"date\": \"\
    $timestamp1\",\n      \"indexState\": 0,\n      \"cloudState\": 0,\n      \"vmName\"\
    : \"$vm_name\",\n      \"replicationLocationIds\": [],\n      \"id\": \"$snapshot_id1\"\
    ,\n      \"consistencyLevel\": \"$consistency_level1\",\n      \"archivalLocationIds\"\
    : [],\n      \"isOnDemandSnapshot\": true\n    }\n ],\n \"total\": 2\n}\n```\n\
    Each member of the data array includes the `id` of a snapshot. Use this value\
    \ (`$snapshot_id`) to perform tasks with the snapshot, such as:\n* Browsing for\
    \ data in the snapshot\n* Downloading data from the snapshot\n* Restoring data\
    \ from the snapshot\n* Exporting data from the snapshot\n* Mounting a virtual\
    \ machine from the snapshot\n\n### Retrieving snapshot details\n\nTo retrieve\
    \ details for a specified snapshot send a GET request to [`/vmware/vm/snapshot/{id}`](#operation/getSnapshot).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/vmware/vm/snapshot/$snapshot_id\"\
    \n```\nThe Rubrik REST API server responds with the details of the specified snapshot.\n\
    \n**Note:** To shorten the example, the response uses ellipsis to replace some\
    \ members.\n\n```bash\n{\n  \"date\": \"$timestamp\",\n  \"indexState\": 0,\n\
    \  \"virtualMachine\": {\n   ...\n  },\n  \"vmName\": \"$vm_name\",\n  \"isCorrupt\"\
    : false,\n  \"replicationLocationIds\": [],\n  \"archivalLocationIds\": [],\n\
    \  \"snapshotDiskIds\": [\n    \"$vmdk_id\"\n  ],\n  \"isOnDemandSnapshot\": false,\n\
    \  \"cloudState\": 0,\n  \"id\": \"$snapshot_id\",\n  \"consistencyLevel\": \"\
    1\",\n  \"config\": \"[]\"\n}\n```\n\n### Retrieving missed snapshot information\n\
    \nThe Rubrik cluster stores information for missed snapshots. *Missed snapshots*\
    \ are snapshot tasks that are not completed as required by the rules and policies\
    \ of an SLA Domain.  Retrieve missed snapshot information for a virtual machine\
    \ by sending  a GET request to [`/vmware/vm/{id}/missed_snapshot`](#operation/missedSnapshots).\n\
    \n```bash\ncurl -X GET \"https://$cluster_address/api/v1/vmware/vm/$vm_id/missed_snapshot\"\
    \n```\nThe Rubrik REST API server responds with a `ListResponse` object.\n\n```bash\n\
    {\n  \"hasMore\": false,\n  \"data\": [\n    {\n      \"archivalLocationType\"\
    : [\n        \"missed\"\n      ],\n      \"missedSnapshotTime\": \"$timestamp0\"\
    \n    },\n    {\n      \"archivalLocationType\": [\n        \"missed\"\n     \
    \ ],\n      \"missedSnapshotTime\": \"$timestamp1\"\n    }\n  ],\n  \"total\"\
    : 2\n}\n```\n\n### Creating on-demand snapshots\n\nOn-demand snapshots can be\
    \ created for both protected and unprotected virtual machines. To create an on-demand\
    \ snapshot of a virtual machine send a POST request to [`/vmware/vm/{id}/snapshot`](#operation/createOnDemandBackup).\n\
    \n```bash\ncurl -X POST \\\n  \"https://$cluster_address/api/v1/vmware/vm/$vm_id/snapshot\"\
    \n```\nThe Rubrik REST API server initiates the asynchronous snapshot task and\
    \ responds with a task object.\n\n```bash\n{\n  \"id\": \"$request_id\",\n  \"\
    status\": \"ACQUIRING\",\n  \"progress\": 0,\n  \"startTime\": \"$timestamp\"\
    ,\n  \"links\": [\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vm/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ]\n}\n```\nUsing the information provided\
    \ in the task object, send a GET request to poll the task status. When the value\
    \ of `status` in the task object is `SUCCEEDED`, the on-demand snapshot finished\
    \ successfully.\n\n\n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/vmware/vm/request/$request_id\"\
    \n```\nThe Rubrik REST API server sends a task object with `status=\"SUCCEEDED\"\
    `.  The task object for a successful snapshot includes the URI for the snapshot:\
    \ `https://$cluster_address/api/v1/vmware/vm/snapshot/$snapshot_id`.\n\n```bash\n\
    {\n  \"id\":\"$request_id\",\n  \"status\":\"SUCCEEDED\",\n  \"startTime\":\"\
    $timestamp0\",\n  \"endTime\":\"$timestamp1\",\n  \"links\":[\n    {\n      \"\
    href\":\"https://$cluster_address/api/v1/vmware/vm/snapshot/$snapshot_id\",\n\
    \      \"rel\":\"result\"\n    },\n   {\n      \"href\":\"https://$cluster_address/api/v1/vmware/vm/request/$request_id\"\
    ,\n      \"rel\":\"self\"\n   }\n  ]\n}\n```\n\n### Expiring individual snapshots\n\
    \nOn-demand snapshots and snapshots for unprotected virtual machines can be expired\
    \ by using the snapshot `id`. To expire an individual snapshot, send a DELETE\
    \ request to [`/vmware/vm/snapshot/{id}`](#operation/deleteVmwareSnapshot). Include\
    \ the query parameter `location` to specify whether to expire all copies of the\
    \ snapshot, or only the local copy. Use `location=local` to expire only the copy\
    \ of the snapshot on the specified Rubrik cluster. Use `location=all` to expire\
    \ all copies of the snapshot, including replicas and archival copies.\n\n```bash\n\
    curl -X DELETE \\\n  \"https://$cluster_address/api/v1/vmware/vm/snapshot/$snapshot_id?location=$snapshot_location\"\
    \n```\nThe Rubrik REST API server expires the specified snapshot and responds\
    \ with HTTP response code 204. This indicates the request succeeded and the response\
    \ body is empty.\n\nThe Rubrik REST API server responds with HTTP response code\
    \ 422 'Unprocessable Entity', when the specified snapshot is not one of the following:\n\
    * On-demand snapshot\n* Snapshot for an unprotected virtual machine\n\n### Expiring\
    \ all snapshots for a virtual machine\n\nAll snapshots for an unprotected virtual\
    \ machine can be expired by using the virtual machine `id`. To expire all snapshots\
    \ for an unprotected virtual machine, send a DELETE request to [`/vmware/vm/{id}/snapshot`](#operation/deleteVmwareSnapshots).\
    \ The Rubrik cluster expires all snapshots, replicas, and archival snapshots for\
    \ the specified virtual machine.\n\n```bash\ncurl -X DELETE \\\n  \"https://$cluster_address/api/v1/vmware/vm/$vm_id/snapshot\"\
    \n```\nThe Rubrik REST API server expires all snapshots for the specified virtual\
    \ machine in all locations and responds with HTTP response code 204. This indicates\
    \ the request succeeded and the response body is empty.\n\nThe Rubrik REST API\
    \ server responds with HTTP response code 422 'Unprocessable Entity', when the\
    \ specified virtual machine is protected through an SLA Domain assignment.\n\n\
    \n\n\n## Data recovery\nTo recover a file or folder from a snapshot, retrieve\
    \ the `id` of the file or folder using either search or browse. Then use the `id`\
    \ with one of the recovery methods:\n* Download the file or folder\n* Restore\
    \ the file or folder to the source location\n* Export the file or folder to another\
    \ host\n\n### Searching for data in snapshots\n\nSearch for files and folders\
    \ across all indexed snapshots of a virtual machine by using the virtual machine\
    \ `id`. Send a GET request to [`/vmware/vm/{id}/search`](#operation/searchVm)\
    \ with the `path` query parameter. Use a path segment string or a name segment\
    \ string for the value of `path`.\n\n**IMPORTANT:** The snapshot used in this\
    \ task must be indexed. Indexing makes the file system structure of the data available\
    \ to the Rubrik cluster. To determine whether a snapshot has been successfully\
    \ indexed, send a GET request to [`/vmware/vm/snapshot/{id}`](#operation/getSnapshot)\
    \ as described in the 'Retrieving snapshot information' section of [Snapshot management](#section/Virtual-machines/Snapshot-management).\
    \ Look at the value of `indexState`. A value of `1` means the snapshot has been\
    \ indexed. A value of `0` means the snapshot has not been indexed.\n\nThe Rubrik\
    \ REST API server uses the rules described in the following table when matching\
    \ the value of `path` with folders and files in the indexed snapshots.\n| Type\
    \ | Rule | Description |\n| ---- | ---- | ----------- |\n| Path delimiter | Forward\
    \ slashes and backslashes are equally recognized as path delimiters. | In the\
    \ value of path, `/` matches both `/` and `\\`, and `\\` matches both `/` and\
    \ `\\`. |\n| Path segments | Path segments match all files and folders that begin\
    \ with the same path segment. | For example, '/abc/x' matches files and folders\
    \ at '/abc/' or '\\abc\\\\' with a filename or folder name that starts with 'x'.\
    \ |\n| Name segments | Name segments match all files and folders that begin with\
    \ the same name segment. | For example, 'xyz' matches files and folders with a\
    \ filename or folder name that starts with 'xyz', in all path locations. |\n|\
    \ Characters | Any character that the guest operating system accepts in a file\
    \ path can be used.  | For example, the greater than symbol `>` and the lesser\
    \ than symbol `<` are not allowed. |\n| Windows drive | To specify a full path\
    \ on a Windows guest follow the Windows file system requirement. | For example,\
    \ to specify the 'temp' folder on the 'D' drive of a Windows virtual machine,\
    \ use: `D:\\temp`. |\n\n**Example:** Searching for files and folders\n\nSearch\
    \ for all files and folders in '/usr/local/' with a name that starts with the\
    \ later 'g'.\n\nSend a GET request to [`/vmware/vm/{id}/search`](#operation/searchVm)\
    \ with `path=/usr/local/g`.\n\n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/vmware/vm/$vm_id/search?path=%2Fusr%2Flocal%2Fg\"\
    \n```\nThe Rubrik REST API server responds with a `ListResponse` object. The data\
    \ array has two members, a directory at: `/usr/local/games` and a file at: `/usr/local/gamehints`.\n\
    \n\n```bash\n{\n  \"hasMore\": false,\n  \"data\": [\n    {\n      \"path\": \"\
  /v1/v1/usr/local/games\",\n      \"filename\": \"games\",\n      \"fileVersions\": [\n\
    \        {\n          \"lastModified\": \"$timestamp0\",\n          \"size\":\
    \ 4096,\n          \"snapshotId\": \"$snapshot_id0\",\n          \"fileMode\"\
    : \"directory\",\n          \"source\": \"cloud\"\n        }\n      ]\n    },\n\
    \    {\n    \"path\": \"/usr/local/gamehints\",\n    \"filename\": \"gamehints\"\
    ,\n    \"fileVersions\": [\n      {\n        \"lastModified\": \"$timestamp1\"\
    ,\n        \"size\": 14480,\n        \"snapshotId\": \"$snapshot_id1\",\n    \
    \    \"fileMode\": \"file\",\n        \"source\": \"cloud\"\n      },\n      {\n\
    \        \"lastModified\": \"$timestamp2\",\n        \"size\": 14480,\n      \
    \  \"snapshotId\": \"$snapshot_id2\",\n        \"fileMode\": \"file\",\n     \
    \   \"source\": \"cloud\"\n      }\n    ]\n   }\n  ],\n  \"total\": 2\n}\n```\n\
    \n### Browsing for data in snapshots\n\nBrowse for files and folders with an indexed\
    \ snapshot by using the snapshot `id`. Send a GET request to  [`/vmware/vm/snapshot/{id}/browse`](#operation/browseVmwareSnapshot)\
    \ with the `path` query parameter.  Use a path segment string for the value of\
    \ `path`. The response provides a ListResponse object that includes all of the\
    \ files and folders in the directory that is specified by the value of `path`.\n\
    \n**IMPORTANT:** The snapshot used in this task must be indexed. Indexing makes\
    \ the file system structure of the data available to the Rubrik cluster. To determine\
    \ whether a snapshot has been successfully indexed, send a GET request to [`/vmware/vm/snapshot/{id}`](#operation/getSnapshot)\
    \ as described in the 'Retrieving snapshot information' section of [Snapshot management](#section/Virtual-machines/Snapshot-management).\
    \ Look at the value of `indexState`. A value of `1` means the snapshot has been\
    \ indexed. A value of `0` means the snapshot has not been indexed.\n\nThe Rubrik\
    \ REST API server uses the rules described in the following table when matching\
    \ the value of `path` with the path in the specified snapshot.\n| Type | Rule\
    \ | Description |\n| ---- | ---- | ----------- |\n| Path delimiter | Forward slashes\
    \ and backslashes are equally recognized as path delimiters. | In the value of\
    \ path, `/` matches both `/` and `\\`, and `\\` matches both `/` and `\\`. |\n\
    | Path description | The path description must end in a directory name, without\
    \ an ending slash. | For example, '/abc/x' returns all files and folders in the\
    \ directory at '/abc/x', but '/abc/x/' returns an HTTP 422 response. |\n| Characters\
    \ | Any character that the guest operating system accepts in a file path can be\
    \ used.  | For example, the greater than symbol `>` and the lesser than symbol\
    \ `<` are not allowed. |\n| Windows drive | To specify a full path on a Windows\
    \ guest follow the Windows file system requirement. | For example, to specify\
    \ the 'temp' folder on the 'D' drive of a Windows virtual machine, use: `D:\\\
    temp`. |\n\n**Example:** Browsing for files and folders\n\nRetrieve a ListResponse\
    \ object with all of the files and folders in '/home'.\n\nSend a GET request to\
    \  [`/vmware/vm/snapshot/{id}/browse`](#operation/browseVmwareSnapshot) with `path=/home`.\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/vmware/vm/snapshot/$snapshot_id/browse?path=%2Fhome&offset=0\"\
    \n```\nThe Rubrik REST API server responds with a `ListResponse` object. The data\
    \ array has two members, the directory: `ubuntu` and the file: `ubuntu.tar`.\n\
    \n```bash\n{\n  \"hasMore\": false,\n  \"data\": [\n    {\n      \"filename\"\
    : \"ubuntu\",\n      \"path\": \"ubuntu\",\n      \"lastModified\": \"$timestamp0\"\
    ,\n      \"size\": 31892819777,\n      \"fileMode\": \"directory\",\n      \"\
    statusMessage\": \"\"\n    },\n    {\n      \"filename\": \"ubuntu.tar\",\n  \
    \    \"path\": \"ubuntu.tar\",\n      \"lastModified\": \"$timestamp1\",\n   \
    \   \"size\": 4746675383,\n      \"fileMode\": \"file\",\n      \"statusMessage\"\
    : \"\"\n    }\n  ],\n  \"total\": 2\n}\n```\n### Downloading data from a snapshot\n\
    \nData can be retrieved from a snapshot by creating a download link for an individual\
    \ file and folder from the snapshot. To have the Rubrik cluster create a download\
    \ link, send a POST request to [`/vmware/vm/snapshot/{id}/download`](#operation/createDownloadFileJob).\
    \ Include in the request body the string/value pair: `\"path\":\"$path\"`, where\
    \ `$path` is the full path to the file or folder. When `$path` refers to a folder,\
    \ the Rubrik cluster creates a ZIP file of the folder and all that it contains.\n\
    \nThe basic download work flow is:\n1. Send a POST request to start the asynchronous\
    \ download task.\n2. Send a GET request to poll the task status.\n3. When the\
    \ task succeeds, use the download link provided in the response body to retrieve\
    \ the file or folder.\n\n**IMPORTANT:** The snapshot used in this task must be\
    \ indexed. Indexing makes the file system structure of the data available to the\
    \ Rubrik cluster. To determine whether a snapshot has been successfully indexed,\
    \ send a GET request to [`/vmware/vm/snapshot/{id}`](#operation/getSnapshot) as\
    \ described in the 'Retrieving snapshot information' section of [Snapshot management](#section/Virtual-machines/Snapshot-management).\
    \ Look at the value of `indexState`. A value of `1` means the snapshot has been\
    \ indexed. A value of `0` means the snapshot has not been indexed.\n\n```bash\n\
    curl -X POST -d \\\n'{\n   \"path\": \"$full_source_path\"\n }' \\\n 'https://$cluster_address/api/v1/vmware/vm/snapshot/$snapshot_id/download_file'\n\
    ```\nThe Rubrik REST API server initiates the asynchronous request task and responds\
    \ with a task object.\n\n```bash\n{\n  \"id\": \"$download_task_id\",\n  \"status\"\
    : \"QUEUED\",\n  \"progress\": 0,\n  \"startTime\": \"$timestamp\",\n  \"links\"\
    : [\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vcenter/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ]\n}\n```\n\n### Restoring data from a snapshot\n\
    \nTo restore a file or folder to the source virtual machine send a POST request\
    \ to [`/vmware/vm/snapshot/{id}/restore_file`](#operation/createRestoreFileJob).\
    \ With the request, include a request body. The following table describes the\
    \ members of the request body.\n\n| Name | Description |\n| ---- | -----------\
    \ |\n| `path` | Full path of the file or folder. |\n| `domainName` | Authentication\
    \ domain for the credentials being used to authenticate and authorize the action.\
    \ |\n| `username` | Username of account to authenticate and authorize the action.\
    \ |\n| `password` | Password for the account to authenticate and authorize the\
    \ action. |\n| `restorePath` | Full path location for the restore of the file\
    \ or folder. The action can create a directory at the end of the specified path,\
    \ but cannot create directories that are specified within the path. |\n| `shouldSaveCredentials`\
    \ | Instruct the Rubrik cluster to save the credentials included in the request.\
    \ Use `true` to save the credentials and `false` to use the credentials only for\
    \ the current request. |\n\n```bash\ncurl -X POST -d \\\n'{\n   \"path\": \"$full_source_path\"\
    ,\n   \"domainName\": \"$auth_domain\",\n   \"username\": \"$username\",\n   \"\
    password\": \"$password\",\n   \"restorePath\": \"$full_restore_path\",\n   \"\
    shouldSaveCredentials\": true\n }' \\\n \"https://$cluster_address/api/v1/vmware/vm/snapshot/$snapshot_id/restore_file\"\
    \n```\n\nThe Rubrik REST API server initiates the asynchronous request task and\
    \ responds with a task object.\n\n```bash\n{\n  \"id\": \"$restore_task_id\",\n\
    \  \"status\": \"QUEUED\",\n  \"progress\": 0,\n  \"startTime\": \"$timestamp\"\
    ,\n  \"links\": [\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vcenter/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ]\n}\n```\n\n\n## Snapshot mount operations\n\
    Snapshot mount operations include the following possible actions:\n* Retrieving\
    \ a snapshot from an archival location\n* Mounting a snapshot by using Instant\
    \ Recovery\n* Mounting a snapshot by using Live Mount\n* Exporting a snapshot\n\
    * Changing the properties of a mounted virtual machine\n* Removing a virtual machine\
    \ mount\n\n### Retrieving a snapshot from an archival location\n\nTo work with\
    \ a snapshot that is stored only at an archival location, first download the snapshot\
    \ to the Rubrik cluster by sending a POST request to [`/vmware/vm/snapshot/{id}/download`](#operation/createDownloadSnapshotFromCloud).\n\
    \n```bash\ncurl -X POST \\\n  \"https://$cluster_address/api/v1/vmware/vm/snapshot/$snapshot_id/download\"\
    \n```\nThe Rubrik REST API server initiates the asynchronous request task and\
    \ responds with a task object.\n\n```bash\n{\n  \"id\": \"$snap_download_task_id\"\
    ,\n  \"status\": \"QUEUED\",\n  \"progress\": 0,\n  \"startTime\": \"$timestamp\"\
    ,\n  \"links\": [\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vcenter/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ]\n}\n```\n\n### Mounting a snapshot by using\
    \ Instant Recovery\n\nReplace a source virtual machine from a snapshot by using\
    \ the Instant Recovery feature. To use Instant Recovery, send a POST request to\
    \ [`/vmware/vm/snapshot/{id}/instant_recover`](#operation/createInstantRecovery).\
    \ This request requires a snapshot `id` and can optionally include the parameters\
    \ that are described in the following table.\n\n| Name | Description |\n| ----\
    \ | ----------- |\n| `hostId` | The `id` of an ESXi hypervisor. When not specified,\
    \ the Rubrik cluster uses the original hypervisor. |\n| `vmName` | Assigns a specified\
    \ name to the virtual machine. |\n| `removeNetworkDevices` | Determines whether\
    \ the virtual machine has network devices. Use `true` to remove network devices\
    \ from the virtual machine. Use `false` to keep the existing network devices.\
    \ |\n\n```bash\ncurl -X POST -d \\\n  '{\n    \"vmName\": \"$vm_name\",\n    \"\
    hostId\": \"$esxi_id\",\n    \"removeNetworkDevices\": true\n   }' \\\n   \"https://$cluster_address/api/v1/vmware/vm/snapshot/$snapshot_id/instant_recover\"\
    \n```\nThe Rubrik REST API server initiates the asynchronous request task and\
    \ responds with a task object.\n\n```bash\n{\n  \"id\": \"$instant_recovery_task_id\"\
    ,\n  \"status\": \"QUEUED\",\n  \"progress\": 0,\n  \"startTime\": \"$timestamp\"\
    ,\n  \"links\": [\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vcenter/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ]\n}\n```\n\n### Mounting a snapshot by using\
    \ Live Mount\n\nMount a new virtual machine from a snapshot by using the Live\
    \ Mount feature. To use Live Mount, send a POST request to [`/vmware/vm/snapshot/{id}/mount`](#operation/createMountV1).\
    \ This request requires a snapshot `id` and can optionally include the parameters\
    \ that are described in the following table.\n\n| Name | Description |\n| ----\
    \ | ----------- |\n| `hostId` | The `id` of an ESXi hypervisor. When not specified,\
    \ the Rubrik cluster uses the original hypervisor. |\n| `vmName` | Assigns a specified\
    \ name to the virtual machine. |\n| `dataStoreName` | Assigns a specified name\
    \ for the data store that the Rubrik cluster creates for the Live Mount. |\n|\
    \ `disableNetwork` | Determines whether the virtual machine has access to the\
    \ network. Use `true` to Mount the snapshot with network access disabled. Use\
    \ `false` to allow the virtual machine to access the network. |\n| `removeNetworkDevices`\
    \ | Determines whether the virtual machine has network devices. Use `true` to\
    \ remove network devices from the virtual machine. Use `false` to keep the existing\
    \ network devices. |\n| `powerOn` | Determines whether the virtual machine is\
    \ powered on after mounting. Use `true` to power on the virtual machine. Use `false`\
    \ to leave the virtual machine powered off after mounting. |\n\n\n```bash\ncurl\
    \ -X POST \\\n  -d '{\n     \"hostId\": \"$esxi_id\",\n     \"vmName\": \"$vm_name\"\
    ,\n     \"dataStoreName\": \"$datastore_name\",\n     \"disableNetwork\": $network_state,\n\
    \     \"removeNetworkDevices\": $network_devices_state,\n     \"powerOn\": $power_state\n\
    \   }'\\\n    \"https://$cluster_address/api/v1/vmware/vm/snapshot/$snapshot_id/mount\"\
    \n```\n\nThe Rubrik REST API server initiates the asynchronous request task and\
    \ responds with a task object.\n\n```bash\n{\n  \"id\": \"$live_mount_task_id\"\
    ,\n  \"status\": \"QUEUED\",\n  \"progress\": 0,\n  \"startTime\": \"$timestamp\"\
    ,\n  \"links\": [\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vcenter/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ]\n}\n```\n### Retrieving the ID of the mount\n\
    \nAfter a mount task successfully completes, the `id` of the mount object can\
    \ be retrieved by sending a GET request to [`/vmware/vm/request/{id}`](#operation/getAsyncRequestStatus)\
    \ and using the `$request_id` value from the original request object for the Live\
    \ Mount.\n\n```bash\ncurl -X GET \"https://$cluster_address/api/v1/vmware/vm/request/$request_id\"\
    \n```\nThe Rubrik REST API server responds with a request object that includes\
    \ the `id` of the mount object.\n\n```bash\n{\n  \"id\": \"$request_id\",\n  \"\
    links\": [\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vm/snapshot/mount/$mount_id\"\
    ,\n      \"rel\": \"result\"\n    },\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vm/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ],\n  \"status\": \"SUCCEEDED\"\n}\n```\n\
    ### Retrieving active mounts\n\nTo retrieve a list of all of the active mounts\
    \ for a Rubrik cluster, send a GET request to [`/vmware/vm/snapshot/mount`](#operation/queryMountV1).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/vmware/vm/snapshot/mount\"\
    \n```\nThe Rubrik REST API server responds with a ListResponse object.\n\n```bash\n\
    {\n  \"hasMore\": false,\n  \"data\": [\n    {\n      \"id\": \"$mount_id\",\n\
    \      \"snapshotDate\": \"$snapshot_timestamp\",\n      \"vmId\": \"$source_vm_id\"\
    ,\n      \"mountedVmId\": \"$mounted_vm_id\",\n      \"hostId\": \"$esxi_id\"\
    ,\n      \"isReady\": true\n    }\n  ],\n  \"total\": 1\n}\n```\n### Retrieving\
    \ the details for a mount\n\nTo retrieve details about a specific mount, send\
    \ a GET request to [`/vmware/vm/snapshot/mount/{id}`](#operation/getMountV1).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/vmware/vm/snapshot/mount/$mount_id\"\
    \n```\nThe Rubrik REST API server responds with the details.\n\n```bash\n{\n \
    \ \"snapshotDate\": \"$timestamp\",\n  \"vmId\": \"$source_vm_id\",\n  \"isReady\"\
    : true,\n  \"hostId\": \"$esxi_id\",\n  \"id\": \"$mount_id\",\n  \"mountedVmId\"\
    : \"$mounted_vm_id\"\n}\n```\n\n### Exporting a snapshot\n\nTo export a snapshot\
    \ send a POST request to [`/vmware/vm/snapshot/{id}/export`](#operation/createExport).\
    \  This request requires a snapshot `id` and the parameters that are described\
    \ in the following table.\n\n| Name | Description |\n| ---- | ----------- |\n\
    | `datastoreId` | The `id` of a datastore for the specified ESXi hypervisor. |\n\
    | `vmName` | Assigns a specified name to the virtual machine. |\n| `hostId` |\
    \ The `id` of an ESXi hypervisor. |\n| `disableNetwork` | Determines whether the\
    \ virtual machine has access to the network. Use `true` to Mount the snapshot\
    \ with network access disabled. Use `false` to allow the virtual machine to access\
    \ the network. |\n| `removeNetworkDevices` | Determines whether the virtual machine\
    \ has network devices. Use `true` to remove network devices from the virtual machine.\
    \ Use `false` to keep the existing network devices. |\n| `powerOn` | Determines\
    \ whether the virtual machine is powered on after mounting. Use `true` to power\
    \ on the virtual machine. Use `false` to leave the virtual machine powered off\
    \ after mounting. |\n| `unregisterVm` | Determines whether to add the exported\
    \ virtual machine to the vCenter Server inventory. Use `true` to remove the exported\
    \ virtual machine from the associated vCenter Server inventory. Use `false` to\
    \ add the exported virtual machine to the associated vCenter Server inventory.\
    \ |\n\n\n```bash\ncurl -X  -d \\\n '{\n   \"datastoreId\": \"string\",\n   \"\
    vmName\": \"string\",\n   \"hostId\": \"string\",\n   \"disableNetwork\": true,\n\
    \   \"removeNetworkDevices\": true,\n   \"powerOn\": true,\n   \"unregisterVm\"\
    : true\n }' \\\n \"https://$cluster_address/api/v1/vmware/vm/snapshot/$snapshot_id/export\"\
    \n```\n\nThe Rubrik REST API server initiates the asynchronous request task and\
    \ responds with a task object.\n\n```bash\n{\n  \"id\": \"$export_task_id\",\n\
    \  \"status\": \"QUEUED\",\n  \"progress\": 0,\n  \"startTime\": \"$timestamp\"\
    ,\n  \"links\": [\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vcenter/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ]\n}\n```\n\n### Changing power status of\
    \ a mounted virtual machine\n\nTo change the power status of a mounted virtual\
    \ machine send a PATCH request to [`/vmware/vm/snapshot/mount/{id}`](#operation/updateMount).\
    \ Include in the request body, the member `\"powerStatus\": $power_state`. For\
    \ `$power_state`, use `true` to power on the virtual machine, or use `false` to\
    \ power off the virtual machine.\n\n```bash\ncurl -X PATCH \\\n  -d '{\n    \"\
    powerStatus\": $power_state }' \\\n  \"https://$cluster_address/api/v1/vmware/vm/snapshot/mount/$mount_id\"\
    \n```\n\nThe Rubrik REST API server responds with the mount details.\n\n```bash\n\
    {\n  \"powerStatus\": \"$power_state\",\n  \"id\": \"$mount_id\",\n  \"snapshotDate\"\
    : \"$timestamp\",\n  \"vmId\": \"$vm_id\",\n  \"mountedVmId\": \"$mounted_vm_id\"\
    ,\n  \"hostId\": \"$esxi_id\",\n  \"isReady\": true,\n  \"mountRequestId\": \"\
    $mount_request_id\",\n  \"unmountRequestId\": \"$unmount_request_id\"\n}\n```\n\
    \n### Removing a virtual machine mount\n\nTo remove a Live Mount send a DELETE\
    \ request to [`/vmware/vm/snapshot/mount/{id}`](#operation/createUnmount). To\
    \ remove a mount object after live migration of the virtual machine include the\
    \ query parameter `force=true`.\n\n```bash\ncurl -X DELETE \\\n  \"https://$cluster_address/api/v1/vmware/vm/snapshot/mount/$mount_id\"\
    \n```\nThe Rubrik REST API server initiates the asynchronous request task and\
    \ responds with a task object.\n\n```bash\n{\n  \"id\": \"$delete_mount_task_id\"\
    ,\n  \"status\": \"QUEUED\",\n  \"progress\": 0,\n  \"startTime\": \"$timestamp\"\
    ,\n  \"links\": [\n    {\n      \"href\": \"https://$cluster_address/api/v1/vmware/vcenter/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ]\n}\n```\n\n\n# Hosts\n\nRubrik clusters\
    \ can protect file system data and application data through direct interaction\
    \ with a host operating system. This method of protection does not require a virtual\
    \ environment API. Instead, the Rubrik cluster works with the Rubrik Backup Service\
    \ software that is running on supported Linux hosts and Windows hosts.\n\nIn some\
    \ situations, the Rubrik cluster can directly interact with hosts without the\
    \ Rubrik Backup Service, for example when providing protection of data on a network\
    \ share.\n\n## Rubrik Backup Service\n\nThe Rubrik Backup Service software must\
    \ be installed on a host to enable file system level protection and direct protection\
    \ of supported applications. The Rubrik Backup Service software is signed by a\
    \ specific Rubrik cluster and can only be used with that Rubrik cluster.\n\nThe\
    \ following URLs provide access to the Rubrik Backup Service software on a Rubrik\
    \ cluster:\n* Linux: https://$cluster_address/connector/rubrik-agent.x86_64.rpm\n\
    * Windows: https://$cluster_address/connector/RubrikBackupService.zip\n\n**IMPORTANT:**\
    \ The Rubrik User Guide describes how to install the Rubrik Backup Service software,\
    \ and lists the permissions and settings that are required to allow the Rubrik\
    \ Backup Service to provide support for specific operating systems, applications,\
    \ and clusters.\n\n## Registering a host\nAfter installing the Rubrik Backup Service\
    \ on a host, register the host with the Rubrik cluster. Registering initiates\
    \ secure communication between the Rubrik cluster and the Rubrik Backup Service\
    \ on the host. After a host is registered, the Rubrik Backup Service on the host\
    \ sends detailed information about the host to the Rubrik cluster.\n\nThe Rubrik\
    \ Backup Service scans a registered host for protectable objects, such as: applications,\
    \ databases, and Windows clusters. The Rubrik Backup Service sends the results\
    \ of the scan to the Rubrik cluster.\n\nTo register a host, send a POST request\
    \ to [`/host`](#operation/registerHost) and include `hostname: $hostname`. The\
    \ `$hostname` value must be the IPv4 address of the host or the resolvable hostname\
    \ of the host.\n\n```bash\ncurl -X POST \\\n  -d '{\n    \"hostname\": \"$hostname\"\
    \ }' \\\n  \"https://$cluster_address/api/v1/host\"\n```\nThe Rubrik REST API\
    \ server responds with the details for the host, including the connection status.\n\
    \n```bash\n{\n  \"id\": \"$host_id\",\n  \"hostname\": \"$hostname\",\n  \"primaryClusterId\"\
    : \"$cluster_id\",\n  \"agentId\": \"$agent_id\",\n  \"operatingSystem\": \"$os_version\"\
    ,\n  \"operatingSystemType\": \"$os_type\",\n  \"status\": \"Connected\",\n  \"\
    compressionEnabled\": false\n}\n```\n\n## Retrieving host information\n\nTo retrieve\
    \ a current list of the hosts that are registered with a Rubrik cluster, send\
    \ a GET request to [`/host`](#operation/queryHost).\n\n```bash\ncurl -X GET \"\
    https://$cluster_address/api/v1/host\"\n```\n\nThe Rubrik REST API server responds\
    \ with a ListResponse object that contains the first page of the current list.\n\
    \n```bash\n{\n  \"hasMore\": false,\n  \"data\": [\n    {\n      \"id\": \"$host_id0\"\
    ,\n      \"hostname\": \"$hostname0\",\n      \"primaryClusterId\": \"$cluster_id\"\
    ,\n      \"operatingSystem\": \"$os_version0\",\n      \"operatingSystemType\"\
    : \"$os_type0\",\n      \"status\": \"Connected\"\n    },\n    {\n      \"id\"\
    : \"$host_id1\",\n      \"hostname\": \"$hostname1\",\n      \"primaryClusterId\"\
    : \"$cluster_id\",\n      \"operatingSystem\": \"$os_version1\",\n      \"operatingSystemType\"\
    : \"$os_type1\",\n      \"status\": \"Connected\"\n    }\n  ],\n  \"total\": 2\n\
    }\n```\nDepending on the number of registered hosts, the complete list of registered\
    \ hosts may not be included on the first page. [Working with lists](#section/Overview/Working-with-lists)\
    \ describes how to work with a ListResponse object to obtain additional pages\
    \ of the list.\n\n\nTo retrieve the details for a specified host, send a GET request\
    \ to [`/host/{id}`](#operation/getHost).\n\nAdding a host will cause Rubrik to\
    \ communicate with the remote Rubrik agent and get detailed information about\
    \ the host.\n\n```bash\ncurl -X GET \"https://$cluster_address/api/v1/host/$host_id0\"\
    \n```\nThe Rubrik REST API server responds with the details of the specified host.\n\
    \n```bash\n  {\n    \"id\": \"$host_id0\",\n    \"hostname\": \"$hostname0\",\n\
    \    \"primaryClusterId\": \"$cluster_id\",\n    \"agentId\": \"$agent_id\",\n\
    \    \"operatingSystem\": \"$os_version0\",\n    \"operatingSystemType\": \"$os_type0\"\
    ,\n    \"status\": \"Connected\",\n    \"compressionEnabled\": false\n  }\n```\n\
    \n## Adding a host without the Rubrik Backup Service\n\nA host without the Rubrik\
    \ Backup Service can be added by setting the `hasAgent` flag to `false`. This\
    \ can be used to register a host that will be accessed through network shares.\n\
    \n```bash\ncurl -X POST \\\n  -d '{ \\\n    \"hostname\": \"$hostname\",\n   \
    \ \"hasAgent\": \"false\" }' \\\n  \"https://$cluster_address/api/v1/host\"\n\
    ```\n\n## Modifying a registered host\n\nTo change the FQDN or IPv4 address that\
    \ the Rubrik cluster uses to connect with a registered host, send a PATCH request\
    \ to [`/host`](#operation/updateHost). Use the value of `hostname` to specify\
    \ the new FQDN or IPv4 address of the host. Optionally, also use this PATCH request\
    \ to specify whether to compress the data that is transmitted to and from the\
    \ host. Set the value of `compressionEnabled` to `true` to enable compression\
    \ or set the value to `false` to turn compression off.\n\n\n```bash\ncurl -X POST\
    \ \\\n  -d '{\n    \"hostname\": \"$hostname\",\n    \"compressionEnabled\": true\
    \ }' \\\n  \"https://$cluster_address/api/v1/host/$host_id\"\n```\n\nThe Rubrik\
    \ REST API server responds with a confirmation of the new details of the registered\
    \ host.\n\n```bash\n {\n  \"id\": \"$host_id\",\n  \"hostname\": \"$hostname\"\
    ,\n  \"primaryClusterId\": \"$cluster_id\",\n  \"agentId\": \"$agent_id\",\n \
    \ \"operatingSystem\": \"$os_version\",\n  \"operatingSystemType\": \"$os_type\"\
    ,\n  \"status\": \"Connected\",\n  \"compressionEnabled\": true\n }\n```\n## Removing\
    \ a host\n\nRemove a host from the Rubrik cluster when the host no longer requires\
    \ protection. The Rubrik cluster moves all of the unexpired backups for the host\
    \ filesets of the host to Unmanaged Objects.\n\nTo remove a host send a DELETE\
    \ request to [`/host/{id}`](#operation/deleteHost).\n\n```bash\ncurl -X DELETE\
    \ \\\n  \"https://$cluster_address/api/v1/host/$host_id\"\n```\n\nThe Rubrik REST\
    \ API server responds with HTTP response code 204. This indicates the request\
    \ succeeded and the response body is empty.\n\n## Windows Server Failover Clustering\
    \ nodes\n\nTo begin working with Windows Server Failover Clustering (WSFC) clusters,\
    \ register each WSFC node with the Rubrik cluster as described in [`Registering\
    \ a host`](#section/Hosts/Registering-a-host). The scan performed by the Rubrik\
    \ Backup Service on each WSFC node detects the WSFC cluster and provides information\
    \ about the WSFC cluster to the Rubrik cluster.\n\nTo view WSFC cluster information,\
    \ send a GET request to [`/windows_cluster`](#operation/queryWindowsCluster).\n\
    \n**Note:** The variable `$cluster_address` refers to the FQDN or IPv4 address\
    \ of the Rubrik cluster.\n\n```bash\ncurl -X GET \"https://$cluster_address/api/v1/windows_cluster\"\
    \n```\nThe Rubrik REST API server responds with a ListResponse object that contains\
    \ the first page of the list of WSFC clusters.\n\n```bash\n{\n  \"hasMore\": false,\n\
    \  \"data\": [\n    {\n      \"id\": \"$wsfc_id\",\n      \"name\": \"$wsfc_name\"\
    ,\n      \"fqdn\": \"$wsfc_fqdn\",\n      \"hostIds\": [\n        \"$wsfc_node_id0\"\
    ,\n        \"$wsfc_node_id1\"\n      ],\n      \"primaryClusterId\": \"$cluster_id\"\
    \n    }\n  ],\n  \"total\": 1\n}\n```\n\nTo retrieve detailed information about\
    \ a WSFC cluster, send a GET request to: [`/windows_cluster/{id}`](#operation/getWindowsCluster),\
    \ where `$cluster_id` is the `id` of the WSFC cluster.\n\n\n```bash\ncurl -X GET\
    \ \"https://$cluster_address/api/v1/windows_cluster/$cluster_id\"\n```\n\nThe\
    \ Rubrik REST API server responds with the details for the specified WSFC cluster.\n\
    \n```bash\n{\n  \"name\": \"$wsfc_name\",\n  \"id\": \"$wsfc_id\",\n  \"naturalId\"\
    : \"$cluster_natural_id\",\n  \"hostIds\": [\n  \"$wsfc_node_id0\",\n  \"$wsfc_node_id1\"\
    \n  ],\n  \"fqdn\": \"$wsfc_fqdn\",\n  \"primaryClusterId\": \"$cluster_id\"\n\
    }\n```\n\n# Filesets\n\nA fileset defines a set of files and folders on a Linux\
    \ host or on a Windows host. The Rubrik cluster uses the filesets that are assigned\
    \ to a host to determine the data to protect on that host.\n\nThe Rubrik cluster\
    \ interprets a fileset based on the values provided in the\nInclude, Exclude,\
    \ and Do Not Exclude arrays. The Rubrik cluster applies a\nset of rules to the\
    \ values provided in these arrays and permits several\ntypes of values to be added\
    \ to the arrays. The Do Not Exclude array specifies objects that should not be\
    \ excluded from the fileset by the values in the Exclude array.\n\n## Fileset\
    \ workflow\nThe basic workflow to follow when using filesets to protect data in\
    \ host file systems is:\n1. Obtain and install the Rubrik Backup Service software\
    \ on the host.  \nThe Rubrik user guide describes this task.\n2. Add the host\
    \ to the Rubrik cluster.  \nThe [Hosts](#section/Hosts) section describes this\
    \ task.\n3. Create a fileset template that defines a set of file system data to\
    \ protect.  \nThe [Fileset templates](#section/Filesets/fileset_templates) section\
    \ describes this task.\n4. Use a fileset template to assign a fileset to a host.\n\
    5. Assign the host fileset to an SLA Domain.\n\n## Fileset templates\n\nTo get\
    \ the current list of hosts we GET on the [`/fileset_template`](#operation/queryFilesetTemplate)\
    \ endpoint.\n\n```bash\ncurl -X POST \\\n  -d '{\n    \"hostname\": \"$hostname\"\
    \ }' \\\n  \"https://$cluster_address/api/v1/host\"\n```\n\n```bash\n{\n  \"id\"\
    : \"$host_id\",\n  \"hostname\": \"$hostname\",\n  \"status\": \"Connected\"\n\
    }\n```\n\nTo get the current further details of hosts we GET on the [`/fileset_template/{id}`](#operation/getFilesetTemplate)\
    \ endpoint.\n\n```bash\ncurl -X POST \\\n  -d '{\n    \"hostname\": \"$hostname\"\
    \ }' \\\n  \"https://$cluster_address/api/v1/host\"\n```\n\n```bash\n{\n  \"id\"\
    : \"$host_id\",\n  \"hostname\": \"$hostname\",\n  \"status\": \"Connected\"\n\
    }\n```\n\nFirst create a fileset template.\nA fileset template can be used to\
    \ create fileset instances for various hosts.\nPerforming a POST on [`/fileset_template`](#operation/createFilesetTemplate)\
    \  with the necessary details will create a fileset template.\n\n```bash\ncurl\
    \ -X POST \\\n  -d '{\n    \"name\": \"Users\",\n    \"includes\": [\"C:\\\\Users\"\
    ],\n    \"operatingSystemType\": \"Windows\"}' \\\n  \"https://$cluster_address/api/v1/fileset_template\"\
    \n```\n\n```bash\n{\n  \"id\": \"$fileset_template_id\",\n  \"name\": \"Users\"\
    ,\n  \"excludes\": [],\n  \"operatingSystemType\": \"Windows\",\n  \"includes\"\
    : [\n    \"C:\\\\Users\"\n  ]\n}\n```\n\nModify with PATCH on the [`/fileset_template/{id}`](#operation/updateFilesetTemplate)\
    \ endpoint.\n\n```bash\ncurl -X POST \\\n  -d '{\n    \"hostname\": \"$hostname\"\
    \ }' \\\n  \"https://$cluster_address/api/v1/host\"\n```\n\n```bash\n{\n  \"id\"\
    : \"$host_id\",\n  \"hostname\": \"$hostname\",\n  \"status\": \"Connected\"\n\
    }\n```\n\nDelete with n the [`/fileset_template/{id}`](#operation/deleteFilesetTemplate)\
    \ endpoint.\n\n```bash\ncurl -X DELETE \\\n  -d '{\n    \"hostname\": \"$hostname\"\
    \ }' \\\n  \"https://$cluster_address/api/v1/host\"\n```\n## Fileset\n\nUsing\
    \ a fileset template, a fileset can be created.\nThe fileset is an instance of\
    \ the template that is assigned to a specific host.\n\nTo get the current list\
    \ of hosts we GET on the [`/fileset`](#operation/queryFileset) endpoint.\n\n```bash\n\
    curl -X POST \\\n  -d '{\n    \"hostname\": \"$hostname\" }' \\\n  \"https://$cluster_address/api/v1/host\"\
    \n```\n\n```bash\n{\n  \"id\": \"$host_id\",\n  \"hostname\": \"$hostname\",\n\
    \  \"status\": \"Connected\"\n}\n```\n\nTo get the current further details of\
    \ hosts we GET on the [`/fileset/{id}`](#operation/getFileset) endpoint.\n\n```bash\n\
    curl -X POST \\\n  -d '{\n    \"hostname\": \"$hostname\" }' \\\n  \"https://$cluster_address/api/v1/host\"\
    \n```\n\n```bash\n{\n  \"id\": \"$host_id\",\n  \"hostname\": \"$hostname\",\n\
    \  \"status\": \"Connected\"\n}\n```\n\nA fileset can be created with a POST on\
    \ [`/fileset`](#operation/createFileset).\n\n```bash\ncurl -X POST \\\n  -d '{\n\
    \    \"templateId\": \"$fileset_template_id\",\n    \"hostId\": \"$host_id\" }'\
    \ \\\n  \"https://$cluster_address/api/v1/fileset\"\n```\n\n```bash\n{\n  \"id\"\
    : \"$fileset_id\",\n  \"excludes\": [],\n  \"operatingSystemType\": \"Windows\"\
    ,\n  \"includes\": [\n    \"C:\\\\Users\"\n  ],\n  \"hostId\": \"$host_id\",\n\
    \  \"templateId\": \"$fileset_template_id\",\n  \"configuredSlaDomainId\": \"\
    UNPROTECTED\"\n}\n```\n\nA fileset can be deleted with a DELETE on [`/fileset`](#operation/deleteFileset).\n\
    \n```bash\ncurl -X POST \\\n  -d '{\n    \"templateId\": \"fileset_template_id\"\
    ,\n    \"hostId\": \"$host_id\" }' \\\n  \"https://$cluster_address/api/v1/fileset\"\
    \n```\n\n```bash\n{\n  \"id\": \"$fileset_id\",\n  \"excludes\": [],\n  \"operatingSystemType\"\
    : \"Windows\",\n  \"includes\": [\n    \"C:\\\\Users\"\n  ],\n  \"hostId\": \"\
    $host_id\",\n  \"templateId\": \"$fileset_template_id\",\n  \"configuredSlaDomainId\"\
    : \"UNPROTECTED\"\n}\n```\n## On demand backups of host filesets\n\nTo create\
    \ an on-demand snapshot POST on [`/fileset/{id}/snapshot`](#operation/createFilesetBackupJob).\n\
    \n```bash\ncurl -X POST \\\n  \"https://$cluster_address/api/v1/fileset/$fileset_id/snapshot\"\
    \n```\n\n```bash\n{\n  \"id\": \"$request_id\",\n  \"links\": [\n    {\n     \
    \ \"href\": \"https://$cluster_address/api/v1/fileset/request/$request_id\",\n\
    \      \"rel\": \"self\"\n    }\n  ],\n  \"status\": \"QUEUED\"\n}\n```\n\nOnce\
    \ the snapshot has been taken you should be able to retrieve the `$snapshot_id`\
    \ by querying [`/fileset/request`](#operation/getFilesetAsyncRequestStatus).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/fileset/request/$request_id\"\
    \n```\n\n```bash\n{\n  \"id\": \"$request_id\",\n  \"links\": [\n    {\n     \
    \ \"href\": \"https://$cluster_address/api/v1/fileset/snapshot/$snapshot_id\"\
    ,\n      \"rel\": \"result\"\n    },\n    {\n      \"href\": \"https://$cluster_address/api/v1/fileset/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ],\n  \"status\": \"SUCCEEDED\"\n}\n```\n\
    \n\nOnce the snapshot has been taken you should be able to retrieve the `$snapshot_id`\
    \ from the request.\n\n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/fileset/request/$request_id\"\
    \n```\n\n```bash\n{\n  \"id\": \"$request_id\",\n  \"links\": [\n    {\n     \
    \ \"href\": \"https://$cluster_address/api/v1/fileset/snapshot/$snapshot_id\"\
    ,\n      \"rel\": \"result\"\n    },\n    {\n      \"href\": \"https://$cluster_address/api/v1/fileset/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ],\n  \"status\": \"SUCCEEDED\"\n}\n```\n\
    \nIndividual snapshots can be deleted with DELETE on [`/fileset/snapshot/{id}`](#operation/deleteFilesetSnapshot).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/fileset/snapshot/$snapshot_id\"\
    \n```\n\n```bash\n{\n}\n```\n\nDelete all snapshots for a specific vm with a DELETE\
    \ on [`/fileset/{id}/snapshot`](#operation/deleteFilesetSnapshots).\n\n```bash\n\
    curl -X DELETE \"https://$cluster_address/api/v1/fileset/$vm_id/snapshot\"\n```\n\
    ## SLA Domain protection of host filesets\n\nAssign a fileset to an SLA with a\
    \ PATCH [`/fileset/{id}`](#operation/updateFileset).\n\n```bash\ncurl -X PATCH\
    \ \\\n  -d '{ \n    \"configuredSlaDomainId\": \"$sla_domain_id\" }' \\\n  \"\
    https://$cluster_address/api/v1/fileset/$fileset_id\"\n```\n\n```bash\n{\n  \"\
    id\": \"$fileset_id\",\n  \"excludes\": [],\n  \"operatingSystemType\": \"Windows\"\
    ,\n  \"includes\": [\n    \"C:\\\\Users\"\n  ],\n  \"hostId\": \"$host_id\",\n\
    \  \"templateId\": \"$fileset_template_id\",\n  \"configuredSlaDomainId\": \"\
    $sla_domain_id\"\n}\n```\n\nMissed snapshot with a GET on [`/fileset/{id}/missed_snapshot`](#operation/getMissedFilesetSnapshots).\n\
    \n```bash\ncurl -X GET \"https://$cluster_address/api/v1/fileset/$vm_id/missed_snapshot\"\
    \n```\n\n```bash\n{\n  \"hasMore\": true,\n  \"data\": [\n    {\n      \"missedSnapshotTime\"\
    : \"2000-01-02T11:08:40.420Z\"\n    }\n  ],\n  \"total\": 1\n}\n```\n\n## Search\
    \ & Recovery\n\nOnce snapshots have been taken, they can be used to search for\
    \ files and recover.\n\nA host-level file search can be performed with a GET on\
    \ [`/host/{id}/search`](#operation/searchHost).\n\n```bash\ncurl -X GET \\\n \
    \ \"https://$cluster_address/api/v1/host/$host_id/search?path=home\"\n```\n\n\
    ```bash\n{\n  \"hasMore\": false,\n  \"data\": [\n    {\n      \"path\": \"/home\"\
    ,\n      \"filename\": \"home\",\n      \"fileVersions\": [\n        {\n     \
    \     \"snapshotId\": \"$snapshot_id\",\n          \"lastModified\": \"2014-07-17T02:02:54+0000\"\
    ,\n          \"size\": 533120\n        }\n      ]\n    }\n  ],\n  \"total\": 1\n\
    }\n```\n\nFile search can be performed on a specific fileset using its `$fileset_id`\
    \ with a GET on [`/fileset/{id}/search`](#operation/searchFileset) and specifying\
    \ the file path with the `path` query parameter.\n\n```bash\ncurl -X GET \\\n\
    \  \"https://$cluster_address/api/v1/fileset/$fileset_id/search?path=home\"\n\
    ```\n\n```bash\n{\n  \"hasMore\": false,\n  \"data\": [\n    {\n      \"path\"\
    : \"/home\",\n      \"filename\": \"home\",\n      \"fileVersions\": [\n     \
    \   {\n          \"snapshotId\": \"$snapshot_id\",\n          \"lastModified\"\
    : \"2014-07-17T02:02:54+0000\",\n          \"size\": 533120\n        }\n     \
    \ ]\n    }\n  ],\n  \"total\": 1\n}\n```\n\nGiven the snapshot one can browse\
    \ files within the snapshot with GET on [`/fileset/snapshot/{id}/browse`](#operation/browseFilesetSnapshot).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/fileset/snapshot/$snapshot_id/browse?path=%2Fhome&offset=0\"\
    \n```\n\n```bash\n{\n  \"hasMore\": false,\n  \"data\": [\n    {\n      \"filename\"\
    : \"ubuntu\",\n      \"path\": \"ubuntu\",\n      \"lastModified\": \"2016-12-01T23:26:59+0000\"\
    ,\n      \"size\": 529024,\n    }\n  ],\n  \"total\": 1\n}\n```\n\nTo retrieve\
    \ files from the snapshot we can either download the entire snapshot or just individual\
    \ files.\nA entire snapshot can be downloaded with POST on [`/fileset/snapshot/{id}/download`](#operation/createDownloadFilesetSnapshotFromCloud).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/fileset/snapshot/$snapshot_id\"\
    \n```\n\nAlso individual files can be downloaded with POST on [`/fileset/snapshot/{id}/download`](#operation/createFilesetDownloadFileJob).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/fileset/snapshot/$snapshot_id/download_file\"\
    \n```\n\nBoth [`/fileset/snapshot/{id}/download`](#operation/createDownloadFilesetSnapshotFromCloud)\
    \ and [`/fileset/snapshot/{id}/download`](#operation/createFilesetDownloadFileJob)\
    \ return an async request that can be polled to retrieve the eventual download\
    \ location.\n\n```bash\ncurl -X GET \"https://$cluster_address/api/v1/fileset/request/$request_id\"\
    \n```\n\n```bash\n{\n  \"id\": \"$request_id\",\n  \"links\": [\n    {\n     \
    \ \"href\": \"$download_url\",\n      \"rel\": \"result\"\n    },\n    {\n   \
    \   \"href\": \"https://$cluster_address/api/v1/fileset/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ],\n  \"status\": \"QUEUED\"\n}\n```\n\n\
    Files from a snapshot can also be restored to a host with POST on [`/fileset/snapshot/{id}/restore_file`](#operation/createFilesetRestoreFileJob).\n\
    \n```bash\ncurl -X POST -d \\\n  '{\n    \"sourceDir\": \"/foo.txt\",\n    \"\
    destinationDir\": \"/bar.txt\"\n  }' \\\n  \"https://$cluster_address/api/v1/fileset/snapshot/$snapshot_id/download_file\"\
    \n```\n\nFiles can also be restored to a different host with POST on [`/fileset/snapshot/{id}/export_file`](#operation/createFilesetExportFileJob).\n\
    \n```bash\ncurl -X POST -d \\\n  '{\n    \"sourceDir\": \"/foo.txt\",\n    \"\
    destinationDir\": \"/bar.txt\",\n    \"hostId\": \"$host_id\"\n  }' \\\n  \"https://$cluster_address/api/v1/fileset/snapshot/$snapshot_id/download_file\"\
    \n```\n\n# SQL Server databases\n\nVersion 3.0 added support for Microsoft SQL\
    \ backups.\nFirst add the hosts hosting the Microsoft SQL databases as specified\
    \ in the [host protection](#section/Hosts) section.\nOnce the host has been added,\
    \ instances and databases will be auto-discovered.\n\n## Instances\n\nMicrosoft\
    \ SQL instances can be found by a GET on [`/mssql/instance`](#operation/queryMssqlInstance)\n\
    \n```bash\ncurl -X GET \"https://$cluster_address/api/v1/mssql/instance\"\n```\n\
    \n```bash\n{\n  \"data\": [\n    {\n      \"id\": \"$instance_id\",\n      \"\
    name\": \"$instance_name\",\n      \"configuredSlaDomainId\": \"INHERIT\",\n \
    \     \"configuredSlaDomainName\": \"Inherit\",\n      \"effectiveSlaDomainId\"\
    : \"INHERIT\",\n      \"effectiveSlaDomainName\": \"Inherit\"\n    }\n  ],\n \
    \ \"hasMore\": false,\n  \"total\": 1\n}\n```\n\nFurther details are acquired\
    \ from [`/mssql/instance/{id}`](#operation/getMssqlInstance).\n\n```bash\ncurl\
    \ -X GET \"https://$cluster_address/api/v1/mssql/instance/$instance_id\"\n```\n\
    \n```bash\n{\n  \"data\": [\n    {\n      \"id\": \"$instance_id\",\n      \"\
    name\": \"$instance_name\",\n      \"configuredSlaDomainId\": \"INHERIT\",\n \
    \     \"configuredSlaDomainName\": \"Inherit\",\n      \"effectiveSlaDomainId\"\
    : \"UNPROTECTED\",\n      \"effectiveSlaDomainName\": \"Unprotected\"\n    }\n\
    \  ],\n  \"hasMore\": false,\n  \"total\": 1\n}\n```\n\nThe Rubrik cluster auto-detects\
    \ most fields of the Microsoft SQL instance. However, certain fields such as the\
    \ `clusterInstanceAddress` can be overridden with a PATCH to [`/mssql/instance/{id}`](#operation/updateMssqlInstance).\n\
    \n```bash\ncurl -X PATCH \\\n  -d '{\n    \"clusterInstanceAddress\": \"1.1.1.1\"\
    \n  }' \\\n  \"https://$cluster_address/api/v1/mssql/instance/$instance_id\"\n\
    ```\n\n```bash\n{\n  \"data\": [\n    '{\n      \"id\": \"$instance_id\",\n  \
    \    \"name\": \"$instance_name\",\n      \"configuredSlaDomainId\": \"INHERIT\"\
    ,\n      \"configuredSlaDomainName\": \"Inherit\",\n      \"effectiveSlaDomainId\"\
    : \"UNPROTECTED\",\n      \"effectiveSlaDomainName\": \"Unprotected\",\n     \
    \ \"clusterInstanceAddress\": \"1.1.1.1\"\n  }' \\\n    }\n  ],\n  \"hasMore\"\
    : false,\n  \"total\": 1\n}\n```\n\n## Databases\n\nAll Microsoft SQL databases\
    \ on an instance can be found with a GET on [`/mssql/db`](#operation/queryMssqlDb).\n\
    \n```bash\ncurl -X GET \"https://$cluster_address/api/v1/mssql/db?instance_id=$instance_id\"\
    \n```\n\n```bash\n{\n  \"data\": [\n    {\n      \"id\": \"$db_id\",\n      \"\
    name\": \"$db_name\",\n      \"configuredSlaDomainId\": \"INHERIT\",\n      \"\
    configuredSlaDomainName\": \"Inherit\",\n      \"effectiveSlaDomainId\": \"UNPROTECTED\"\
    ,\n      \"effectiveSlaDomainName\": \"Unprotected\",\n      \"instanceId\": \"\
    $instance_id\"\n      \"instanceName\": \"$instance_name\"\n    }\n  ],\n  \"\
    hasMore\": false,\n  \"total\": 1\n}\n```\n\nFurther details are acquired from\
    \ [`/mssql/db/{id}`](#operation/getMssqlDb).\n\n```bash\ncurl -X GET \"https://$cluster_address/api/v1/mssql/db/$db_id\"\
    \n```\n\n```bash\n{\n  \"data\": [\n    {\n      \"id\": \"$db_id\",\n      \"\
    name\": \"$db_name\",\n      \"configuredSlaDomainId\": \"INHERIT\",\n      \"\
    configuredSlaDomainName\": \"Inherit\",\n      \"effectiveSlaDomainId\": \"UNPROTECTED\"\
    ,\n      \"effectiveSlaDomainName\": \"Unprotected\",\n      \"instanceId\": \"\
    $instance_id\"\n      \"instanceName\": \"$instance_name\"\n    }\n  ],\n  \"\
    hasMore\": false,\n  \"total\": 1\n}\n```\n\n## Protection\n\nTo create an on-demand\
    \ snapshot, POST on [`/mssql/db/{id}/snapshot`](#operation/createOnDemandMssqlBackup).\n\
    \n```bash\ncurl -X POST \\\n  \"https://$cluster_address/api/v1/mssql/db/$db_id/snapshot\"\
    \n```\n\n```bash\n{\n  \"id\": \"$request_id\",\n  \"links\": [\n    {\n     \
    \ \"href\": \"https://$cluster_address/api/v1/mssql/db/request/$request_id\",\n\
    \      \"rel\": \"self\"\n    }\n  ],\n  \"status\": \"QUEUED\"\n}\n```\n\nOnce\
    \ the snapshot has been taken, the `$snapshot_id` can be retrieved from the request\
    \ with [`/mssql/request/{id}`](#operation/getMssqlAsyncRequestStatus).\n\n```bash\n\
    curl -X GET \\\n  \"https://$cluster_address/api/v1/mssql/request/$request_id\"\
    \n```\n\n```bash\n{\n  \"id\": \"$request_id\",\n  \"links\": [\n    {\n     \
    \ \"href\": \"https://$cluster_address/api/v1/mssql/db/snapshot/$snapshot_id\"\
    ,\n      \"rel\": \"result\"\n    },\n    {\n      \"href\": \"https://$cluster_address/api/v1/mssql/request/$request_id\"\
    ,\n      \"rel\": \"self\"\n    }\n  ],\n  \"status\": \"SUCCEEDED\"\n}\n```\n\
    \nThe `$snapshot_id` can be used to extract further information on the snapshot\
    \ with a GET on [`/mssql/db/snapshot/{id}`](#operation/getMssqlDbSnapshot).\n\n\
    ```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/mssql/db/snapshot/$snapshot_id\"\
    \n```\n\n```bash\n{\n  \"id\": \"$snapshot_id\",\n  \"date\": \"2017-02-02T18:53:12.718Z\"\
    ,\n  \"isOnDemandSnapshot\": true\n}\n```\n\nTo protect a specific database under\
    \ an SLA, perform a PATCH on [`/mssql/db/{id}`](#operation/updateMssqlDb)\n\n\
    ```bash\ncurl -X PATCH \\\n  -d '{\n    \"configuredSlaDomainId\": \"$sla_domain_id\"\
    \ }' \\\n  \"https://$cluster_address/api/v1/mssql/db/$db_id\"\n```\n\n```bash\n\
    {\n  \"id\": \"$db_id\",\n  \"name\": \"$db_name\",\n  \"configuredSlaDomainId\"\
    : \"$sla_domain_id\",\n  \"configuredSlaDomainName\": \"$sla_domain_name\",\n\
    \  \"effectiveSlaDomainId\": \"$sla_domain_id\",\n  \"effectiveSlaDomainName\"\
    : \"sla_domain_name\",\n  \"instanceId\": \"$instance_id\"\n  \"instanceName\"\
    : \"$instance_name\"\n}\n```\n\nList all snapshots for a database with a GET on\
    \ [`/mssql/db/{id}/snapshot`](#operation/queryMssqlDbSnapshot).\n\n```bash\ncurl\
    \ -X GET \\\n  \"https://$cluster_address/api/v1/mssql/db/$db_id/snapshot\"\n\
    ```\n\n```bash\n{\n  \"hasMore\": true,\n  \"data\": [\n    {\n      \"id\": \"\
    $snapshot_id\",\n      \"date\": \"2017-02-02T18:53:12.718Z\",\n      \"isOnDemandSnapshot\"\
    : true\n    }\n  ],\n  \"total\": 1\n}\n```\n\nPoint-in-time recovery is supported\
    \ when log backups are taken. The range of recoverable times can be listed with\
    \ a GET on [`/mssql/db/{id}/recoverable_range`](#operation/getMssqlDbRecoverableRanges).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/mssql/db/$db_id/recoverable_range\"\
    \n```\n\n```bash\n{\n  \"hasMore\": true,\n  \"data\": [\n    {\n      \"beginTime\"\
    : \"2017-02-02T18:53:12.694Z\",\n      \"endTime\": \"2017-02-02T20:53:12.694Z\"\
    \n    }\n  ],\n  \"total\": 1\n}\n```\n\nIt is possible that certain snapshots\
    \ fail to be taken as per the SLA policy.\nQuery any missed snapshot information\
    \ with a GET on [`/msssql/db/{id}/missed_snapshot`](#operation/getMissedMssqlDbSnapshots).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/msssql/db/$db_id/missed_snapshot\"\
    \n```\n\n```bash\n{\n  \"hasMore\": true,\n  \"data\": [\n    {\n      \"missedSnapshotTime\"\
    : \"2000-01-02T11:08:40.420Z\"\n    }\n  ],\n  \"total\": 1\n}\n```\n\nMissed\
    \ recoverable time ranges can be queried with a GET on [`/msssql/db/{id}/missed_recoverable_range`](#operation/getMssqlDbMissedRecoverableRanges).\n\
    \n```bash\ncurl -X GET \\\n  \"https://$cluster_address/api/v1/msssql/db/$db_id/missed_recoverable_range\"\
    \n```\n\n```bash\n{\n  \"hasMore\": true,\n  \"data\": [\n    {\n      \"beginTime\"\
    : \"2017-02-02T18:53:12.694Z\",\n      \"endTime\": \"2017-02-02T20:53:12.694Z\"\
    \n    }\n  ],\n  \"total\": 1\n}\n```\n\nDelete all snapshots for a specific database\
    \ with a DELETE on [`/mssql/db/{id}/snapshot`](#operation/deleteMssqlDbSnapshots).\n\
    \n```bash\ncurl -X DELETE \"https://$cluster_address/api/v1/mssql/db/$db_id/snapshot\"\
    \n```\n\n## Restore\n\nPerform a restore with a POST on [`/mssql/db/{id}/restore`](#operation/createRestoreMssqlDb)\
    \ specifying the timestamp as the recovery point.\n\n```bash\ncurl -X POST -d\
    \ \\\n  '{\n    \"recoveryPoint\": {\n      \"timestampMs\": 12345\n    }\n  }'\
    \ \\\n  \"https://$cluster_address/api/v1/mssql/db/$db_id/restore\"\n```\n\nA\
    \ database can also be exported to another instance with a POST on [`/mssql/db/{id}/export`](#operation/createExportMssqlDb).\n\
    \n```bash\ncurl -X POST -d \\\n  '{\n    \"recoveryPoint\": {\n      \"timestampMs\"\
    : 12345\n    },\n    \"targetInstanceId\": \"$instance_id\",\n    \"targetDatabaseName\"\
    : \"$db_name\"\n  }' \\\n  \"https://$cluster_address/api/v1/mssql/db/$db_id/export\"\
    \n```\n\n## Live Mount\n\nPerform a Live Mount with a POST on [`/mssql/db/{id}/mount`](#operation/createMssqlMount),\
    \ specifying the timestamp as the recovery point.\n\n```bash\ncurl -X POST -d\
    \ \\\n  '{\n    \"recoveryPoint\": {\n      \"timestampMs\": 12345\n    },\n \
    \   \"mountedDatabaseName\": \"$db_name\"\n  }' \\\n  \"https://$cluster_address/api/v1/mssql/db/$db_id/mount\"\
    \n```\n\nAll current Live Mounts can be found with a GET on [`/mssql/db/mount`](#operation/queryMssqlMount).\n\
    \n```bash\ncurl -X GET \"https://$cluster_address/api/v1/mssql/db/mount\"\n```\n\
    \n```bash\n{\n  \"hasMore\": true,\n  \"data\": [\n    {\n      \"id\": \"$mount_id\"\
    ,\n      \"sourceDatabaseId\": \"$source_db_id\",\n      \"sourceRecoveryPoint\"\
    : {\n        \"timestampMs\": 12345\n      },\n      \"targetInstanceId\": \"\
    $target_instance_id\",\n      \"creationDate\": \"2017-02-02T18:53:12.694Z\",\n\
    \      \"isReady\": true,\n      \"mountedDatabaseId\": \"$mounted_db_id\"\n \
    \   }\n  ],\n  \"total\": 1\n}\n```\n\nFurther details for a single Live Mount\
    \ are acquired from [`/mssql/db/mount/{id}`](#operation/getMssqlMount).\n\n```bash\n\
    curl -X GET \"https://$cluster_address/api/v1/mssql/db/mount/$mount_id\"\n```\n\
    \n```bash\n{\n  \"id\": \"$mount_id\",\n  \"sourceDatabaseId\": \"$source_db_id\"\
    ,\n  \"sourceRecoveryPoint\": {\n    \"timestampMs\": 12345\n  },\n  \"targetInstanceId\"\
    : \"$target_instance_id\",\n  \"creationDate\": \"2017-02-02T18:53:12.694Z\",\n\
    \  \"isReady\": true,\n  \"mountedDatabaseId\": \"$mounted_db_id\",\n  \"links\"\
    : [\n    {\n      \"href\": \"https://$cluster_address/api/v1/mssql/db/$source_db_id\"\
    ,\n      \"rel\": \"sourceDatabase\"\n    },\n    {\n      \"href\": \"https://$cluster_address/api/v1/mssql/instance/$target_instance_id\"\
    ,\n      \"rel\": \"targetInstance\"\n    },\n    {\n      \"href\": \"https://$cluster_address/api/v1/mssql/db/$mounted_db_id\"\
    ,\n      \"rel\": \"mountedDatabase\"\n    }\n  ],\n}\n```\n\nDelete a Live Mount\
    \ with a DELETE on [`/mssql/db/mount/{id}`](#operation/createMssqlUnmount).\n\n\
    ```bash\ncurl -X DELETE \"https://$cluster_address/api/v1/mssql/db/mount/$mount_id\"\
    \n```\n\n# Legal\n\n## Copyright\n\nRubrik REST API - Copyright \xA9 2017 Rubrik\
    \ Inc.\nAll rights reserved.\n\nThis documentation may be used free of charge.\
    \ Selling without prior written consent is prohibited.\nObtain permission before\
    \ redistributing. In all cases, this copyright notice and disclaimer must remain\n\
    intact.\n\n\n## Disclaimer\n\nTHE CONTENTS OF THIS DOCUMENTATION ARE PROVIDED\
    \ \"AS IS,\" AND COPYRIGHT HOLDERS MAKE NO\nREPRESENTATIONS OR WARRANTIES, EXPRESS\
    \ OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,\nWARRANTIES OF MERCHANTABILITY, FITNESS\
    \ FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR\nTITLE; THAT THE CONTENTS OF\
    \ THE DOCUMENTATION ARE SUITABLE FOR ANY PURPOSE; THAT THE\nIMPLEMENTATION OF\
    \ SUCH CONTENTS WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS,\nTRADEMARKS\
    \ OR OTHER RIGHTS.\nCOPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT,\
    \ SPECIAL OR CONSEQUENTIAL\nDAMAGES ARISING OUT OF ANY USE OF THE DOCUMENTATION\
    \ OR THE PERFORMANCE OR IMPLEMENTATION OF\nTHE CONTENTS THEREOF.\n\n## Trademarks\n\
    \nRubrik, the Rubrik logo, Rubrik Envision, and Rubrik Edge are trademarks or\
    \ registered trademarks of Rubrik, Inc. in the U.S. and/or other countries. All\
    \ other trademarks are the property of their respective owners.\n"
  x-logo:
    url: /v1/web/bin/assets/img/rubrik_logo.svg
basePath: /api
schemes:
- https
consumes:
- application/json
produces:
- application/json
paths:
  /v1/cluster/{id}:
    get:
      summary: Get cluster details
      description: Retrieve public information about the Rubrik cluster
      operationId: getPublicClusterInfo
      tags:
      - /v1/cluster
      x-group: cluster
      parameters:
      - in: path
        description: ID of the Rubrik cluster or *me* for self.
        name: id
        required: true
        default: me
        type: string
      responses:
        '200':
          description: Information about the cluster
          schema:
            $ref: '#/definitions/ClusterInfo'
  /v1/cluster/{id}/version:
    get:
      summary: Get cluster software version
      description: Retrieves software version of the Rubrik cluster
      operationId: getClusterVersion
      security: []
      tags:
      - /v1/cluster
      x-group: cluster
      parameters:
      - in: path
        description: ID of the Rubrik cluster or *me* for self
        name: id
        required: true
        default: me
        type: string
      responses:
        '200':
          description: Software version running on the cluster
          schema:
            $ref: '#/definitions/ClusterVersion'
      x-unauthenticated: true
  /v1/cluster/{id}/api_version:
    get:
      summary: Get cluster REST API version
      description: Retrieves software version of the Rubrik cluster
      operationId: getClusterApiVersion
      security: []
      tags:
      - /v1/cluster
      x-group: cluster
      parameters:
      - in: path
        description: ID of the Rubrik cluster or *me* for self
        name: id
        required: true
        default: me
        type: string
      responses:
        '200':
          description: REST API version running on the cluster
          schema:
            $ref: '#/definitions/ClusterApiVersion'
      x-unauthenticated: true
  /v1/fileset:
    get:
      summary: Get summary information for all filesets
      description: Retrieve summary information for each fileset. Optionally, filter
        the retrieved information.
      operationId: queryFileset
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - name: primary_cluster_id
        in: query
        description: 'Filter the summary information based on the primary_cluster_id
          of the primary Rubrik cluster.

          Use **_local_** as the primary_cluster_id of the Rubrik cluster that is
          hosting the current REST API session.'
        required: false
        type: string
      - name: host_id
        in: query
        description: Filter the summary information based on the ID of the host referenced
          by the fileset.
        required: false
        type: string
      - name: share_id
        in: query
        description: 'Filter the summary information based on the ID of the host share
          referenced by the fileset.

          Use **_NONE_** to only return information for filesets that were not created
          based on a host share.

          Use **_ANY_** to only return information for filesets that were created
          based on a host share.'
        required: false
        type: string
      - name: is_relic
        in: query
        description: Filter the summary information based on the relic status of the
          fileset. Returns both relic and non relic if the parameter is not set.
        required: false
        type: boolean
      - name: effective_sla_domain_id
        in: query
        description: 'Filter the summary information based on the ID of the effective
          SLA Domain inherited by a fileset.

          Use **_UNPROTECTED_** to only return information for filesets that do not
          have an effective SLA Domain.

          Use **_PROTECTED_** to only return information for filesets that do have
          an effective SLA Domain.'
        required: false
        type: string
      - name: template_id
        in: query
        description: 'Filter the summary information based on the ID of a fileset
          template.


          Use **_NONE_** to only return information for filesets that were not created
          from a fileset template.


          Use **_ANY_** to only return information for filesets that were created
          from a fileset template.'
        required: false
        type: string
      - name: limit
        in: query
        description: 'Limit the summary information to a specified maximum number
          of filesets.


          Optionally, use with **_offset_** to start the count at a specified point.


          Optionally, use with **_sort_by_** to perform sort on given attributes.
          Include **_sort_order_** to determine the ascending or descending direction
          of sort.'
        required: false
        type: integer
        format: int32
        minimum: 0
      - name: offset
        in: query
        description: Starting position in the list of fileset entries contained in
          the response. The summary information includes the specified numbered entry
          and all higher numbered entries. Use with **_limit_** to retrieve the summary
          information as smaller groups of entries, e.g. for paging of results.
        required: false
        type: integer
        format: int32
        minimum: 0
      - name: name
        in: query
        description: Retrieve filesets with a name matching the provided name. The
          search is performed as a case-insensitive infix search.
        required: false
        type: string
      - name: host_name
        in: query
        description: Retrieve filesets with a host name matching the provided name.
          The search is performed as a case-insensitive infix search.
        required: false
        type: string
      - name: sort_by
        in: query
        description: 'Specifies a comma-separated list of fileset attributes to use
          in sorting the fileset summary information. Performs an ASCII sort of the
          summary information using each specified attribute, in the order specified.


          Valid attributes are: **_name_**, **_hostName_**, **_templateType_**, **_slaName_**,
          **_includes_**, **_excludes_**, and **_exceptions_**. Requires **_sort_order_**.'
        required: false
        type: string
        enum:
        - name
        - hostName
        - templateId
        - effectiveSlaDomainName
        - includes
        - excludes
        - exceptions
      - name: sort_order
        in: query
        description: Sort order, either ascending or descending
        required: false
        type: string
        enum:
        - asc
        - desc
      responses:
        '200':
          description: Summary information for filesets.
          schema:
            $ref: '#/definitions/FilesetSummaryListResponse'
    post:
      summary: Create one fileset for a host
      description: Create a fileset for a network host. A fileset is a fileset template
        applied to a host
      operationId: createFileset
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: body
        description: Specify a host id and a template id
        name: definition
        required: true
        schema:
          $ref: '#/definitions/FilesetCreate'
      responses:
        '201':
          description: Details of the new fileset.
          schema:
            $ref: '#/definitions/FilesetDetail'
  /v1/fileset/{id}:
    get:
      summary: Get information for a single fileset
      description: Retrieve summary information for a fileset by specifying the fileset
        ID.
      operationId: getFileset
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: Specify the fileset ID.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Detailed information for the specified fileset.
          schema:
            $ref: '#/definitions/FilesetDetail'
    patch:
      summary: Update a Fileset
      description: Update a Fileset with the specified properties.
      operationId: updateFileset
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: ID of the Fileset to update.
        name: id
        required: true
        type: string
      - in: body
        description: Properties to update.
        name: fileset_update_properties
        required: true
        schema:
          $ref: '#/definitions/FilesetUpdate'
      responses:
        '200':
          description: Returned if the update was successful
          schema:
            $ref: '#/definitions/FilesetDetail'
    delete:
      summary: Delete a fileset
      description: Delete a fileset by specifying the fileset ID.
      operationId: deleteFileset
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: Provide a fileset ID to delete.
        name: id
        required: true
        type: string
      - in: query
        description: Flag to indicate whether to preserve snapshots of the fileset
          or to delete them. Default behavior is to preserve them.
        name: preserve_snapshots
        required: false
        type: boolean
      responses:
        '204':
          description: Deleted the specified fileset.
        '404':
          description: Fileset deletion failed
  /v1/fileset/{id}/missed_snapshot:
    get:
      summary: Get missed snapshots for a fileset
      description: Retrieve summary information about all missed snapshots for a fileset.
      operationId: getMissedFilesetSnapshots
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: ID of the fileset.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Summary information about missed snapshots for the specified
            fileset.
          schema:
            $ref: '#/definitions/MissedSnapshotListResponse'
  /v1/fileset/{id}/search:
    get:
      summary: Search for a file within the fileset
      description: Search for a file within the fileset. Search via full path prefix
        or filename prefix.
      operationId: searchFileset
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: Fileset ID to search
        name: id
        required: true
        type: string
      - in: query
        description: The path query. Either path prefix or filename prefix.
        name: path
        required: true
        type: string
      responses:
        '200':
          description: Search results
          schema:
            $ref: '#/definitions/SearchResponseListResponse'
  /v1/fileset/{id}/snapshot:
    post:
      summary: Initiate an on-demand backup for a fileset
      description: Create an on-demand backup request for the given fileset.
      operationId: createFilesetBackupJob
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: ID of the Fileset
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for the on-demand backup.
        required: false
        name: config
        schema:
          $ref: '#/definitions/BaseOnDemandSnapshotConfig'
      responses:
        '202':
          description: Status for the backup request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
    delete:
      summary: Delete all snapshots of a fileset
      description: 'Delete all snapshots that were created based on a fileset by providing
        the fileset ID.

        Requires an unprotected fileset. Remove the fileset from all SLA Domains.'
      operationId: deleteFilesetSnapshots
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: ID of the fileset.
        name: id
        required: true
        type: string
      responses:
        '204':
          description: Successfully removed all snapshots for the fileset.
  /v1/fileset/snapshot/{id}:
    delete:
      summary: Delete a fileset snapshot
      description: Delete a fileset snapshot. A snapshot is deleted only if it is
        an on-demand snapshot, a snapshot of an unprotected fileset or a local snapshot
        that was downloaded from an archive location.
      operationId: deleteFilesetSnapshot
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: ID of snapshot
        name: id
        required: true
        type: string
      - in: query
        description: Snapshot location to delete. Use **_local_** to delete all local
          snapshots and **_all_** to delete the snapshot in all locations.
        name: location
        required: true
        type: string
        enum:
        - all
        - local
      responses:
        '204':
          description: Snapshot sucessfully deleted
  /v1/fileset/snapshot/{id}/browse:
    get:
      summary: Lists all files and directories in a given path
      description: Lists all files and directories in a given path
      operationId: browseFilesetSnapshot
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: ID of snapshot
        name: id
        required: true
        type: string
      - in: query
        description: The absolute path of the starting point for the directory listing.
        name: path
        required: true
        type: string
      - in: query
        description: Starting position in the list of path entries contained in the
          query results, sorted by lexicographical order. The response includes the
          specified numbered entry and all higher numbered entries.
        name: offset
        required: false
        type: integer
        format: int32
      - in: query
        description: Maximum number of entries in the response.
        name: limit
        required: false
        type: integer
        format: int32
      responses:
        '200':
          description: List of files and directories at the specified path.
          schema:
            $ref: '#/definitions/BrowseResponseListResponse'
  /v1/fileset/snapshot/{id}/download:
    post:
      summary: Create a download fileset snapshot from archival request
      description: Create a download fileset snapshot from archival request.
      operationId: createDownloadFilesetSnapshotFromCloud
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: ID of snapshot
        name: id
        required: true
        type: string
      responses:
        '202':
          description: Status for the download request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/fileset/snapshot/{id}/download_file:
    post:
      summary: Create a file download job from a fileset backup
      description: 'Initiate a job to download a file from a backup of a fileset.
        Returns a job instance ID.

        To retrieve the file, use GET /user_notification/{user_id} to monitor the
        job. When the download is ready, JobNotificationInfo includes the job instance
        ID as the value of **_jobId_** and the file download link as the value of
        DownloadFile.'
      operationId: createFilesetDownloadFileJob
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: ID of snapshot
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for a download job.
        name: config
        required: true
        schema:
          $ref: '#/definitions/FilesetDownloadFileJobConfig'
      responses:
        '202':
          description: Status for the download request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/fileset/snapshot/{id}/export_file:
    post:
      summary: Create export job
      description: Initiate a job to copy a file or folder from a fileset backup to
        a destination host other than the source host. Returns the job instance ID.
      operationId: createFilesetExportFileJob
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: ID of snapshot
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for job to export a file or folder from a fileset
          backup.
        name: config
        required: true
        schema:
          $ref: '#/definitions/FilesetExportFileJobConfig'
      responses:
        '202':
          description: Status for the export request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/fileset/snapshot/{id}/restore_file:
    post:
      summary: Create restore job
      description: Initiate a job to copy a file or folder from a fileset backup to
        the source host. Returns the job instance ID.
      operationId: createFilesetRestoreFileJob
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: ID of snapshot
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for job to restore a file or folder from a fileset
          backup.
        name: config
        required: true
        schema:
          $ref: '#/definitions/FilesetRestoreFileJobConfig'
      responses:
        '202':
          description: Status for the restore request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/fileset/request/{id}:
    get:
      summary: Get details about an async request
      description: Get details about a fileset related async request.
      operationId: getFilesetAsyncRequestStatus
      tags:
      - /v1/fileset
      x-group: fileset
      parameters:
      - in: path
        description: ID of the request
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Status for the async request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/fileset_template:
    get:
      summary: Get summary information for all fileset templates
      description: 'Retrieve summary information for all fileset templates, including:
        ID and name of the fileset template, fileset template creation timestamp,
        array of the included filepaths, array of the excluded filepaths.'
      operationId: queryFilesetTemplate
      tags:
      - /v1/fileset_template
      x-group: fileset
      parameters:
      - name: primary_cluster_id
        in: query
        description: 'Filter the summary information based on the primary_cluster_id
          of the primary Rubrik cluster.

          Use **_local_** as the primary_cluster_id of the Rubrik cluster that is
          hosting the current REST API session.'
        required: false
        type: string
      - name: operating_system_type
        in: query
        description: 'Filter the summary information based on the operating system
          type of the fileset. Accepted values: ''Windows'', ''Linux'', ''ANY'', ''NONE''.

          Use **_NONE_** to only return information for fileset templates that do
          not have operating system type set.

          Use **_ANY_** to only return information for fileset templates that have
          operating system type set.'
        required: false
        type: string
        enum:
        - Linux
        - Windows
        - ANY
        - NONE
      - name: share_type
        in: query
        description: 'Filter the summary information based on the share type where
          the fileset is assigned to. Accepted values: ''NFS'', ''SMB'', ''ANY'',
          ''NONE''.

          Use **_NONE_** to only return information for fileset templates that do
          not have share type set.

          Use **_ANY_** to only return information for fileset templates that have
          share type set.'
        required: false
        type: string
        enum:
        - NFS
        - SMB
        - ANY
        - NONE
      - name: name
        in: query
        description: Retrieve fileset templates with a name matching the provided
          name. The search is performed as a case-insensitive infix search.
        required: false
        type: string
      - name: sort_by
        in: query
        description: 'Specifies a comma-separated list of fileset attributes to use
          in sorting the fileset summary information. Performs an ASCII sort of the
          summary information using each specified attribute, in the order specified.


          Valid attributes are: **_name_**, **_includes_**, **_excludes_**, **_exceptions_**,
          **_hostCount_**, **_shareType_**. Default sort_order is ascending'
        required: false
        type: string
        enum:
        - name
        - hostCount
        - includes
        - excludes
        - exceptions
        - shareType
      - name: sort_order
        in: query
        description: Sort order, either ascending or descending
        required: false
        type: string
        enum:
        - asc
        - desc
      responses:
        '200':
          description: Summary information for all fileset templates.
          schema:
            $ref: '#/definitions/FilesetTemplateDetailListResponse'
    post:
      summary: Create a fileset template
      description: 'Create a fileset template. The template is applied to the host.  Each
        template is a set of paths on the host.


        A template uses full paths and wildcards to define the objects to include,
        exclude, and exempt from exclusion.


        The **_exceptions_** value specifies paths that should not be excluded from
        the fileset by the **_exclude_** value.


        Specify an array of full path descriptions for each property **_include_**,
        **_exclude_**, and **_exceptions_**.


        Acceptable wildcard characters are

        + **_\*_** Single asterisk matches zero or more characters up to a path deliminator

        + **_\*\*_** Double asterisk matches zero or more characters


        The following rules apply to path descriptions

        + Accepts UTF-8 characters

        + Case sensitive

        + Forward slash character **_/_** is the path deliminator

        + Symbolic links must point to a subset of a non symbolic link path

        + Paths that do not start with **_/_** are modified to start with **_\*\*/_**

        + Paths that do not end with **_\*_** are modified to end with **_/\*\*_**'
      operationId: createFilesetTemplate
      tags:
      - /v1/fileset_template
      x-group: fileset
      parameters:
      - in: body
        description: Provide an object with the fileset template definition.
        name: definition
        required: true
        schema:
          $ref: '#/definitions/FilesetTemplateCreate'
      responses:
        '201':
          description: Summary information for the created fileset template.
          schema:
            $ref: '#/definitions/FilesetTemplateDetail'
  /v1/fileset_template/{id}:
    get:
      summary: Get information for a fileset template
      description: Retrieve summary information for a specified fileset template.
      operationId: getFilesetTemplate
      tags:
      - /v1/fileset_template
      x-group: fileset
      parameters:
      - in: path
        description: The ID of the fileset template.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Summary information for the specified fileset template.
          schema:
            $ref: '#/definitions/FilesetTemplateDetail'
    patch:
      summary: Modify a fileset template
      description: Modify the values of specified fileset template.
      operationId: updateFilesetTemplate
      tags:
      - /v1/fileset_template
      x-group: fileset
      parameters:
      - in: path
        description: ID of the fileset template to update.
        name: id
        required: true
        type: string
      - in: body
        description: Provide an object with the fileset template definition.
        name: definition
        required: true
        schema:
          $ref: '#/definitions/FilesetTemplatePatch'
      responses:
        '200':
          description: Detailed information for modified fileset template.
          schema:
            $ref: '#/definitions/FilesetTemplateDetail'
    delete:
      summary: Delete a fileset template
      description: Deletes the specfied fileset template. All associated filesets
        are deleted.
      operationId: deleteFilesetTemplate
      tags:
      - /v1/fileset_template
      x-group: fileset
      parameters:
      - in: path
        description: ID of the fileset template to remove.
        name: id
        required: true
        type: string
      - in: query
        description: Flag to indicate whether to convert snapshots of all filesets
          of this template to relics or to delete them.  Default is true.
        name: preserve_snapshots
        required: false
        type: boolean
      responses:
        '204':
          description: Successfully removed the specified fileset template.
  /v1/host:
    get:
      summary: Get summary information for hosts
      description: Retrieve summary information for all hosts that are registered
        with a Rubrik cluster.
      operationId: queryHost
      tags:
      - /v1/host
      x-group: hosts
      parameters:
      - in: query
        description: 'Filter the summary information based on the operating system
          type. Accepted values are ''Windows'', ''Linux'', ''ANY'', ''NONE''.

          Use **_NONE_** to only return information for hosts templates that do not
          have operating system type set.

          Use **_ANY_** to only return information for hosts that have operating system
          type set.'
        name: operating_system_type
        required: false
        type: string
        enum:
        - ANY
        - NONE
        - Linux
        - Windows
      - in: query
        description: Filters the summary information based on the Rubrik cluster specified
          by the value of primary_cluster_id. Use 'local' for the Rubrik cluster that
          is hosting the current REST API session.
        name: primary_cluster_id
        required: false
        type: string
      - in: query
        description: Retrieve hosts with a host name matching the provided name. The
          search type is infix
        name: hostname
        required: false
        type: string
      - name: sort_by
        in: query
        description: 'Specifies the host attribute to use in sorting the host summary
          information. Performs an ASCII sort of the summary information using the
          specified attribute, in the order specified.

          Valid attributes are ''hostname'''
        required: false
        type: string
        enum:
        - hostname
      - in: query
        description: Sort order, either ascending or descending
        name: sort_order
        required: false
        type: string
        enum:
        - asc
        - desc
      responses:
        '200':
          description: Summary information for registered hosts.
          schema:
            $ref: '#/definitions/HostSummaryListResponse'
    post:
      summary: Register a host
      description: Register a host.
      operationId: registerHost
      tags:
      - /v1/host
      x-group: hosts
      parameters:
      - in: body
        description: Registration definition for a host.
        name: host
        required: true
        schema:
          $ref: '#/definitions/HostRegister'
      responses:
        '201':
          description: Summary information from registration of the host.
          schema:
            $ref: '#/definitions/HostDetail'
  /v1/host/{id}:
    get:
      summary: Get summary information for a host
      description: Retrieve summary information for a registered host.
      operationId: getHost
      tags:
      - /v1/host
      x-group: hosts
      parameters:
      - in: path
        description: ID of the registered host.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Summary information for the specified host.
          schema:
            $ref: '#/definitions/HostDetail'
    patch:
      summary: Modify information for a registered host
      description: Change the FQDN or IPv4 value used to connect with a registered
        host. Optionally, specify whether to compress data before transfer.
      operationId: updateHost
      tags:
      - /v1/host
      x-group: hosts
      parameters:
      - in: path
        description: ID of the registered host
        name: id
        required: true
        type: string
      - in: body
        description: Properties of host to update
        name: host_update_properties
        required: true
        schema:
          $ref: '#/definitions/HostUpdate'
      responses:
        '200':
          description: Summary information for the specified host.
          schema:
            $ref: '#/definitions/HostDetail'
    delete:
      summary: Delete a registered host
      description: Delete host by specifying the host ID.
      operationId: deleteHost
      tags:
      - /v1/host
      x-group: hosts
      parameters:
      - in: path
        description: ID of the host to delete
        name: id
        required: true
        type: string
      responses:
        '204':
          description: Deleted specified host.
  /v1/host/{id}/search:
    get:
      summary: Search for a file within the host
      description: Search for a file within the host. Search via full path prefix
        or filename prefix.
      operationId: searchHost
      tags:
      - /v1/host
      x-group: hosts
      parameters:
      - in: path
        description: ID of the host to search
        name: id
        required: true
        type: string
      - in: query
        description: The path query. Either path prefix or filename prefix.
        name: path
        required: true
        type: string
      responses:
        '200':
          description: Search results
          schema:
            $ref: '#/definitions/SearchResponseListResponse'
  /v1/mssql/db:
    get:
      summary: Get summary information for SQL Server databases
      description: Returns a list of summary information for Microsoft SQL databases.
      operationId: queryMssqlDb
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: query
        description: Filter by Microsoft SQL instance.
        name: instance_id
        required: false
        type: string
      - in: query
        description: Filter by effective SLA domain.
        name: effective_sla_domain_id
        required: false
        type: string
      - in: query
        description: Filter by primary cluster.
        name: primary_cluster_id
        required: false
        type: string
      - in: query
        description: Filter by the isRelic field of the database summary information.
        name: is_relic
        required: false
        type: boolean
      - in: query
        description: Filter by the isLiveMount field of the database summary information.
        name: is_live_mount
        required: false
        type: boolean
      responses:
        '200':
          description: Returned if the query was successful.
          schema:
            $ref: '#/definitions/MssqlDbSummaryListResponse'
  /v1/mssql/db/{id}:
    get:
      summary: Get detailed information for a Microsoft SQL database
      description: Returns a detailed view of a Microsoft SQL database.
      operationId: getMssqlDb
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the Microsoft SQL database to fetch.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Returned if the query was successful.
          schema:
            $ref: '#/definitions/MssqlDbDetail'
    patch:
      summary: Update a Microsoft SQL database
      description: Update a Microsoft SQL database with the specified properties.
      operationId: updateMssqlDb
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the Microsoft SQL database to update.
        name: id
        required: true
        type: string
      - in: body
        description: Properties to update.
        name: db_update_properties
        required: true
        schema:
          $ref: '#/definitions/MssqlDbUpdate'
      responses:
        '200':
          description: Returned if the update was successful
          schema:
            $ref: '#/definitions/MssqlDbDetail'
  /v1/mssql/db/{id}/export:
    post:
      summary: Export a Microsoft SQL database to a new location
      description: Create a request to export a Microsoft SQL database. To check the
        result of the request, poll /mssql/request/{id}.
      operationId: createExportMssqlDb
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the Microsoft SQL database.
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for the export.
        name: config
        required: true
        schema:
          $ref: '#/definitions/ExportMssqlDbJobConfig'
      responses:
        '202':
          description: Returns the async request for the initiated export.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/mssql/db/{id}/missed_recoverable_range:
    get:
      summary: Get missed recoverable ranges of a Microsoft SQL database
      description: Retrieve a list of missed recoverable ranges for a Microsoft SQL
        database. For each run of one type of error, the first and last occurrence
        of the error are given.
      operationId: getMssqlDbMissedRecoverableRanges
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the Microsoft SQL database.
        name: id
        required: true
        type: string
      - in: query
        description: Filter the missed ranges to end after this time. The date-time
          string should be in ISO8601 format, such as "2016-01-01T01:23:45.678".
        name: after_time
        required: false
        type: string
        format: date-time
      - in: query
        description: Filter the missed ranges to start before this time. The date-time
          string should be in ISO8601 format, such as "2016-01-01T01:23:45.678".
        name: before_time
        required: false
        type: string
        format: date-time
      responses:
        '200':
          description: Returns the missed recoverable ranges for the Microsoft SQL
            database.
          schema:
            $ref: '#/definitions/MssqlMissedRecoverableRangeListResponse'
  /v1/mssql/db/{id}/missed_snapshot:
    get:
      summary: Get summary information for missed snapshots of a SQL database
      description: Returns a list of summary information for the missed snapshots
        of a Microsoft SQL database, including the time of day and the locations where
        the snapshot was missed.
      operationId: getMissedMssqlDbSnapshots
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the Microsoft SQL database.
        name: id
        required: true
        type: string
      - in: query
        description: Filter snapshots to those missed on or after this time. The date-time
          string should be in ISO8601 format, such as "2016-01-01T01:23:45.678".
        name: after_time
        required: false
        type: string
        format: date-time
      - in: query
        description: Filter snapshots to those missed on or before this time. The
          date-time string should be in ISO8601 format, such as "2016-01-01T01:23:45.678".
        name: before_time
        required: false
        type: string
        format: date-time
      responses:
        '200':
          description: Returns details about the missed snapshots.
          schema:
            $ref: '#/definitions/MissedSnapshotListResponse'
  /v1/mssql/db/{id}/mount:
    post:
      summary: Live Mount SQL Server database from a point in time copy
      description: Create an async request to Live Mount a SQL Server database. Poll
        the task status by using /mssql/request/{id}.
      operationId: createMssqlMount
      tags:
      - /v1/mssql
      x-group: mssql_mount
      parameters:
      - in: path
        description: ID of the SQL Server database.
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for the Live Mount.
        name: config
        required: true
        schema:
          $ref: '#/definitions/MountMssqlDbConfig'
      responses:
        '202':
          description: Returns the async task object for the Live Mount request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/mssql/db/{id}/recoverable_range:
    get:
      summary: Get recoverable ranges of a Microsoft SQL database
      description: Retrieve the recoverable ranges for a specified Microsoft SQL database.
        A begin and/or end timestamp can be provided to retrieve only the ranges that
        fall within the window.
      operationId: getMssqlDbRecoverableRanges
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the Microsoft SQL database.
        name: id
        required: true
        type: string
      - in: query
        description: Filter ranges to end after this time. The date-time string should
          be in ISO8601 format, such as "2016-01-01T01:23:45.678Z".
        name: after_time
        required: false
        type: string
        format: date-time
      - in: query
        description: Filter ranges to start before this time. The date-time string
          should be in ISO8601 format, such as "2016-01-01T01:23:45.678".
        name: before_time
        required: false
        type: string
        format: date-time
      responses:
        '200':
          description: Returns the recoverable ranges for the Microsoft SQL database.
          schema:
            $ref: '#/definitions/MssqlRecoverableRangeListResponse'
  /v1/mssql/db/{id}/restore:
    post:
      summary: Restore a Microsoft SQL database
      description: Create a request to restore a SQL Server database. To check the
        result of the request, poll /mssql/request/{id}.
      operationId: createRestoreMssqlDb
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the Microsoft SQL database.
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for the restore.
        name: config
        required: true
        schema:
          $ref: '#/definitions/RestoreMssqlDbJobConfig'
      responses:
        '202':
          description: Returns the async request for the initiated restore.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/mssql/db/{id}/snapshot:
    get:
      summary: Get summary information for snapshots of a Microsoft SQL database
      description: Returns a list of summary information for snapshots of a Microsoft
        SQL database.
      operationId: queryMssqlDbSnapshot
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the Microsoft SQL database.
        name: id
        required: true
        type: string
      - in: query
        description: Filter snapshots to those taken on or after this time. The date-time
          string should be in ISO8601 format, such as "2016-01-01T01:23:45.678".
        name: after_time
        required: false
        type: string
        format: date-time
      - in: query
        description: Filter snapshots to those taken before or on this time. The date-time
          string should be in ISO8601 format, such as "2016-01-01T01:23:45.678".
        name: before_time
        required: false
        type: string
        format: date-time
      responses:
        '200':
          description: Returns summary information for snapshots.
          schema:
            $ref: '#/definitions/MssqlDbSnapshotSummaryListResponse'
    post:
      summary: Take an on-demand backup of a Microsoft SQL database
      description: Take an on-demand backup of a Microsoft SQL database. The forceFullSnapshot
        property can be set to true to force a full snapshot. To check the result
        of the request, poll /mssql/request/{id}.
      operationId: createOnDemandMssqlBackup
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the Microsoft SQL database.
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for the on-demand backup.
        name: config
        required: true
        schema:
          $ref: '#/definitions/MssqlBackupJobConfig'
      responses:
        '202':
          description: Returns the async request for the initiated on-demand backup.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
    delete:
      summary: Delete all snapshots of a Microsoft SQL database
      description: Deletes all snapshots of a Microsoft SQL database. The database
        must be unprotected for the operation to succeed.
      operationId: deleteMssqlDbSnapshots
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the Microsoft SQL database.
        name: id
        required: true
        type: string
      responses:
        '204':
          description: Returned if all snapshots for the Microsoft SQL database were
            successfully removed.
  /v1/mssql/db/mount:
    get:
      summary: Get summary information for all Live Mounts of SQL Server databases
      description: Returns a list with summary information for all Live Mounted SQL
        Server databases.
      operationId: queryMssqlMount
      tags:
      - /v1/mssql
      x-group: mssql_mount
      parameters:
      - in: query
        description: Filters by the ID of the source SQL Server database.
        name: source_database_id
        required: false
        type: string
      - in: query
        description: Filters by the name of the source SQL Server database using infix
          search.
        name: source_database_name
        required: false
        type: string
      - in: query
        description: Filters by the ID of the target SQL Server instance.
        name: target_instance_id
        required: false
        type: string
      - in: query
        description: Filters by the name of the mounted SQL Server database using
          infix search.
        name: mounted_database_name
        required: false
        type: string
      - in: query
        description: Specifies the SQL Server Live Mount attribute to use in sorting
          the summary information. Performs an ASCII sort using the specified attribute,
          in the order specified by sort_order.
        name: sort_by
        required: false
        type: string
        enum:
        - sourceDatabaseName
        - sourceRecoveryPoint
        - mountedDatabaseName
        - creationDate
      - in: query
        description: Specifies the sort order, either ascending or descending. Default
          order is ascending.
        name: sort_order
        required: false
        type: string
        enum:
        - asc
        - desc
      - in: query
        description: Returns the portion of the ordered list that starts after the
          element specified by the offset number.
        name: offset
        required: false
        type: integer
        format: int32
        minimum: 0
      - in: query
        description: Sets the maximum number of a elements to include in the data
          array of the response.
        name: limit
        required: false
        type: integer
        format: int32
        minimum: 0
      responses:
        '200':
          description: Returns summary information for all Live Mounts.
          schema:
            $ref: '#/definitions/MssqlMountSummaryListResponse'
  /v1/mssql/db/mount/{id}:
    get:
      summary: Get detailed information for a Live Mount of a SQL Server database
      description: Returns detailed information for the specified Live Mount of a
        SQL Server database.
      operationId: getMssqlMount
      tags:
      - /v1/mssql
      x-group: mssql_mount
      parameters:
      - in: path
        description: ID of the Live Mount to fetch.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Returns detailed information for a specified Live Mount of
            a SQL Server database.
          schema:
            $ref: '#/definitions/MssqlMountDetail'
    delete:
      summary: Delete a Live Mount of a SQL Server database
      description: Create an async request to delete a Live Mount of a SQL Server
        database. Poll the task status by using /mssql/request/{id}.
      operationId: createMssqlUnmount
      tags:
      - /v1/mssql
      x-group: mssql_mount
      parameters:
      - in: path
        description: ID of the Live Mount to delete.
        name: id
        required: true
        type: string
      - in: query
        description: Remove all data within the Rubrik cluster related to the Live
          Mount, even if the SQL Server database cannot be contacted. Default value
          is false.
        name: force
        required: false
        type: boolean
      responses:
        '202':
          description: Returns the task object for the async request to delete the
            Live Mount of a SQL Server database.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/mssql/db/snapshot/{id}:
    get:
      summary: Get details information about a Microsoft SQL database snapshot
      description: Returns detailed information about a Microsoft SQL database snapshot.
      operationId: getMssqlDbSnapshot
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the snapshot.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Returns details about a Microsoft SQL database snapshot.
          schema:
            $ref: '#/definitions/MssqlDbSnapshotDetail'
  /v1/mssql/instance:
    get:
      summary: Get summary information for Microsoft SQL instances
      description: Returns a list of summary information for Microsoft SQL instances.
      operationId: queryMssqlInstance
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - name: root_id
        in: query
        description: Include only instances that belong to this root.
        required: false
        type: string
      - in: query
        description: Limits the instances returned within one cluster specified by
          primary_cluster_id.
        name: primary_cluster_id
        required: false
        type: string
      responses:
        '200':
          description: Returned if the query was successful.
          schema:
            $ref: '#/definitions/MssqlInstanceSummaryListResponse'
  /v1/mssql/instance/{id}:
    get:
      summary: Get detailed information for a Microsoft SQL instance
      description: Returns a detailed view of a Microsoft SQL instance.
      operationId: getMssqlInstance
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the Microsoft SQL instance.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Returned if the query was successful.
          schema:
            $ref: '#/definitions/MssqlInstanceDetail'
    patch:
      summary: Update a Microsoft SQL instance
      description: Update a Microsoft SQL instance with specified properties.
      operationId: updateMssqlInstance
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the Microsoft SQL instance.
        name: id
        required: true
        type: string
      - in: body
        description: Properties to update.
        name: instance_update_properties
        required: true
        schema:
          $ref: '#/definitions/MssqlInstanceUpdate'
      responses:
        '200':
          description: Returned if the update was successful.
          schema:
            $ref: '#/definitions/MssqlInstanceDetail'
  /v1/mssql/request/{id}:
    get:
      summary: Get details for an async request
      description: Returns the task object for an async request related to SQL Server
        databases.
      operationId: getMssqlAsyncRequestStatus
      tags:
      - /v1/mssql
      x-group: mssql
      parameters:
      - in: path
        description: ID of the async request.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Status of the async request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/session:
    post:
      summary: Create user session
      description: Create a new login session
      operationId: createSession
      tags:
      - /v1/session
      x-group: session
      parameters: []
      responses:
        '200':
          description: Session creation successful
          schema:
            $ref: '#/definitions/SessionSummary'
  /v1/session/{id}:
    delete:
      summary: Delete user session
      description: Closes a user session and invalidates the session token
      operationId: deleteSession
      tags:
      - /v1/session
      x-group: session
      parameters:
      - in: path
        description: Session ID or  *me* for session of bearer token.
        name: id
        required: true
        default: me
        type: string
      responses:
        '204':
          description: Invalidation successful
  /v1/sla_domain:
    get:
      summary: Get list of SLA Domains
      description: Retrieve summary information for all SLA Domains.
      operationId: querySlaDomain
      tags:
      - /v1/sla_domain
      x-group: sla_domain
      parameters:
      - name: primary_cluster_id
        in: query
        description: Limits the information retrieved to those SLA Domains that are
          associated with the Rubrik cluster ID that is specified by primary_cluster_id.
          Use **local** for the Rubrik cluster that is hosting the current REST API
          session.
        required: false
        type: string
      - name: name
        in: query
        description: Limit the list information to those SLA Domains which match the
          specified SLA Domain 'name' value.
        required: false
        type: string
      - name: sort_by
        in: query
        description: Attribute to use to sort the SLA Domains summary information.
          Optionally use **_sort_order_** to specify whether to sort in ascending
          or descending order
        required: false
        type: string
        enum:
        - name
      - name: sort_order
        in: query
        description: Sort order, either ascending or descending. If not specified,
          SLA Domain summary results will be sorted in ascending order
        required: false
        type: string
        enum:
        - asc
        - desc
      responses:
        '200':
          description: Summary information for SLA Domains
          schema:
            $ref: '#/definitions/SlaDomainSummaryListResponse'
    post:
      summary: Create SLA Domain
      description: Create a new SLA Domain on a Rubrik cluster by specifying Domain
        Rules and policies.
      operationId: createSlaDomain
      tags:
      - /v1/sla_domain
      x-group: sla_domain
      parameters:
      - in: body
        description: 'SLA Domain definition. Two backup windows are allowed: one regular
          and one first full snapshot'
        name: definition
        required: true
        schema:
          $ref: '#/definitions/SlaDomainDefinition'
      responses:
        '201':
          description: Summary of newly created SLA Domain.
          schema:
            $ref: '#/definitions/SlaDomainSummary'
  /v1/sla_domain/{id}:
    get:
      summary: Get SLA Domain details
      description: Retrieve summary information for a specified SLA Domain.
      operationId: getSlaDomain
      tags:
      - /v1/sla_domain
      x-group: sla_domain
      parameters:
      - in: path
        description: ID of the SLA Domain.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Object containing information about the SLA Domain
          schema:
            $ref: '#/definitions/SlaDomainSummary'
    delete:
      summary: Remove SLA Domain
      description: Delete an SLA Domain from a Rubrik cluster. The SLA Domain must
        not be assigned to any VMs, filesets or databases.
      operationId: deleteSlaDomain
      tags:
      - /v1/sla_domain
      x-group: sla_domain
      parameters:
      - in: path
        description: ID of the SLA Domain.
        name: id
        required: true
        type: string
      responses:
        '204':
          description: Removed the specified SLA Domain.
    put:
      summary: Update SLA Domain
      description: Update the properties of an SLA Domain.
      operationId: updateSlaDomain
      tags:
      - /v1/sla_domain
      x-group: sla_domain
      parameters:
      - in: path
        description: ID of the SLA Domain.
        name: id
        required: true
        type: string
      - in: body
        description: 'Object containing updated SLA Domain. Two backup windows are
          allowed: one regular and one first full snapshot'
        name: update_info
        required: true
        schema:
          $ref: '#/definitions/SlaDomainDefinition'
      responses:
        '200':
          description: Object containing updated SLA Domain.
          schema:
            $ref: '#/definitions/SlaDomainSummary'
    patch:
      summary: Patch SLA Domain
      description: Patch the properties of an SLA Domain.
      operationId: patchSlaDomain
      tags:
      - /v1/sla_domain
      x-group: sla_domain
      parameters:
      - in: path
        description: ID of the SLA Domain.
        name: id
        required: true
        type: string
      - in: body
        description: 'Object containing the fields to be edited for SLA Domain. Two
          backup windows are allowed: one regular and one first full snapshot. For
          remote SLA domain, only archival spec edit is allowed.'
        name: patch_info
        required: true
        schema:
          $ref: '#/definitions/SlaDomainPatchDefinition'
      responses:
        '200':
          description: Object containing the patched SLA Domain.
          schema:
            $ref: '#/definitions/SlaDomainSummary'
  /v1/vmware/vcenter:
    get:
      summary: Get list of vCenters
      description: 'Retrieve information for each managed vCenter, including: ID,
        managed ID, address, username, SLA ID, and primary cluster ID.'
      operationId: queryVcenter
      tags:
      - /v1/vmware/vcenter
      x-group: vcenter
      parameters:
      - in: query
        description: Limits the information to the Rubrik cluster specified by the
          value of primary_cluster_id. Use 'local' for the Rubrik cluster that is
          hosting the current REST API session.
        name: primary_cluster_id
        required: false
        type: string
      responses:
        '200':
          description: Summary information for managed vCenters.
          schema:
            $ref: '#/definitions/VcenterSummaryListResponse'
    post:
      summary: Add vCenter Server
      description: Create a vCenter Server object by providing the address and account
        credentials of the vCenter Server. Initiates an asynchronous job to establish
        a connection with the vCenter Server and retrieve all metadata. Use GET /vcenter/{id}/status
        to check status.
      operationId: createVcenter
      tags:
      - /v1/vmware/vcenter
      x-group: vcenter
      parameters:
      - in: body
        description: IP address and account credentials of the vCenter Server server,
          and ID of the managing Rubrik cluster.
        name: vcenter_detail
        required: true
        schema:
          $ref: '#/definitions/VcenterConfig'
      responses:
        '202':
          description: Status for the add vCenter Server request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/vmware/vcenter/{id}:
    get:
      summary: Get the details of a vCenter Server
      description: Retrieve detailed information for a vCenter Server object.
      operationId: getVcenter
      tags:
      - /v1/vmware/vcenter
      x-group: vcenter
      parameters:
      - in: path
        description: ID of the vCenter Server.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Details for a vCenter Server object.
          schema:
            $ref: '#/definitions/VcenterDetail'
    patch:
      summary: Update the SLA Domain for a vCenter Server
      description: Update the SLA Domain that is configured for a vCenter Server.
      operationId: patchVcenter
      tags:
      - /v1/vmware/vcenter
      x-group: vcenter
      parameters:
      - in: path
        description: ID of the vCenter Server.
        name: id
        required: true
        type: string
      - in: body
        description: Object containing updated vCenter Server information.
        name: update_properties
        required: true
        schema:
          $ref: '#/definitions/VcenterPatch'
      responses:
        '200':
          description: Summary of the updated vCenter Server object.
          schema:
            $ref: '#/definitions/VcenterSummary'
    put:
      summary: Update vCenter Server
      description: Update the address, username and password of the specified vCenter
        Server object.
      operationId: updateVcenter
      tags:
      - /v1/vmware/vcenter
      x-group: vcenter
      parameters:
      - in: path
        description: ID of the vCenter Server.
        name: id
        required: true
        type: string
      - in: body
        description: Object containing updated vCenter Server information.
        name: update_properties
        required: true
        schema:
          $ref: '#/definitions/VcenterConfig'
      responses:
        '200':
          description: Summary of the updated vCenter Server object.
          schema:
            $ref: '#/definitions/VcenterSummary'
    delete:
      summary: Remove vCenter Server
      description: Initiates an asynchronous job to remove a vCenter Server object.
        The vCenter Server cannot have VMs mounted through the Rubrik cluster.
      operationId: deleteVcenter
      tags:
      - /v1/vmware/vcenter
      x-group: vcenter
      parameters:
      - in: path
        description: ID of the vCenter Server to remove.
        name: id
        required: true
        type: string
      responses:
        '202':
          description: Status for the async request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/vmware/vcenter/{id}/refresh:
    post:
      summary: Refresh vCenter Server metadata
      description: Create a job to refresh the metadata for the specified vCenter
        Server
      operationId: createRefresh
      tags:
      - /v1/vmware/vcenter
      x-group: vcenter
      parameters:
      - in: path
        description: ID of the vCenter Server
        name: id
        required: true
        type: string
      responses:
        '202':
          description: Job Instance ID of the scheduled vCenter Server refresh job.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/vmware/vcenter/request/{id}:
    get:
      summary: Get vCenter Server async request
      description: Get details about a vcenter related async request.
      operationId: getVcenterAsyncRequestStatus
      tags:
      - /v1/vmware/vcenter
      x-group: vcenter
      parameters:
      - in: path
        description: ID of the request
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Status for the async request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/vmware/vm:
    get:
      summary: Get list of VMs
      description: Get summary of all the VMs
      operationId: queryVm
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: query
        description: Filter by ID of effective SLA Domain.
        name: effective_sla_domain_id
        required: false
        type: string
      - in: query
        description: Filter by primary cluster ID, or **local**.
        name: primary_cluster_id
        required: false
        type: string
      - name: limit
        in: query
        description: Limit the number of matches returned.
        required: false
        type: integer
        format: int32
        minimum: 0
      - name: offset
        in: query
        description: Ignore these many matches in the beginning.
        required: false
        type: integer
        format: int32
        minimum: 0
      - name: is_relic
        in: query
        description: Filter by the isRelic field of the virtual machine. When this
          parameter is not set, return both relic and non-relic virtual machines.
        required: false
        type: boolean
      - name: name
        in: query
        description: Search by using a virtual machine name.
        required: false
        type: string
      - name: sla_assignment
        in: query
        description: Filter by SLA Domain assignment type.
        enum:
        - Derived
        - Direct
        - Unassigned
        required: false
        type: string
      - name: sort_by
        in: query
        description: Sort results based on the specified attribute.
        required: false
        type: string
        enum:
        - effectiveSlaDomainName
        - name
        - folderPath
        - infraPath
      - name: sort_order
        in: query
        description: Sort order, either ascending or descending.
        required: false
        type: string
        enum:
        - asc
        - desc
      responses:
        '200':
          description: Virtual machine summary.
          schema:
            $ref: '#/definitions/VirtualMachineSummaryListResponse'
  /v1/vmware/vm/{id}:
    get:
      summary: Get VM details
      description: Retrieve details for a virtual machine.
      operationId: getVm
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of the virtual machine.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Virtual machine details.
          schema:
            $ref: '#/definitions/VirtualMachineDetail'
    patch:
      summary: Update VM
      description: Update a virtual machine with specified properties. Use the guestCredential
        field to update the guest credential for a specified virtual machine.
      operationId: updateVm
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of virtual machine.
        name: id
        required: true
        type: string
      - in: body
        description: Properties to update.
        name: vm_update_properties
        required: true
        schema:
          $ref: '#/definitions/VirtualMachineUpdateWithSecret'
      responses:
        '200':
          description: Virtual machine details.
          schema:
            $ref: '#/definitions/VirtualMachineDetail'
  /v1/vmware/vm/{id}/search:
    get:
      summary: Search for a file from a VM
      description: Search for a file in the snapshots of a a virtual machine. Specify
        the file by full path prefix or filename prefix.
      operationId: searchVm
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of the virtual machine.
        name: id
        required: true
        type: string
      - in: query
        description: The path query. Use either a path prefix or a filename prefix.
        name: path
        required: true
        type: string
      responses:
        '200':
          description: File search results.
          schema:
            $ref: '#/definitions/SearchResponseListResponse'
  /v1/vmware/vm/{id}/snapshot:
    get:
      summary: Get list of snapshots of VM
      description: Retrieve summary information for the snapshots of a virtual machine.
      operationId: querySnapshot
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of the virtual machine.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Summary snapshot information for a virtual machine.
          schema:
            $ref: '#/definitions/VmSnapshotSummaryListResponse'
    post:
      summary: Create an on-demand snapshot for a VM
      description: Use the ID of a virtual machine to create an on-demand snapshot.
      operationId: createOnDemandBackup
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of the virtual machine.
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for the on-demand snapshot.
        required: false
        name: config
        schema:
          $ref: '#/definitions/BaseOnDemandSnapshotConfig'
      responses:
        '202':
          description: On-demand snapshot status.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
    delete:
      summary: Delete all snapshots of VM
      description: Delete all of the snapshots from a virtual machine.
      operationId: deleteVmwareSnapshots
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: Virtual machine ID.
        name: id
        required: true
        type: string
      responses:
        '204':
          description: Snapshots successfully deleted.
  /v1/vmware/vm/{id}/guest_script/run:
    post:
      summary: Run guest OS script
      description: Run the specified preBackup, postSnap, or postBackup script in
        the guest OS of a virtual machine. The script must exist and meet requirements.
      operationId: runGuestOsScript
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of the virtual machine.
        name: id
        required: true
        type: string
      - in: body
        description: Configuration used to run the specified preBackup, postSnap,
          or postBackup guest OS script.
        name: config
        required: true
        schema:
          $ref: '#/definitions/VmGuestScriptRunConfig'
      responses:
        '204':
          description: Guest OS script ran successfully and returned a 0 exit code.
  /v1/vmware/vm/{id}/missed_snapshot:
    get:
      summary: Get details about missed snapshots for a VM
      description: Retrieve details about the missed snapshots for a virtual machine.
      operationId: missedSnapshots
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of a virtual machine.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Missed snapshot details for a virtual machine.
          schema:
            $ref: '#/definitions/MissedSnapshotListResponse'
  /v1/vmware/vm/request/{id}:
    get:
      summary: Get asynchronous request details for VM
      description: Get the details of an asynchronous request that involves a VMware
        virtual machine.
      operationId: getAsyncRequestStatus
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of an asynchronous request.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Status of an asynchronous request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/vmware/vm/snapshot/{id}:
    get:
      summary: Get VM snapshot details
      description: Retrieve detailed information about a virtual machine snapshot.
      operationId: getSnapshot
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of a snapshot.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Snapshot details.
          schema:
            $ref: '#/definitions/VmSnapshotDetail'
    delete:
      summary: Delete VM snapshot
      description: Designate a snapshot as expired and available for garbage collection.
        The snapshot must be an on-demand snapshot or a snapshot from a virtual machine
        that is not assigned to an SLA Domain.
      operationId: deleteVmwareSnapshot
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of snapshot.
        name: id
        required: true
        type: string
      - in: query
        description: Location of the snapshot. Use **_local_** to delete only the
          local copy of the snapshot. Or use **_all_** to delete the snapshot locally,
          on a replication target, and at an archival location.
        name: location
        required: true
        type: string
        enum:
        - all
        - local
      responses:
        '204':
          description: Snapshot successfully deleted.
  /v1/vmware/vm/snapshot/{id}/browse:
    get:
      summary: List files in VM snapshot
      description: For a virtual machine snapshot, list the directories and files
        that are beneath a specified file system path.
      operationId: browseVmwareSnapshot
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of snapshot
        name: id
        required: true
        type: string
      - in: query
        description: The absolute path of the starting point for the directory listing.
        name: path
        required: true
        type: string
      - in: query
        description: Starting position in the list of path entries contained in the
          query results, sorted by lexicographical order. The response includes the
          specified numbered entry and all higher numbered entries.
        name: offset
        required: false
        type: integer
        format: int32
      - in: query
        description: Maximum number of entries in the response.
        name: limit
        required: false
        type: integer
        format: int32
      responses:
        '200':
          description: List of files and directories at the specified path.
          schema:
            $ref: '#/definitions/BrowseResponseListResponse'
  /v1/vmware/vm/snapshot/{id}/download:
    post:
      summary: Download snapshot from archive
      description: Provides a method for retrieving a snapshot, that is not available
        locally, from an archival location.
      operationId: createDownloadSnapshotFromCloud
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of snapshot
        name: id
        required: true
        type: string
      responses:
        '202':
          description: Status for the download request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/vmware/vm/snapshot/{id}/download_file:
    post:
      summary: Download file from VM snapshot
      description: Create a request to download a file from a virtual machine snapshot.
      operationId: createDownloadFileJob
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of a snapshot.
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for the file download request.
        name: config
        required: true
        schema:
          $ref: '#/definitions/DownloadFileJobConfig'
      responses:
        '202':
          description: Status of the file download request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/vmware/vm/snapshot/{id}/export:
    post:
      summary: Export VM snapshot
      description: Export a virtual machine from a snapshot, using a specified hypervisor
        host as the datastore.
      operationId: createExport
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of a snapshot.
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for the export request.
        name: config
        required: true
        schema:
          $ref: '#/definitions/ExportSnapshotJobConfig'
      responses:
        '202':
          description: Status of the export request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/vmware/vm/snapshot/{id}/instant_recover:
    post:
      summary: Instantly recover a VM
      description: Instantly recovery a virtual machine from a snapshot. The Instant
        Recovery request starts the virtual machine with networking enabled and renames
        and powers off the source virtual machine, if it still exists.
      operationId: createInstantRecovery
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of Snapshot
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for the Instant Recovery request.
        name: config
        required: true
        schema:
          $ref: '#/definitions/InstantRecoveryJobConfig'
      responses:
        '202':
          description: Status of the Instant Recovery request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/vmware/vm/snapshot/{id}/restore_file:
    post:
      summary: Restore file from VM snapshot
      description: Create a request to restore a file or folder to the source virtual
        machine.
      operationId: createRestoreFileJob
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of a snapshot.
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for the restore request.
        name: config
        required: true
        schema:
          $ref: '#/definitions/RestoreFileJobConfig'
      responses:
        '202':
          description: Status of the restore request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/vmware/vm/snapshot/{id}/mount:
    post:
      summary: Live mount a VM from a snapshot
      description: Create a request to Live Mount a virtual machine from a snapshot
        using a specified configuration.
      operationId: createMountV1
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of a snapshot.
        name: id
        required: true
        type: string
      - in: body
        description: Configuration for the Live Mount request.
        name: config
        required: false
        schema:
          $ref: '#/definitions/MountSnapshotJobConfigV1'
      responses:
        '202':
          description: Status of the Live Mount request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/vmware/vm/snapshot/mount:
    get:
      summary: Get Live Mount information
      description: Retrieve summary information about Live Mount activity.
      operationId: queryMountV1
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: query
        description: Filters information by virtual machine ID.
        name: vm_id
        required: false
        type: string
      - name: offset
        in: query
        description: Starting position in the list of Live Mount entries contained
          in the response. The summary information includes the specified numbered
          entry and all higher numbered entries. Use with **_limit_** to retrieve
          the summary information as smaller groups of entries, e.g. for paging of
          the results.
        required: false
        type: integer
        format: int32
        minimum: 0
      - name: limit
        in: query
        description: Limit the summary information to a specified maximum number of
          entries. Optionally, use with **_offset_** to start the count at a specified
          point. Default is 25.
        required: false
        type: integer
        format: int32
        minimum: 0
      responses:
        '200':
          description: Summary information for all Live Mounts.
          schema:
            $ref: '#/definitions/VmwareVmMountSummaryV1ListResponse'
  /v1/vmware/vm/snapshot/mount/{id}:
    get:
      summary: Get information for a Live Mount
      description: Retrieve detailed information for a specified Live Mount.
      operationId: getMountV1
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of a Live Mount.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Detailed information for the specified Live Mount.
          schema:
            $ref: '#/definitions/VmwareVmMountDetailV1'
    patch:
      summary: Power a Live Mount on and off
      description: Power a specified Live Mount virtual machine on or off. Pass **_true_**
        to power the virtual machine on and pass **_false_** to power the virtual
        machine off.
      operationId: updateMount
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of a Live Mount.
        name: id
        required: true
        type: string
      - in: body
        description: Power state configuration.
        name: config
        required: true
        schema:
          $ref: '#/definitions/UpdateMountConfig'
      responses:
        '200':
          description: Details of the Live Mount.
          schema:
            $ref: '#/definitions/VmwareVmMountDetailV1'
    delete:
      summary: Delete a Live Mount VM
      description: Create a request to delete a Live Mount virtual machine.
      operationId: createUnmount
      tags:
      - /v1/vmware/vm
      x-group: vm
      parameters:
      - in: path
        description: ID of a Live Mount
        name: id
        required: true
        type: string
      - in: query
        description: Force unmount to remove metadata when the datastore of the Live
          Mount virtual machine was moved off of the Rubrik cluster.
        name: force
        required: false
        type: boolean
      responses:
        '202':
          description: Status of the delete request.
          schema:
            $ref: '#/definitions/AsyncRequestStatus'
  /v1/vmware/vm/virtual_disk/{id}:
    get:
      summary: Details about the specific Virtual Disk
      description: Detailed about the specific Virtual Disk
      operationId: getVirtualDisk
      tags:
      - /v1/vmware/vm
      x-group: virtual_disk
      parameters:
      - in: path
        description: ID of the Virtual Disk
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Return details about the virtual disk
          schema:
            $ref: '#/definitions/VirtualDiskDetail'
    patch:
      summary: Update a specific Virtual Disk
      description: Update a specific Virtual Disk
      operationId: updateVirtualDisk
      tags:
      - /v1/vmware/vm
      x-group: virtual_disk
      parameters:
      - in: path
        description: ID of the Virtual Disk
        name: id
        required: true
        type: string
      - in: body
        description: Virtual Disk update information
        name: update_info
        required: true
        schema:
          $ref: '#/definitions/VirtualDiskUpdate'
      responses:
        '200':
          description: The updated Virtual Disk
          schema:
            $ref: '#/definitions/VirtualDiskDetail'
  /v1/vmware/host:
    get:
      summary: Get summary of all the ESXi hypervisor
      description: Get summary of all the ESXi hypervisor
      operationId: queryVmwareHost
      tags:
      - /v1/vmware/host
      x-group: vmware_host
      parameters:
      - in: query
        description: ID of the Primary cluster
        name: primary_cluster_id
        required: false
        type: string
      responses:
        '200':
          description: List of VMware host summaries
          schema:
            $ref: '#/definitions/VmwareHostSummaryListResponse'
  /v1/vmware/host/{id}:
    get:
      summary: Get details of a ESXi hypervisor
      description: Get details of a ESXi hypervisor
      operationId: getVmwareHost
      tags:
      - /v1/vmware/host
      x-group: vmware_host
      parameters:
      - in: path
        description: ID of the VMWare host
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Details about the vmware host
          schema:
            $ref: '#/definitions/VmwareHostDetail'
    patch:
      summary: Update the SLA Domain for an ESXi hypervisor
      description: Update the SLA Domain that is configured for an ESXi hypervisor.
      operationId: updateVmwareHost
      tags:
      - /v1/vmware/host
      x-group: vmware_host
      parameters:
      - in: path
        description: ID of the ESXi hypervisor
        name: id
        required: true
        type: string
      - in: body
        description: Object with changes for the ESXi hypervisor information.
        name: update_properties
        required: true
        schema:
          $ref: '#/definitions/VmwareHostUpdate'
      responses:
        '200':
          description: Details for the ESXi hypervisor
          schema:
            $ref: '#/definitions/VmwareHostDetail'
  /v1/windows_cluster:
    get:
      summary: Get summary information for Windows clusters
      description: Returns a list of summary information for Windows server failover
        clusters.
      operationId: queryWindowsCluster
      tags:
      - /v1/windows_cluster
      x-group: windows_cluster
      parameters:
      - in: query
        description: Filter by primary_cluster_id. Use **local** for the local cluster.
        name: primary_cluster_id
        required: false
        type: string
      responses:
        '200':
          description: Returned if the query was successful.
          schema:
            $ref: '#/definitions/WindowsClusterSummaryListResponse'
  /v1/windows_cluster/{id}:
    get:
      summary: Get detailed information for a Windows cluster
      description: Returns a detailed view of a Windows server failover cluster.
      operationId: getWindowsCluster
      tags:
      - /v1/windows_cluster
      x-group: windows_cluster
      parameters:
      - in: path
        description: ID of the Windows cluster.
        name: id
        required: true
        type: string
      responses:
        '200':
          description: Returned if the query was successful.
          schema:
            $ref: '#/definitions/WindowsClusterDetail'
responses:
  RequestFailedException:
    description: Request failed.
    schema:
      $ref: '#/definitions/RequestFailedException'
securityDefinitions:
  BasicAuth:
    type: basic
  Bearer:
    type: apiKey
    name: Authorization
    in: header
security:
- BasicAuth: []
- Bearer: []
tags:
- name: Endpoint reference
  x-traitTag: true
- name: /v1/cluster
  x-displayName: /v1/cluster
  description: Cluster configuration and health
- name: /v1/fileset
  x-displayName: /v1/fileset
  description: File system filesets
- name: /v1/fileset_template
  x-displayName: /v1/fileset_template
  description: File system fileset templates
- name: /v1/host
  x-displayName: /v1/host
  description: Linux hosts and Windows hosts
- name: /v1/mssql
  x-displayName: /v1/mssql
  description: SQL Server instances and databases
- name: /v1/session
  x-displayName: /v1/session
  description: User session management
- name: /v1/sla_domain
  x-displayName: /v1/sla_domain
  description: SLA Domains
- name: /v1/vmware/host
  x-displayName: /v1/vmware/host
  description: VMware hypervisor hosts
- name: /v1/vmware/vcenter
  x-displayName: /v1/vmware/vcenter
  description: VMware vCenter
- name: /v1/vmware/vm
  x-displayName: /v1/vmware/vm
  description: VMware virtual machines
- name: /v1/windows_cluster
  x-displayName: /v1/windows_cluster
  description: Windows clusters
definitions:
  ArchivalSpec:
    type: object
    required:
    - locationId
    - archivalThreshold
    properties:
      locationId:
        type: string
      archivalThreshold:
        type: integer
        format: int64
  AsyncRequestStatus:
    type: object
    required:
    - id
    - status
    - links
    properties:
      id:
        type: string
        description: The ID of the request object. Use it to poll the status.
      status:
        type: string
        description: Status of the id.
      progress:
        type: number
        format: double
        description: The current progress in terms of percentage of the async request.
      startTime:
        type: string
        format: date-time
        description: The start time of the request
      endTime:
        type: string
        format: date-time
        description: The end time of the request
      error:
        $ref: '#/definitions/RequestErrorInfo'
        description: Any errors encountered
      links:
        type: array
        description: References to any related objects
        items:
          $ref: '#/definitions/Link'
  BackupWindow:
    type: object
    required:
    - startTimeAttributes
    - durationInHours
    properties:
      startTimeAttributes:
        $ref: '#/definitions/SlaStartTimeAttributes'
      durationInHours:
        type: integer
        format: int32
  BaseGuestCredential:
    type: object
    required:
    - username
    - password
    properties:
      username:
        type: string
        description: Username for the account used to login to the VM guest OS. To
          include a domain, use the format <domain>\<username>.
      password:
        type: string
        description: Password for the account used to login to the VM guest OS.
        x-secret: true
  BaseGuestCredentialDetail:
    type: object
    required:
    - username
    properties:
      username:
        type: string
  BaseOnDemandSnapshotConfig:
    type: object
    properties:
      slaId:
        type: string
  BaseSnapshotDetail:
    allOf:
    - $ref: '#/definitions/BaseSnapshotSummary'
    - type: object
      properties:
        config:
          type: string
        isCorrupt:
          type: boolean
  BaseSnapshotSummary:
    type: object
    required:
    - id
    - date
    - isOnDemandSnapshot
    - replicationLocationIds
    - slaId
    - slaName
    properties:
      id:
        type: string
      date:
        type: string
        format: date-time
      expirationDate:
        type: string
        format: date-time
      sourceObjectType:
        type: string
      isOnDemandSnapshot:
        type: boolean
      cloudState:
        type: integer
        format: int64
      consistencyLevel:
        type: string
      indexState:
        type: integer
        format: int64
      replicationLocationIds:
        type: array
        items:
          type: string
      archivalLocationIds:
        type: array
        items:
          type: string
      slaId:
        type: string
      slaName:
        type: string
  BlackoutWindow:
    type: object
    required:
    - startTime
    properties:
      startTime:
        type: string
      endTime:
        type: string
  BlackoutWindowStatus:
    type: object
    required:
    - isGlobalBlackoutActive
    properties:
      isGlobalBlackoutActive:
        type: boolean
      isSnappableBlackoutActive:
        type: boolean
  BlackoutWindows:
    type: object
    required:
    - globalBlackoutWindows
    properties:
      globalBlackoutWindows:
        type: array
        items:
          $ref: '#/definitions/BlackoutWindow'
      snappableBlackoutWindows:
        type: array
        items:
          $ref: '#/definitions/BlackoutWindow'
  BrowseResponse:
    type: object
    properties:
      filename:
        type: string
        description: The name of the file
      path:
        type: string
        description: The complete path of the file
      lastModified:
        type: string
      size:
        type: integer
        format: int64
      fileMode:
        type: string
        description: The type of file, either a regular file or a directory
      statusMessage:
        type: string
        description: Description about the status
  BrowseResponseListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/BrowseResponse'
      total:
        type: integer
        description: Total list responses
  CloudInstantiationSpec:
    type: object
    required:
    - imageRetentionInSeconds
    properties:
      imageRetentionInSeconds:
        type: integer
        format: int64
        description: 'Specifies the number of seconds to retain an image file that
          is generated for a snappable. Setting this to -1 disables cloud instantiation
          for the snappable.

          '
  ClusterApiVersion:
    type: object
    required:
    - apiVersion
    properties:
      apiVersion:
        type: string
        description: REST API version
  ClusterInfo:
    type: object
    required:
    - id
    - version
    - apiVersion
    properties:
      id:
        type: string
        description: ID of the Rubrik cluster
      version:
        type: string
        description: Rubrik cluster software version
      apiVersion:
        type: string
        description: REST API version
  ClusterVersion:
    type: object
    required:
    - version
    properties:
      version:
        type: string
        description: Rubrik cluster software version
  DataCenterSummary:
    allOf:
    - $ref: '#/definitions/SlaAssignable'
    - type: object
      required:
      - vcenterId
      properties:
        vcenterId:
          type: string
  DataStoreSummary:
    type: object
    required:
    - id
    properties:
      id:
        type: string
      name:
        type: string
      capacity:
        type: integer
        format: int64
      dataStoreType:
        type: string
      dataCenterName:
        type: string
      isLocal:
        type: boolean
  DownloadFileJobConfig:
    type: object
    required:
    - path
    properties:
      path:
        type: string
        description: Absolute file path
  ExportMssqlDbJobConfig:
    type: object
    required:
    - targetInstanceId
    - targetDatabaseName
    - recoveryPoint
    properties:
      recoveryPoint:
        $ref: '#/definitions/MssqlRecoveryPoint'
      targetInstanceId:
        type: string
        description: ID of the Microsoft SQL instance for the new database.
      targetDatabaseName:
        type: string
        description: Name of the new database.
      targetDataFilePath:
        type: string
        description: The target path to store all data files.
      targetLogFilePath:
        type: string
        description: The target path to store all log files.
      targetFilePaths:
        type: array
        description: One target path for each individual database file. Overrides
          targetDataFilePath and targetLogFilePath.
        items:
          $ref: '#/definitions/MssqlDbFileExportPath'
      finishRecovery:
        type: boolean
        description: Whether to leave the database in recovering mode at the end of
          the export operation.
      maxDataStreams:
        type: integer
        format: int32
        description: Maximum number of parallel data streams that can be used to copy
          data to the target system
  ExportSnapshotJobConfig:
    allOf:
    - $ref: '#/definitions/MountExportSnapshotJobCommonOptions'
    - type: object
      required:
      - datastoreId
      properties:
        hostId:
          type: string
          description: ID of the ESXi host to export the new virtual machine to.
        datastoreId:
          type: string
          description: ID of the datastore to assign to the exported virtual machine.
        unregisterVm:
          type: boolean
          description: Determines whether the new virtual machine created from a snapshot
            is registered with the vCenter Server. Use 'true' to remove the registration
            from vCenter Server. Use 'false' to keep the registration with the vCenter
            Server. The default is 'false'.
  FileVersion:
    type: object
    properties:
      lastModified:
        type: string
      size:
        type: integer
        format: int64
      snapshotId:
        type: string
        description: The snapshot this file belongs to
      fileMode:
        type: string
        description: The type of file, either a regular file or a directory
      source:
        type: string
        description: The location where the file is stored, either in the cloud or
          locally
  FilesetCreate:
    allOf:
    - type: object
      required:
      - hostId
      - templateId
      properties:
        hostId:
          type: string
        shareId:
          type: string
        templateId:
          type: string
  FilesetDetail:
    allOf:
    - $ref: '#/definitions/FilesetUpdate'
    - $ref: '#/definitions/FilesetSummary'
    - type: object
      required:
      - snapshotCount
      properties:
        protectionDate:
          type: string
          format: date-time
        snapshotCount:
          type: integer
          format: int32
        archivedSnapshotCount:
          type: integer
          format: int32
        snapshots:
          type: array
          items:
            $ref: '#/definitions/FilesetSnapshotSummary'
        localStorage:
          type: integer
          format: int64
        archiveStorage:
          type: integer
          format: int64
        preBackupScript:
          type: string
          description: Script to run before backup of this Fileset starts
        postBackupScript:
          type: string
          description: Script to run after backup of this Fileset ends
        backupScriptTimeout:
          type: integer
          format: int64
          description: Number of seconds after which the script is killed if it has
            not completed execution
        backupScriptErrorHandling:
          type: string
          description: Action taken if script fails. Options are "abort", "continue"
  FilesetDownloadFileJobConfig:
    type: object
    required:
    - sourceDir
    properties:
      sourceDir:
        type: string
        description: Source directory to download from
  FilesetExportFileJobConfig:
    allOf:
    - $ref: '#/definitions/FilesetRestoreFileJobConfig'
    - type: object
      required:
      - hostId
      properties:
        hostId:
          type: string
          description: Host ID
        shareId:
          type: string
          description: Network share ID
  FilesetOptions:
    type: object
    properties:
      allowBackupNetworkMounts:
        type: boolean
        description: Include or exclude locally-mounted remote file systems from backups.
      allowBackupHiddenFoldersInNetworkMounts:
        type: boolean
        description: Include or exclude hidden folders inside locally-mounted remote
          file systems from backups.
      useWindowsVss:
        type: boolean
        description: Use VSS during Windows backups.
  FilesetRestoreFileJobConfig:
    type: object
    required:
    - sourceDir
    - destinationDir
    properties:
      sourceDir:
        type: string
        description: Source directory to restore from
      destinationDir:
        type: string
        description: Destination directory
      ignoreErrors:
        type: boolean
        description: Optional field to determine if we should ignore single error
          during restore. Default value is false
  FilesetSnapshotSummary:
    allOf:
    - $ref: '#/definitions/BaseSnapshotSummary'
    - type: object
      required:
      - filesetName
      properties:
        filesetName:
          type: string
        fileCount:
          type: integer
          format: int64
  FilesetSummary:
    allOf:
    - $ref: '#/definitions/FilesetOptions'
    - $ref: '#/definitions/SlaAssignable'
    - type: object
      required:
      - hostId
      - hostName
      - includes
      - isRelic
      - templateId
      - templateName
      properties:
        hostId:
          type: string
        shareId:
          type: string
        hostName:
          type: string
        templateId:
          type: string
        templateName:
          type: string
        operatingSystemType:
          type: string
        effectiveSlaDomainId:
          type: string
          description: The ID of the effective SLA domain for this Fileset
        effectiveSlaDomainName:
          type: string
          description: The name of the effective SLA domain for this Fileset
        includes:
          type: array
          items:
            type: string
        excludes:
          type: array
          items:
            type: string
        exceptions:
          type: array
          items:
            type: string
        isRelic:
          type: boolean
  FilesetSummaryListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/FilesetSummary'
      total:
        type: integer
        description: Total list responses
  FilesetTemplateCreate:
    allOf:
    - $ref: '#/definitions/FilesetOptions'
    - type: object
      required:
      - name
      - includes
      properties:
        name:
          type: string
        includes:
          type: array
          items:
            type: string
        excludes:
          type: array
          items:
            type: string
        exceptions:
          type: array
          items:
            type: string
        operatingSystemType:
          type: string
          description: Operating system type of filesets created by template.
          enum:
          - Linux
          - Windows
        shareType:
          type: string
          enum:
          - NFS
          - SMB
        preBackupScript:
          type: string
          description: Script to run before backup of this fileset starts
        postBackupScript:
          type: string
          description: Script to run after backup of this fileset ends
        backupScriptTimeout:
          type: integer
          format: int64
          description: Number of seconds after which the script is killed if it has
            not completed execution
        backupScriptErrorHandling:
          type: string
          description: Action taken if script fails. Options are "abort", "continue"
  FilesetTemplateDetail:
    allOf:
    - $ref: '#/definitions/FilesetTemplateCreate'
    - type: object
      required:
      - id
      - primaryClusterId
      properties:
        id:
          type: string
        primaryClusterId:
          type: string
        isArchived:
          type: boolean
        hostCount:
          type: integer
          format: int32
          description: Number of hosts where this template has been applied
        shareCount:
          type: integer
          format: int32
          description: Number of shares where this template has been applied
  FilesetTemplateDetailListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/FilesetTemplateDetail'
      total:
        type: integer
        description: Total list responses
  FilesetTemplatePatch:
    allOf:
    - $ref: '#/definitions/FilesetOptions'
    - type: object
      required:
      - id
      properties:
        id:
          type: string
        name:
          type: string
        includes:
          type: array
          items:
            type: string
        excludes:
          type: array
          items:
            type: string
        exceptions:
          type: array
          items:
            type: string
        operatingSystemType:
          type: string
          description: Operating system type of filesets created by template
          enum:
          - Linux
          - Windows
        shareType:
          type: string
          enum:
          - NFS
          - SMB
        preBackupScript:
          type: string
          description: Script to run before backup of this Fileset starts
        postBackupScript:
          type: string
          description: Script to run after backup of this Fileset ends
        backupScriptTimeout:
          type: integer
          format: int64
          description: Number of seconds after which the script is killed if it has
            not completed execution
        backupScriptErrorHandling:
          type: string
          description: Action taken if script fails. Options are "abort", "continue"
  FilesetUpdate:
    type: object
    properties:
      configuredSlaDomainId:
        type: string
        description: Assign Fileset to SLA domain
  HostDetail:
    allOf:
    - $ref: '#/definitions/HostSummary'
    - type: object
      properties:
        agentId:
          type: string
        compressionEnabled:
          type: boolean
  HostRegister:
    type: object
    required:
    - hostname
    properties:
      hostname:
        type: string
      hasAgent:
        type: boolean
  HostSummary:
    type: object
    required:
    - id
    - hostname
    properties:
      id:
        type: string
      hostname:
        type: string
      primaryClusterId:
        type: string
      operatingSystem:
        type: string
      operatingSystemType:
        type: string
      status:
        type: string
  HostSummaryListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/HostSummary'
      total:
        type: integer
        description: Total list responses
  HostUpdate:
    type: object
    properties:
      hostname:
        type: string
      compressionEnabled:
        type: boolean
  InstantRecoveryJobConfig:
    allOf:
    - $ref: '#/definitions/MountExportSnapshotJobCommonOptions'
    - type: object
      properties:
        hostId:
          type: string
          description: ID of the ESXi host to use for Instant Recovery
        preserveMoid:
          type: boolean
          default: false
          description: Determines whether to preserve the moid of the source virtual
            machine in a restore operation. Use 'true' to keep the moid of the source.
            Use 'false' to assign a new moid. The default is 'false'.
  Link:
    type: object
    required:
    - href
    - rel
    properties:
      href:
        type: string
        description: The link's destination.
      rel:
        type: string
        description: The relation of this link's destination to the current resource.
  LsnRecoveryPoint:
    type: object
    properties:
      lsn:
        type: string
        description: LSN of the recovery point.
      recoveryForkGuid:
        type: string
        description: Recovery fork GUID of the recovery point. If not provided, the
          recovery fork GUID of the latest snapshot is used.
  MissedSnapshot:
    type: object
    required:
    - archivalLocationType
    - missedSnapshotTime
    properties:
      archivalLocationType:
        type: array
        items:
          type: string
      missedSnapshotTime:
        type: string
        format: date-time
  MissedSnapshotListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/MissedSnapshot'
      total:
        type: integer
        description: Total list responses
  MountExportSnapshotJobCommonOptions:
    type: object
    properties:
      vmName:
        type: string
        description: Name of the new VM created by mount or export
      disableNetwork:
        type: boolean
        description: Sets the state of the network interfaces when the virtual machine
          is mounted or exported. Use 'false' to enable the network interfaces. Use
          'true' to disable the network interfaces. Disabling the interfaces can prevent
          IP conflicts.
      removeNetworkDevices:
        type: boolean
        description: Determines whether to remove the network interfaces from the
          mounted or exported virtual machine. Set to 'true' to remove all network
          interfaces. The default value is 'false'.
      powerOn:
        type: boolean
        description: Determines whether the virtual machine should be powered on after
          mount or export. Set to 'true' to power on the virtual machine. Set to 'false'
          to mount or export the virtual machine but not power it on. The default
          is 'true'.
      keepMacAddresses:
        type: boolean
        description: Determines whether the MAC addresses of the network interfaces
          on the source virtual machine are assigned to the new virtual machine. Set
          to 'true' to assign the original MAC addresses to the new virtual machine.
          Set to 'false' to assign new MAC addresses. The default is 'false'. When
          removeNetworkDevices is set to true, this property is ignored.
  MountMssqlDbConfig:
    type: object
    required:
    - recoveryPoint
    - mountedDatabaseName
    properties:
      recoveryPoint:
        $ref: '#/definitions/MssqlRecoveryPoint'
      mountedDatabaseName:
        type: string
        description: Name to assign to the mounted database.
      targetInstanceId:
        type: string
        description: ID of the SQL Server instance to mount the database on. For availability
          source databases, this must be specified. When unspecified for non-availability
          source databases, the source SQL Server instance is used.
  MountSnapshotJobConfigV1:
    allOf:
    - $ref: '#/definitions/MountExportSnapshotJobCommonOptions'
    - type: object
      properties:
        hostId:
          type: string
          description: ID of the ESXi host to mount the new virtual machine on.
        dataStoreName:
          type: string
          description: Name of the host NAS datastore to use with the new virtual
            machine. The Rubrik cluster creates a new datastore on the host using
            the provided name.
  MssqlBackupJobConfig:
    allOf:
    - $ref: '#/definitions/BaseOnDemandSnapshotConfig'
    - type: object
      properties:
        forceFullSnapshot:
          type: boolean
          description: Whether to force a full snapshot or an incremental.
  MssqlDbDetail:
    allOf:
    - $ref: '#/definitions/MssqlDbSummary'
    - type: object
      required:
      - snapshotCount
      properties:
        snapshotCount:
          type: integer
          format: int32
        isLocal:
          type: boolean
        isStandby:
          type: boolean
        latestRecoveryPoint:
          type: string
          format: date
        oldestRecoveryPoint:
          type: string
          format: date
        protectionDate:
          type: string
          format: date
        recoveryForkGuid:
          type: string
        maxDataStreams:
          type: integer
          format: int32
        localStorage:
          type: integer
          format: int64
        archiveStorage:
          type: integer
          format: int64
  MssqlDbFileExportPath:
    type: object
    required:
    - logicalName
    - exportPath
    properties:
      logicalName:
        type: string
        description: Logical name of the database file.
      exportPath:
        type: string
        description: The target path for the database file.
      newLogicalName:
        type: string
        description: New logical name for the database file.
      newFilename:
        type: string
        description: New filename for the database file.
  MssqlDbSnapshotDetail:
    allOf:
    - $ref: '#/definitions/BaseSnapshotDetail'
    - type: object
      properties:
        database:
          $ref: '#/definitions/MssqlDbSummary'
  MssqlDbSnapshotSummary:
    allOf:
    - $ref: '#/definitions/BaseSnapshotSummary'
    - type: object
      required:
      - databaseName
      properties:
        databaseName:
          type: string
  MssqlDbSnapshotSummaryListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/MssqlDbSnapshotSummary'
      total:
        type: integer
        description: Total list responses
  MssqlDbSummary:
    allOf:
    - $ref: '#/definitions/Snappable'
    - type: object
      required:
      - rootProperties
      - id
      - instanceId
      - instanceName
      - isRelic
      - copyOnly
      - logBackupFrequencyInSeconds
      - logBackupRetentionHours
      - name
      - primaryClusterId
      - recoveryModel
      - hasPermissions
      - state
      - isLiveMount
      - isInAvailabilityGroup
      properties:
        rootProperties:
          $ref: '#/definitions/MssqlRootProperties'
        id:
          type: string
        instanceId:
          type: string
        instanceName:
          type: string
        isRelic:
          type: boolean
        primaryClusterId:
          type: string
        copyOnly:
          type: boolean
          description: If true, take copy-only backups of the database. Otherwise,
            take full or differential backups of the database.
        logBackupFrequencyInSeconds:
          type: integer
          format: int32
        logBackupRetentionHours:
          type: integer
          format: int32
          description: Hours to keep a log backup. A value of -1 indicates that a
            log will only expire when the preceding snapshots have expired.
        name:
          type: string
        isLiveMount:
          type: boolean
          description: If true, the database is a Live Mount.
        recoveryModel:
          type: string
          enum:
          - SIMPLE
          - FULL
          - BULK_LOGGED
        state:
          type: string
        hasPermissions:
          type: boolean
        isInAvailabilityGroup:
          type: boolean
  MssqlDbSummaryListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/MssqlDbSummary'
      total:
        type: integer
        description: Total list responses
  MssqlDbUpdate:
    allOf:
    - $ref: '#/definitions/MssqlNonSlaProperties'
    - type: object
      properties:
        maxDataStreams:
          type: integer
          format: int32
          description: Maximum number of parallel data streams that can be used to
            backup the database.
        configuredSlaDomainId:
          type: string
          description: Assign DB to SLA Domain
  MssqlInstanceSummary:
    allOf:
    - $ref: '#/definitions/MssqlNonSlaProperties'
    - type: object
      required:
      - id
      - primaryClusterId
      - rootProperties
      properties:
        id:
          type: string
        internalTimestamp:
          type: integer
          format: int64
        name:
          type: string
        primaryClusterId:
          type: string
        rootProperties:
          $ref: '#/definitions/MssqlRootProperties'
        clusterInstanceAddress:
          type: string
          description: The address of the instance in a Windows server failover cluster,
            populated only if it belongs to one.
        protectionDate:
          type: string
          format: date
        version:
          type: string
        configuredSlaDomainId:
          type: string
          description: SLA Domain ID assigned to instance
        configuredSlaDomainName:
          type: string
          description: SLA Domain name assigned to instance
  MssqlInstanceDetail:
    allOf:
    - $ref: '#/definitions/MssqlInstanceSummary'
  MssqlInstanceSummaryListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/MssqlInstanceSummary'
      total:
        type: integer
        description: Total list responses
  MssqlInstanceUpdate:
    allOf:
    - $ref: '#/definitions/MssqlNonSlaProperties'
    - type: object
      properties:
        clusterInstanceAddress:
          type: string
          description: Address of the instance in a Windows server failover cluster.
        configuredSlaDomainId:
          type: string
          description: ID of the SLA Domain assigned to the instance
  MssqlMissedRecoverableRange:
    type: object
    required:
    - beginTime
    - endTime
    - errorType
    - description
    properties:
      beginTime:
        type: string
        format: date-time
      endTime:
        type: string
        format: date-time
      errorType:
        type: string
      description:
        type: string
      firstError:
        $ref: '#/definitions/MssqlMissedRecoverableRangeError'
      lastError:
        $ref: '#/definitions/MssqlMissedRecoverableRangeError'
  MssqlMissedRecoverableRangeError:
    type: object
    required:
    - time
    properties:
      time:
        type: string
        format: date-time
      eventSeriesId:
        type: string
      eventMessage:
        type: string
  MssqlMissedRecoverableRangeListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/MssqlMissedRecoverableRange'
      total:
        type: integer
        description: Total list responses
  MssqlMountDetail:
    allOf:
    - $ref: '#/definitions/MssqlMountSummary'
    - type: object
      required:
      - links
      properties:
        mountRequestId:
          type: string
          description: ID of the async request object for the mount task.
        unmountRequestId:
          type: string
          description: ID of the async request object for the delete task.
        links:
          $ref: '#/definitions/MssqlMountLinks'
  MssqlMountLinks:
    type: object
    required:
    - sourceDatabase
    - targetInstance
    properties:
      sourceDatabase:
        $ref: '#/definitions/Link'
      targetInstance:
        $ref: '#/definitions/Link'
      mountedDatabase:
        $ref: '#/definitions/Link'
      mountRequest:
        $ref: '#/definitions/Link'
      unmountRequest:
        $ref: '#/definitions/Link'
  MssqlMountSummary:
    type: object
    required:
    - id
    - sourceDatabaseId
    - sourceDatabaseName
    - sourceRecoveryPoint
    - targetInstanceId
    - targetRootName
    - creationDate
    - status
    - mountedDatabaseName
    properties:
      id:
        type: string
      sourceDatabaseId:
        type: string
      sourceDatabaseName:
        type: string
      sourceRecoveryPoint:
        $ref: '#/definitions/MssqlRecoveryPoint'
      targetInstanceId:
        type: string
      targetRootName:
        type: string
        description: Name of the top-level object on which the target instance resides.
      creationDate:
        type: string
        format: date-time
        description: The date this mount was created.
      ownerId:
        type: string
        description: ID of the user who created this mount.
      ownerName:
        type: string
        description: Name of the user who created this mount.
      status:
        type: string
        description: The status of this mount. The status is **_Available_** when
          the database is successfully mounted and ready to use.
        enum:
        - Available
        - Unavailable
        - Mounting
        - Unmounting
      mountedDatabaseId:
        type: string
        description: ID for the mounted SQL Server database, once it is available.
      mountedDatabaseName:
        type: string
        description: Name for the mounted SQL Server database.
  MssqlMountSummaryListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/MssqlMountSummary'
      total:
        type: integer
        description: Total list responses
  MssqlNonSlaProperties:
    type: object
    properties:
      logBackupFrequencyInSeconds:
        type: integer
        format: int32
        description: Seconds between two log backups. A value of 0 disables log backup.
      logRetentionHours:
        type: integer
        format: int32
        description: Number of hours to retain a log backup. When the value is set
          to -1 the Rubrik cluster retains the log backup until the database snapshots
          that precede the log backup have expired.
      copyOnly:
        type: boolean
        description: Set to true for copy-only backups of the database. Set to false
          for full or differential backups of the database.
  MssqlRecoverableRange:
    type: object
    required:
    - beginTime
    - endTime
    - status
    properties:
      beginTime:
        type: string
        format: date-time
      endTime:
        type: string
        format: date-time
      status:
        type: string
  MssqlRecoverableRangeListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/MssqlRecoverableRange'
      total:
        type: integer
        description: Total list responses
  MssqlRecoveryPoint:
    type: object
    properties:
      lsnPoint:
        $ref: '#/definitions/LsnRecoveryPoint'
      timestampMs:
        type: integer
        format: int64
        description: Recovery point specified in the form of a timestamp (in milliseconds).
  MssqlRootProperties:
    type: object
    required:
    - rootType
    - rootId
    - rootName
    properties:
      rootType:
        type: string
        description: Type of the root of this object. The root object is the top-level
          object on which this object lives. If this object is clustered, this will
          be **_WindowsCluster_**. Otherwise, this will be **_Host_**.
        enum:
        - Host
        - WindowsCluster
      rootId:
        type: string
        description: ID of the root of this object.
      rootName:
        type: string
        description: Name of the root of this object.
  ReplicationSpec:
    type: object
    required:
    - locationId
    - retentionLimit
    properties:
      locationId:
        type: string
      retentionLimit:
        type: integer
        format: int64
  RequestErrorInfo:
    type: object
    required:
    - message
    properties:
      message:
        type: string
        description: The error message for failed ids.
  RequestFailedException:
    type: object
    required:
    - errorType
    - message
    properties:
      errorType:
        type: string
      message:
        type: string
      code:
        type: string
      param:
        type: string
  RestoreFileJobConfig:
    type: object
    required:
    - path
    - restorePath
    properties:
      path:
        type: string
        description: Absolute file path
      domainName:
        type: string
        description: Domain name (Use . for local admin)
      username:
        type: string
        description: Username
      password:
        type: string
        description: Password
        x-secret: true
      restorePath:
        type: string
        description: Directory of folder to copy files into
      shouldSaveCredentials:
        type: boolean
        description: Whether we should save the user-entered credentials
  RestoreMssqlDbJobConfig:
    type: object
    required:
    - recoveryPoint
    properties:
      recoveryPoint:
        $ref: '#/definitions/MssqlRecoveryPoint'
      finishRecovery:
        type: boolean
        description: Whether to leave the database in recovering mode at the end of
          the restore operation.
      maxDataStreams:
        type: integer
        format: int32
        description: Maximum number of parallel data streams that can be used to copy
          data to the target system
  SearchResponse:
    type: object
    properties:
      path:
        type: string
      filename:
        type: string
        description: Just the filename without the whole path
      fileVersions:
        type: array
        items:
          $ref: '#/definitions/FileVersion'
  SearchResponseListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/SearchResponse'
      total:
        type: integer
        description: Total list responses
  SessionSummary:
    type: object
    required:
    - id
    - userId
    - token
    properties:
      id:
        type: string
      userId:
        type: string
      token:
        type: string
  SlaAssignable:
    type: object
    required:
    - id
    - name
    - configuredSlaDomainId
    - configuredSlaDomainName
    - primaryClusterId
    properties:
      id:
        type: string
      name:
        type: string
      configuredSlaDomainId:
        type: string
        description: ID of the configured SLA domain
      configuredSlaDomainName:
        type: string
        description: name of the configured SLA domain
      primaryClusterId:
        type: string
  SlaDomainDefinition:
    type: object
    required:
    - name
    - frequencies
    - firstFullAllowedBackupWindows
    properties:
      name:
        type: string
      frequencies:
        type: array
        items:
          $ref: '#/definitions/SlaFrequency'
      allowedBackupWindows:
        type: array
        items:
          $ref: '#/definitions/BackupWindow'
      firstFullAllowedBackupWindows:
        type: array
        items:
          $ref: '#/definitions/BackupWindow'
      localRetentionLimit:
        type: integer
        format: int64
      archivalSpecs:
        type: array
        items:
          $ref: '#/definitions/ArchivalSpec'
      replicationSpecs:
        type: array
        items:
          $ref: '#/definitions/ReplicationSpec'
  SlaDomainPatchDefinition:
    type: object
    properties:
      name:
        type: string
      frequencies:
        type: array
        items:
          $ref: '#/definitions/SlaFrequency'
      allowedBackupWindows:
        type: array
        items:
          $ref: '#/definitions/BackupWindow'
      firstFullAllowedBackupWindows:
        type: array
        items:
          $ref: '#/definitions/BackupWindow'
      localRetentionLimit:
        type: integer
        format: int64
      archivalSpecs:
        type: array
        items:
          $ref: '#/definitions/ArchivalSpec'
      replicationSpecs:
        type: array
        items:
          $ref: '#/definitions/ReplicationSpec'
  SlaDomainSummary:
    type: object
    required:
    - id
    - primaryClusterId
    - name
    - frequencies
    - allowedBackupWindows
    - firstFullAllowedBackupWindows
    - isDefault
    properties:
      id:
        type: string
      primaryClusterId:
        type: string
      name:
        type: string
      frequencies:
        type: array
        items:
          $ref: '#/definitions/SlaFrequency'
      allowedBackupWindows:
        type: array
        items:
          $ref: '#/definitions/BackupWindow'
      firstFullAllowedBackupWindows:
        type: array
        items:
          $ref: '#/definitions/BackupWindow'
      localRetentionLimit:
        type: integer
        format: int64
        description: Retention limit for snapshots on the local Rubrik system. If
          none, they will remain as long as SLA requires.
      archivalSpecs:
        type: array
        items:
          $ref: '#/definitions/ArchivalSpec'
        description: Specification for archival locations on this SLA
      replicationSpecs:
        type: array
        items:
          $ref: '#/definitions/ReplicationSpec'
        description: Specification for replication locations on this SLA
      numDbs:
        type: integer
        format: int32
        description: The number of actively protected databases under this SLA domain.
      numFilesets:
        type: integer
        format: int32
        description: The number of filesets protected under this SLA domain.
      numHypervVms:
        type: integer
        format: int32
        description: The number of hyperv VMs protected under this SLA domain.
      numNutanixVms:
        type: integer
        format: int32
        description: The number of Nutanix VMs protected under this SLA domain.
      numManagedVolumes:
        type: integer
        format: int32
        description: The number of Managed volumes protected under this SLA domain.
      numLinuxHosts:
        type: integer
        format: int32
        description: The number of linux servers, with a fileset, protected under
          this SLA domain.
      numShares:
        type: integer
        format: int32
        description: The number of shares protected under this SLA domain.
      numWindowsHosts:
        type: integer
        format: int32
        description: The number of windows servers, with a fileset, protected under
          this SLA domain.
      numVms:
        type: integer
        format: int32
      isDefault:
        type: boolean
      uiColor:
        type: string
  SlaDomainSummaryListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/SlaDomainSummary'
      total:
        type: integer
        description: Total list responses
  SlaFrequency:
    type: object
    required:
    - timeUnit
    - frequency
    - retention
    properties:
      timeUnit:
        type: string
        description: Units for frequency and retention. Accepted values are Hourly,
          Daily, Weekly, Monthly, and Yearly.
      frequency:
        type: integer
        format: int32
      retention:
        type: integer
        format: int32
  SlaStartTimeAttributes:
    type: object
    required:
    - minutes
    - hour
    properties:
      minutes:
        type: integer
        format: int32
      hour:
        type: integer
        format: int32
      dayOfWeek:
        type: integer
        format: int32
  Snappable:
    allOf:
    - $ref: '#/definitions/SlaAssignable'
    - type: object
      required:
      - effectiveSlaDomainId
      - effectiveSlaDomainName
      - slaAssignment
      properties:
        slaAssignment:
          enum:
          - Derived
          - Direct
          - Unassigned
          type: string
          description: SLA assignment type
        effectiveSlaDomainId:
          type: string
          description: ID of the effective SLA domain
        effectiveSlaDomainName:
          type: string
          description: name of the effective SLA domain
        effectiveSlaSourceObjectId:
          type: string
          description: ID of the object from which the effective SLA domain is inherited
        effectiveSlaSourceObjectName:
          type: string
          description: Name of the object from which the effective SLA domain is inherited
  Status:
    type: object
    required:
    - status
    properties:
      status:
        type: string
      description:
        type: string
  UpdateMountConfig:
    type: object
    required:
    - powerStatus
    properties:
      powerStatus:
        type: boolean
        description: True to power on, false to power off
  VcenterConfig:
    type: object
    required:
    - hostname
    - username
    - password
    properties:
      hostname:
        type: string
      username:
        type: string
      password:
        type: string
        x-secret: true
      conflictResolutionAuthz:
        type: string
        enum:
        - AllowAutoConflictResolution
        - NoConflictResolution
        description: Set to 'AllowAutoConflictResolution' to link the relic virtual
          machine objects of a virtual machine to the current object for the virtual
          machine or to 'NoConflictResolution' to prevent linking. The Rubrik cluster
          generates a unique ID for each virtual machine when a vCenter Server is
          added. When a virtual machine changes to another vCenter Server or unregisters
          and registers with the same vCenter Server, a new unique ID is generated
          for that virtual machine. When this happens, the virtual machine object
          associated with the original ID becomes a relic. This option links relic
          virtual machine objects with the current virtual machine object of a specific
          virtual machine, and makes the collective snapshot history available through
          the current object. Default value is 'NoConflictResolution'.
      caCerts:
        type: string
        description: Concatenated X.509 certificates in Base64 encoded DER format.
          Each certificate must start with -----BEGIN CERTIFICATE----- and end with
          -----END CERTIFICATE-----.
  VcenterDetail:
    allOf:
    - $ref: '#/definitions/VcenterSummary'
    - type: object
      required:
      - status
      properties:
        status:
          type: string
          description: Status of a vCenter Server. Possible values are "Disconnected"
            (no communication possible with vCenter Server), "Refreshing" (communication
            with vCenter Server but has not refreshed yet), "Connected" (refreshed
            the metadata for the vCenter Server object), and "Deleting" (removing
            the vCenter Server object).
  VcenterPatch:
    type: object
    properties:
      caCerts:
        type: string
        description: Concatenated X.509 certificates in Base64 encoded DER format.
          Each certificate must start with -----BEGIN CERTIFICATE----- and end with
          -----END CERTIFICATE-----. Use an empty string to remove the existing certificates
          for the vCenter.
      configuredSlaDomainId:
        type: string
        description: ID of the SLA Domain that is configured for this vCenter Server.
  VcenterSummary:
    allOf:
    - $ref: '#/definitions/VcenterPatch'
    - $ref: '#/definitions/SlaAssignable'
    - type: object
      required:
      - hostname
      - username
      properties:
        hostname:
          type: string
        username:
          type: string
        conflictResolutionAuthz:
          type: string
          enum:
          - AllowAutoConflictResolution
          - NoConflictResolution
          description: Set to 'AllowAutoConflictResolution' to link the relic virtual
            machine objects of a virtual machine to the current object for the virtual
            machine or to 'NoConflictResolution' to prevent linking. The Rubrik cluster
            generates a unique ID for each virtual machine when a vCenter Server is
            added. When a virtual machine changes to another vCenter Server or unregisters
            and registers with the same vCenter Server, a new unique ID is generated
            for that virtual machine. When this happens, the virtual machine object
            associated with the original ID becomes a relic. This option links relic
            virtual machine objects with the current virtual machine object of a specific
            virtual machine, and makes the collective snapshot history available through
            the current object. Default value is 'NoConflictResolution'.
  VcenterSummaryListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/VcenterSummary'
      total:
        type: integer
        description: Total list responses
  VirtualDiskDetail:
    type: object
    properties:
      id:
        type: string
      fileName:
        type: string
      deviceKey:
        type: integer
        format: int64
        description: Unique and reusable key that vSphere uses to identify VMDK files
          and other devices in the hardware of a virtual machine.
      size:
        type: integer
        format: int64
      excludeFromSnapshots:
        type: boolean
  VirtualDiskUpdate:
    type: object
    properties:
      excludeFromSnapshots:
        type: boolean
  VirtualMachineDetail:
    allOf:
    - $ref: '#/definitions/VirtualMachineUpdate'
    - $ref: '#/definitions/VirtualMachineSummary'
    - type: object
      required:
      - effectiveSlaDomain
      - blackoutWindowStatus
      - blackoutWindows
      - maxNestedVsphereSnapshots
      - physicalStorage
      - isArrayIntegrationPossible
      - isArrayIntegrationEnabled
      properties:
        effectiveSlaDomain:
          $ref: '#/definitions/SlaDomainSummary'
        blackoutWindowStatus:
          $ref: '#/definitions/BlackoutWindowStatus'
        blackoutWindows:
          $ref: '#/definitions/BlackoutWindows'
        currentHost:
          $ref: '#/definitions/VmwareHostSummary'
        virtualDiskIds:
          type: array
          items:
            type: string
        snapshots:
          type: array
          items:
            $ref: '#/definitions/VmSnapshotSummary'
        snapshotCount:
          type: integer
          format: int32
        maxNestedVsphereSnapshots:
          type: integer
          format: int32
        physicalStorage:
          type: integer
          format: int64
        guestOsName:
          type: string
        isArrayIntegrationPossible:
          type: boolean
          description: Whether it is possible to ingest using storage array snapshots
            for this VM. Array based ingest is possible if all of a VM's disks are
            located on a datastore backed by a configured storage array.
        isArrayIntegrationEnabled:
          type: boolean
          description: User setting to dictate whether to use storage array snaphots
            for ingest. This setting only makes sense for VMs where array based ingest
            is possible.
        guestCredential:
          $ref: '#/definitions/BaseGuestCredentialDetail'
        isAgentRegistered:
          type: boolean
          description: Whether the agent is installed and Rubrik service is registered.
  VirtualMachineScriptDetail:
    type: object
    required:
    - scriptPath
    - timeoutMs
    - failureHandling
    properties:
      scriptPath:
        type: string
        description: The command to be run in VM guest OS
      timeoutMs:
        type: integer
        format: int64
        description: Time (in ms) after which the script will be terminated if it
          has not completed
      failureHandling:
        enum:
        - abort
        - continue
        type: string
        description: Action to take if the script returns an error or times out.
  VirtualMachineSummary:
    allOf:
    - $ref: '#/definitions/Snappable'
    - type: object
      required:
      - vcenterId
      - hostId
      - isReplicationEnabled
      - folderPath
      - infraPath
      - vmwareToolsInstalled
      - isRelic
      - snapshotConsistencyMandate
      - guestCredentialAuthorizationStatus
      - moid
      - ipAddress
      properties:
        moid:
          type: string
        vcenterId:
          type: string
        hostName:
          type: string
        hostId:
          type: string
        clusterName:
          type: string
        snapshotConsistencyMandate:
          type: string
          description: Consistency level mandated for this VM or empty string for
            none.
          enum:
          - UNKNOWN
          - INCONSISTENT
          - CRASH_CONSISTENT
          - FILE_SYSTEM_CONSISTENT
          - VSS_CONSISTENT
          - APP_CONSISTENT
        powerStatus:
          type: string
          description: The power status of VM(ON,OFF,SLEEP etc.)
        protectionDate:
          type: string
          format: date-time
        ipAddress:
          type: string
        toolsInstalled:
          type: boolean
        isReplicationEnabled:
          type: boolean
        folderPath:
          type: array
          description: Brief info of all the objects in the folder path to this VM
          items:
            $ref: '#/definitions/VmPathPoint'
        infraPath:
          type: array
          description: Brief info of all the objects in the infrastructure path to
            this VM
          items:
            $ref: '#/definitions/VmPathPoint'
        vmwareToolsInstalled:
          type: boolean
        isRelic:
          type: boolean
        guestCredentialAuthorizationStatus:
          description: 'Status of authentication with a specific virtual machine using
            guest credentials. Possible values are: SUCCESSFUL, PENDING, or FAILED.'
          type: string
        cloudInstantiationSpec:
          $ref: '#/definitions/CloudInstantiationSpec'
          description: Cloud instantiation specification for the selected virtual
            machine.
  VirtualMachineSummaryListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/VirtualMachineSummary'
      total:
        type: integer
        description: Total list responses
  VirtualMachineUpdate:
    type: object
    properties:
      maxNestedVsphereSnapshots:
        type: integer
        format: int32
      isVmPaused:
        type: boolean
        description: Whether to pause or resume backups/archival for this VM
      configuredSlaDomainId:
        type: string
        description: Assign this VM to the given SLA domain.
      snapshotConsistencyMandate:
        type: string
        description: Consistency level mandated for this VM or empty string for none.
        enum:
        - UNKNOWN
        - INCONSISTENT
        - CRASH_CONSISTENT
        - FILE_SYSTEM_CONSISTENT
        - VSS_CONSISTENT
        - APP_CONSISTENT
      preBackupScript:
        $ref: '#/definitions/VirtualMachineScriptDetail'
      postSnapScript:
        $ref: '#/definitions/VirtualMachineScriptDetail'
      postBackupScript:
        $ref: '#/definitions/VirtualMachineScriptDetail'
      isArrayIntegrationEnabled:
        type: boolean
        description: User setting to dictate whether to use storage array snaphots
          for ingest. This setting only makes sense for VMs where array based ingest
          is possible.
      cloudInstantiationSpec:
        $ref: '#/definitions/CloudInstantiationSpec'
        description: Cloud instantiation specification for the selected virtual machine.
  VirtualMachineUpdateWithSecret:
    allOf:
    - $ref: '#/definitions/VirtualMachineUpdate'
    - type: object
      properties:
        guestCredential:
          $ref: '#/definitions/BaseGuestCredential'
  VmGuestScriptRunConfig:
    type: object
    required:
    - phase
    properties:
      phase:
        enum:
        - PreBackup
        - PostSnap
        - PostBackup
        type: string
        description: Run the script configured (if any) for this phase
  VmPathPoint:
    type: object
    required:
    - id
    - managedId
    - name
    properties:
      id:
        type: string
        description: ID of the object
      managedId:
        type: string
        description: (Deprecated) - See **id**
      name:
        type: string
        description: Name of the object
  VmSnapshotDetail:
    allOf:
    - $ref: '#/definitions/BaseSnapshotDetail'
    - type: object
      required:
      - vmName
      properties:
        virtualMachine:
          $ref: '#/definitions/VirtualMachineSummary'
        vmName:
          type: string
        snapshotDiskIds:
          type: array
          items:
            type: string
  VmSnapshotSummary:
    allOf:
    - $ref: '#/definitions/BaseSnapshotSummary'
    - type: object
      required:
      - vmName
      properties:
        vmName:
          type: string
  VmSnapshotSummaryListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/VmSnapshotSummary'
      total:
        type: integer
        description: Total list responses
  VmwareHostDetail:
    allOf:
    - $ref: '#/definitions/VmwareHostUpdate'
    - $ref: '#/definitions/VmwareHostSummary'
    - type: object
      properties:
        moid:
          type: string
        computeClusterId:
          type: string
        datacenter:
          $ref: '#/definitions/DataCenterSummary'
        datastores:
          type: array
          items:
            $ref: '#/definitions/DataStoreSummary'
        virtualMachines:
          type: array
          items:
            $ref: '#/definitions/VirtualMachineSummary'
  VmwareHostSummary:
    allOf:
    - $ref: '#/definitions/SlaAssignable'
    - type: object
      required:
      - datacenterId
      properties:
        datacenterId:
          type: string
        computeClusterId:
          type: string
        datastores:
          type: array
          items:
            $ref: '#/definitions/DataStoreSummary'
  VmwareHostSummaryListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/VmwareHostSummary'
      total:
        type: integer
        description: Total list responses
  VmwareHostUpdate:
    type: object
    properties:
      configuredSlaDomainId:
        type: string
        description: ID of the SLA Domain that is configured for this ESXi hypervisor.
  VmwareVmMountSummaryV1:
    type: object
    required:
    - id
    - snapshotDate
    - vmId
    - vmName
    - isReady
    properties:
      id:
        type: string
      snapshotDate:
        type: string
        format: date-time
      vmId:
        type: string
      vmName:
        type: string
      mountedVmId:
        type: string
      hostId:
        type: string
      isReady:
        type: boolean
      mountRequestId:
        type: string
      unmountRequestId:
        type: string
  VmwareVmMountDetailV1:
    allOf:
    - $ref: '#/definitions/VmwareVmMountSummaryV1'
    type: object
    properties:
      powerStatus:
        type: string
        description: The power status of the mounted VM(ON,OFF,SLEEP etc.)
  VmwareVmMountSummaryV1ListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/VmwareVmMountSummaryV1'
      total:
        type: integer
        description: Total list responses
  WindowsClusterDetail:
    allOf:
    - $ref: '#/definitions/WindowsClusterSummary'
    - type: object
      required:
      - naturalId
      properties:
        naturalId:
          type: string
          description: Obtained from ClusterInstanceID under the registry key HKLM\Cluster.
  WindowsClusterSummary:
    type: object
    required:
    - id
    - name
    - fqdn
    - hostIds
    - primaryClusterId
    properties:
      id:
        type: string
      name:
        type: string
      fqdn:
        type: string
        description: Fully qualified domain name of this cluster.
      hostIds:
        type: array
        description: IDs of the hosts in this cluster.
        items:
          type: string
      primaryClusterId:
        type: string
  WindowsClusterSummaryListResponse:
    type: object
    properties:
      hasMore:
        type: boolean
        description: If there is more
      data:
        type: array
        description: List of matching objects
        items:
          $ref: '#/definitions/WindowsClusterSummary'
      total:
        type: integer
        description: Total list responses
